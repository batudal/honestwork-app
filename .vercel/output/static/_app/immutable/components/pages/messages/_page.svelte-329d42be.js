import{S as el,i as tl,ao as vs,k as c,a as w,e as Be,l as d,m as v,h as n,c as E,p as ve,b as C,g as ht,t as Re,d as pt,f as je,M as lt,a2 as Xe,q as P,r as j,n as f,I as l,u as fe,O as se,a3 as Ne,F as Ae,J as _e,K as xe,C as Ke,_ as ll,af as ct,s as cl,a4 as mt,ag as Et,ai as _l,aj as hl,x as At,y as $t,z as Mt,A as Nt,v as zt,W as xt,N as _s,o as hs,ae as ps}from"../../../chunks/paths-5beb49a4.js";import{g as sl,n as pl,i as is,t as Qe,j as ms,k as gs,u as ks,l as bs}from"../../../chunks/Network-160a1d39.js";import{s as ws}from"../../../chunks/Shortcut-6feda954.js";import{S as cs}from"../../../chunks/Svroller.svelte_svelte_type_style_lang-b5f72f7a.js";import{s as dt,h as jt,i as vt,d as vl,a as ds}from"../../../chunks/Constants-5b29a8f4.js";import{f as Pe,p as _t}from"../../../chunks/index-7f7c0075.js";import{J as Es}from"../../../chunks/ArrowUp.svelte_svelte_type_style_lang-baa204d5.js";import{a as ys,J as Il}from"../../../chunks/State-2b27296f.js";import{p as qt}from"../../../chunks/shared-52caabc7.js";import{C as St,e as Kt,a as fs}from"../../../chunks/ABI-4946eaeb.js";function Is(a){let e,t,s=a[8](a[0].sent)+"",o,i,r,u,_,h=a[0].content+"",p;return{c(){e=c("div"),t=c("div"),o=P(s),i=w(),r=c("div"),u=c("div"),_=c("div"),p=P(h),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=v(e);t=d(g,"DIV",{class:!0});var O=v(t);o=j(O,s),O.forEach(n),g.forEach(n),i=E(m),r=d(m,"DIV",{class:!0});var S=v(r);u=d(S,"DIV",{class:!0});var y=v(u);_=d(y,"DIV",{class:!0});var b=v(_);p=j(b,h),b.forEach(n),y.forEach(n),S.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","peer-date svelte-17dcvqg"),f(_,"class","body-text light-80"),f(u,"class","message-contents gray-line svelte-17dcvqg"),f(r,"class","peer-message svelte-17dcvqg")},m(m,g){C(m,e,g),l(e,t),l(t,o),C(m,i,g),C(m,r,g),l(r,u),l(u,_),l(_,p)},p(m,g){g&1&&s!==(s=m[8](m[0].sent)+"")&&fe(o,s),g&1&&h!==(h=m[0].content+"")&&fe(p,h)},i:se,o:se,d(m){m&&n(e),m&&n(i),m&&n(r)}}}function Ds(a){let e,t,s=a[8](a[0].sent)+"",o,i,r,u,_,h=a[0].content+"",p;return{c(){e=c("div"),t=c("div"),o=P(s),i=w(),r=c("div"),u=c("div"),_=c("div"),p=P(h),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=v(e);t=d(g,"DIV",{class:!0});var O=v(t);o=j(O,s),O.forEach(n),g.forEach(n),i=E(m),r=d(m,"DIV",{class:!0});var S=v(r);u=d(S,"DIV",{class:!0});var y=v(u);_=d(y,"DIV",{class:!0});var b=v(_);p=j(b,h),b.forEach(n),y.forEach(n),S.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","date svelte-17dcvqg"),f(_,"class","body-text light-80"),f(u,"class","message-contents yellow-line svelte-17dcvqg"),f(r,"class","self-message svelte-17dcvqg")},m(m,g){C(m,e,g),l(e,t),l(t,o),C(m,i,g),C(m,r,g),l(r,u),l(u,_),l(_,p)},p(m,g){g&1&&s!==(s=m[8](m[0].sent)+"")&&fe(o,s),g&1&&h!==(h=m[0].content+"")&&fe(p,h)},i:se,o:se,d(m){m&&n(e),m&&n(i),m&&n(r)}}}function Vs(a){let e,t,s,o;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("incompatible message format"),this.h()},l(i){e=d(i,"DIV",{class:!0});var r=v(e);t=d(r,"DIV",{class:!0});var u=v(t);s=d(u,"P",{class:!0});var _=v(s);o=j(_,"incompatible message format"),_.forEach(n),u.forEach(n),r.forEach(n),this.h()},h(){f(s,"class","red"),f(t,"class","message-contents yellow-line svelte-17dcvqg"),f(e,"class","self-message svelte-17dcvqg")},m(i,r){C(i,e,r),l(e,t),l(t,s),l(s,o)},p:se,i:se,o:se,d(i){i&&n(e)}}}function Ps(a){let e,t,s=a[8](a[0].sent)+"",o,i,r,u,_,h,p,m,g=a[3].type+"",O,S,y,b,D,q,V,A,k=a[5]&&Dl(a);return{c(){e=c("div"),t=c("div"),o=P(s),i=w(),r=c("div"),u=c("div"),_=w(),h=c("div"),p=c("div"),m=c("p"),O=P(g),S=w(),y=c("img"),D=w(),k&&k.c(),this.h()},l(I){e=d(I,"DIV",{class:!0});var M=v(e);t=d(M,"DIV",{class:!0});var N=v(t);o=j(N,s),N.forEach(n),M.forEach(n),i=E(I),r=d(I,"DIV",{class:!0});var $=v(r);u=d($,"DIV",{class:!0}),v(u).forEach(n),_=E($),h=d($,"DIV",{class:!0});var J=v(h);p=d(J,"DIV",{class:!0});var Q=v(p);m=d(Q,"P",{class:!0});var R=v(m);O=j(R,g),R.forEach(n),S=E(Q),y=d(Q,"IMG",{src:!0,alt:!0}),Q.forEach(n),D=E(J),k&&k.l(J),J.forEach(n),$.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","date  svelte-17dcvqg"),f(u,"class","date svelte-17dcvqg"),f(m,"class","yellow"),Ne(y.src,b=`${Ae}/icons/chevron_${a[5]?"active":"passive"}.svg`)||f(y,"src",b),f(y,"alt","arrow-right"),f(p,"class","meta-message-header svelte-17dcvqg"),f(h,"class","meta-message-contents svelte-17dcvqg"),f(r,"class","self-meta-message svelte-17dcvqg")},m(I,M){C(I,e,M),l(e,t),l(t,o),C(I,i,M),C(I,r,M),l(r,u),l(r,_),l(r,h),l(h,p),l(p,m),l(m,O),l(p,S),l(p,y),l(h,D),k&&k.m(h,null),q=!0,V||(A=[_e(p,"click",a[10]),_e(p,"keydown",a[9])],V=!0)},p(I,M){(!q||M&1)&&s!==(s=I[8](I[0].sent)+"")&&fe(o,s),(!q||M&8)&&g!==(g=I[3].type+"")&&fe(O,g),(!q||M&32&&!Ne(y.src,b=`${Ae}/icons/chevron_${I[5]?"active":"passive"}.svg`))&&f(y,"src",b),I[5]?k?(k.p(I,M),M&32&&je(k,1)):(k=Dl(I),k.c(),je(k,1),k.m(h,null)):k&&(ht(),Re(k,1,1,()=>{k=null}),pt())},i(I){q||(je(k),q=!0)},o(I){Re(k),q=!1},d(I){I&&n(e),I&&n(i),I&&n(r),k&&k.d(),V=!1,xe(A)}}}function Dl(a){let e,t,s,o;const i=[Ms,$s,As,Ss,qs,js],r=[];function u(_,h){return _[3].type=="job offer"?0:_[3].type=="job acceptance"?1:_[3].type=="job execution"?2:_[3].type=="new payment"?3:_[3].type=="payment claimed"?4:_[3].type=="job cancelled"?5:-1}return~(e=u(a))&&(t=r[e]=i[e](a)),{c(){t&&t.c(),s=Be()},l(_){t&&t.l(_),s=Be()},m(_,h){~e&&r[e].m(_,h),C(_,s,h),o=!0},p(_,h){let p=e;e=u(_),e===p?~e&&r[e].p(_,h):(t&&(ht(),Re(r[p],1,1,()=>{r[p]=null}),pt()),~e?(t=r[e],t?t.p(_,h):(t=r[e]=i[e](_),t.c()),je(t,1),t.m(s.parentNode,s)):t=null)},i(_){o||(je(t),o=!0)},o(_){Re(t),o=!1},d(_){~e&&r[e].d(_),_&&n(s)}}}function js(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=a[3].withdrawn_amount+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("withdrawn amount:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"withdrawn amount:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=L[3].withdrawn_amount+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function qs(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=a[3].installment+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("installment:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"installment:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=L[3].installment+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function Ss(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=Pe(a[3].installment)+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("installment:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"installment:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=Pe(L[3].installment)+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function As(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=Pe(a[3].downpayment)+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("downpayment:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"downpayment:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=Pe(L[3].downpayment)+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function $s(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=Pe(a[3].downpayment)+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("downpayment:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"downpayment:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=Pe(L[3].downpayment)+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function Ms(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k=a[3].network+"",I,M,N,$,J,Q,R,U,H=a[3].token+"",re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de=Pe(a[3].total_amount)+"",ge,Ee,K,oe,Ve,ye,G,pe,X=Pe(a[3].downpayment)+"",ne,Z,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("job:"),i=w(),r=c("a"),u=c("p"),_=P("linked job"),h=w(),p=c("div"),m=w(),g=c("img"),y=w(),b=c("div"),D=c("p"),q=P("network:"),V=w(),A=c("p"),I=P(k),M=w(),N=c("div"),$=c("p"),J=P("token:"),Q=w(),R=c("div"),U=c("p"),re=P(H),be=w(),ae=c("div"),he=w(),x=c("img"),ke=w(),W=c("div"),le=c("p"),Y=P("total amount:"),te=w(),ee=c("p"),B=P("$"),ge=P(de),Ee=w(),K=c("div"),oe=c("p"),Ve=P("downpayment:"),ye=w(),G=c("p"),pe=P("$"),ne=P(X),this.h()},l(L){e=d(L,"DIV",{class:!0});var T=v(e);t=d(T,"DIV",{class:!0});var qe=v(t);s=d(qe,"P",{class:!0});var ze=v(s);o=j(ze,"job:"),ze.forEach(n),i=E(qe),r=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=v(r);u=d(ce,"P",{});var Te=v(u);_=j(Te,"linked job"),Te.forEach(n),h=E(ce),p=d(ce,"DIV",{style:!0}),v(p).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),y=E(T),b=d(T,"DIV",{class:!0});var $e=v(b);D=d($e,"P",{class:!0});var Je=v(D);q=j(Je,"network:"),Je.forEach(n),V=E($e),A=d($e,"P",{});var We=v(A);I=j(We,k),We.forEach(n),$e.forEach(n),M=E(T),N=d(T,"DIV",{class:!0});var Ie=v(N);$=d(Ie,"P",{class:!0});var Oe=v($);J=j(Oe,"token:"),Oe.forEach(n),Q=E(Ie),R=d(Ie,"DIV",{class:!0});var me=v(R);U=d(me,"P",{});var He=v(U);re=j(He,H),He.forEach(n),be=E(me),ae=d(me,"DIV",{style:!0}),v(ae).forEach(n),he=E(me),x=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),Ie.forEach(n),ke=E(T),W=d(T,"DIV",{class:!0});var De=v(W);le=d(De,"P",{class:!0});var Ye=v(le);Y=j(Ye,"total amount:"),Ye.forEach(n),te=E(De),ee=d(De,"P",{});var Me=v(ee);B=j(Me,"$"),ge=j(Me,de),Me.forEach(n),De.forEach(n),Ee=E(T),K=d(T,"DIV",{class:!0});var Se=v(K);oe=d(Se,"P",{class:!0});var Ue=v(oe);Ve=j(Ue,"downpayment:"),Ue.forEach(n),ye=E(Se),G=d(Se,"P",{});var Ge=v(G);pe=j(Ge,"$"),ne=j(Ge,X),Ge.forEach(n),Se.forEach(n),T.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(p,"width","4px"),Ne(g.src,O=`${Ae}/icons/external.svg`)||f(g,"src",O),f(g,"alt","arrow-right"),f(r,"class","token-link svelte-17dcvqg"),f(r,"href",S=`${Ke}/job/${a[3].recruiter}/${a[3].job_id}`),f(r,"target","_blank"),f(r,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(D,"class","light-60"),f(b,"class","dropdown-item svelte-17dcvqg"),f($,"class","light-60"),ve(ae,"width","4px"),Ne(x.src,Ce=`${Ae}/icons/external.svg`)||f(x,"src",Ce),f(x,"alt","arrow-right"),f(R,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(le,"class","light-60"),f(W,"class","dropdown-item svelte-17dcvqg"),f(oe,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(L,T){C(L,e,T),l(e,t),l(t,s),l(s,o),l(t,i),l(t,r),l(r,u),l(u,_),l(r,h),l(r,p),l(r,m),l(r,g),l(e,y),l(e,b),l(b,D),l(D,q),l(b,V),l(b,A),l(A,I),l(e,M),l(e,N),l(N,$),l($,J),l(N,Q),l(N,R),l(R,U),l(U,re),l(R,be),l(R,ae),l(R,he),l(R,x),l(e,ke),l(e,W),l(W,le),l(le,Y),l(W,te),l(W,ee),l(ee,B),l(ee,ge),l(e,Ee),l(e,K),l(K,oe),l(oe,Ve),l(K,ye),l(K,G),l(G,pe),l(G,ne),z=!0},p(L,T){(!z||T&8&&S!==(S=`${Ke}/job/${L[3].recruiter}/${L[3].job_id}`))&&f(r,"href",S),(!z||T&8)&&k!==(k=L[3].network+"")&&fe(I,k),(!z||T&8)&&H!==(H=L[3].token+"")&&fe(re,H),(!z||T&8)&&de!==(de=Pe(L[3].total_amount)+"")&&fe(ge,de),(!z||T&8)&&X!==(X=Pe(L[3].downpayment)+"")&&fe(ne,X)},i(L){z||(ll(()=>{Z||(Z=ct(e,dt,{},!0)),Z.run(1)}),z=!0)},o(L){Z||(Z=ct(e,dt,{},!1)),Z.run(0),z=!1},d(L){L&&n(e),L&&Z&&Z.end()}}}function Vl(a){let e;return{c(){e=c("div"),this.h()},l(t){e=d(t,"DIV",{style:!0}),v(e).forEach(n),this.h()},h(){ve(e,"height","12px")},m(t,s){C(t,e,s)},d(t){t&&n(e)}}}function Ns(a){let e,t,s,o,i,r,u;const _=[Ps,Vs,Ds,Is],h=[];function p(g,O){return g[7]&&g[4]?0:g[7]&&!g[4]?1:g[0].senderAddress==g[6]?2:3}s=p(a),o=h[s]=_[s](a);let m=a[1]==a[2]-1&&Vl();return{c(){e=c("div"),t=w(),o.c(),i=w(),m&&m.c(),r=Be(),this.h()},l(g){e=d(g,"DIV",{style:!0}),v(e).forEach(n),t=E(g),o.l(g),i=E(g),m&&m.l(g),r=Be(),this.h()},h(){ve(e,"height","12px")},m(g,O){C(g,e,O),C(g,t,O),h[s].m(g,O),C(g,i,O),m&&m.m(g,O),C(g,r,O),u=!0},p(g,[O]){let S=s;s=p(g),s===S?h[s].p(g,O):(ht(),Re(h[S],1,1,()=>{h[S]=null}),pt(),o=h[s],o?o.p(g,O):(o=h[s]=_[s](g),o.c()),je(o,1),o.m(i.parentNode,i)),g[1]==g[2]-1?m||(m=Vl(),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},i(g){u||(je(o),u=!0)},o(g){Re(o),u=!1},d(g){g&&n(e),g&&n(t),h[s].d(g),g&&n(i),m&&m.d(g),g&&n(r)}}}function Cs(a,e,t){let s;lt(a,sl,y=>t(6,s=y));let{message:o}=e,{index:i}=e,{array_length:r}=e,u,_=!1,h=o.content.startsWith("Meta:"),p=!1;const m=y=>new Date(y).toLocaleString(),g=y=>{let b=y.split(":").slice(1,y.length).join(":");try{t(3,u=JSON.parse(b)),t(4,_=!0)}catch(D){console.log("Error parsing meta message: ",D)}};function O(y){Xe.call(this,a,y)}const S=()=>t(5,p=!p);return a.$$set=y=>{"message"in y&&t(0,o=y.message),"index"in y&&t(1,i=y.index),"array_length"in y&&t(2,r=y.array_length)},a.$$.update=()=>{a.$$.dirty&1&&h&&g(o.content)},[o,i,r,u,_,p,s,h,m,O,S]}class Ts extends el{constructor(e){super(),tl(this,e,Cs,Ns,vs,{message:0,index:1,array_length:2})}}function Pl(a,e,t){const s=a.slice();return s[12]=e[t][0],s[13]=e[t][1],s}function jl(a,e,t){const s=a.slice();return s[12]=e[t][0],s[13]=e[t][1],s}function Os(a){let e,t,s,o=Object.entries(a[2]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Sl(Pl(a,o,u));let r=a[1]=="recruiter"&&Al(a);return{c(){e=c("main"),t=c("section");for(let u=0;u<i.length;u+=1)i[u].c();s=w(),r&&r.c(),this.h()},l(u){e=d(u,"MAIN",{class:!0});var _=v(e);t=d(_,"SECTION",{class:!0});var h=v(t);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(n),s=E(_),r&&r.l(_),_.forEach(n),this.h()},h(){f(t,"class","svelte-tcl7qb"),f(e,"class","svelte-tcl7qb")},m(u,_){C(u,e,_),l(e,t);for(let h=0;h<i.length;h+=1)i[h].m(t,null);l(e,s),r&&r.m(e,null)},p(u,_){if(_&15){o=Object.entries(u[2]);let h;for(h=0;h<o.length;h+=1){const p=Pl(u,o,h);i[h]?i[h].p(p,_):(i[h]=Sl(p),i[h].c(),i[h].m(t,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}u[1]=="recruiter"?r?r.p(u,_):(r=Al(u),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(u){u&&n(e),mt(i,u),r&&r.d()}}}function Rs(a){let e,t,s,o=Object.entries(a[2]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Ml(jl(a,o,u));let r=a[1]=="creator"&&Nl(a);return{c(){e=c("main"),t=c("section");for(let u=0;u<i.length;u+=1)i[u].c();s=w(),r&&r.c(),this.h()},l(u){e=d(u,"MAIN",{class:!0});var _=v(e);t=d(_,"SECTION",{class:!0});var h=v(t);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(n),s=E(_),r&&r.l(_),_.forEach(n),this.h()},h(){f(t,"class","svelte-tcl7qb"),f(e,"class","svelte-tcl7qb")},m(u,_){C(u,e,_),l(e,t);for(let h=0;h<i.length;h+=1)i[h].m(t,null);l(e,s),r&&r.m(e,null)},p(u,_){if(_&15){o=Object.entries(u[2]);let h;for(h=0;h<o.length;h+=1){const p=jl(u,o,h);i[h]?i[h].p(p,_):(i[h]=Ml(p),i[h].c(),i[h].m(t,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}u[1]=="creator"?r?r.p(u,_):(r=Nl(u),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(u){u&&n(e),mt(i,u),r&&r.d()}}}function ql(a){let e,t,s=a[12]+"",o,i,r;function u(p,m){return p[12]==="token_address"?Us:p[12]==="total_amount"||p[12]==="downpayment"?Ls:p[12]==="job_id"?Fs:Gs}let _=u(a),h=_(a);return{c(){e=c("div"),t=c("p"),o=P(s),i=w(),h.c(),r=w(),this.h()},l(p){e=d(p,"DIV",{class:!0});var m=v(e);t=d(m,"P",{class:!0});var g=v(t);o=j(g,s),g.forEach(n),i=E(m),h.l(m),r=E(m),m.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","info svelte-tcl7qb")},m(p,m){C(p,e,m),l(e,t),l(t,o),l(e,i),h.m(e,null),l(e,r)},p(p,m){m&4&&s!==(s=p[12]+"")&&fe(o,s),_===(_=u(p))&&h?h.p(p,m):(h.d(1),h=_(p),h&&(h.c(),h.m(e,r)))},d(p){p&&n(e),h.d()}}}function Gs(a){let e,t=a[13]+"",s;return{c(){e=c("p"),s=P(t)},l(o){e=d(o,"P",{});var i=v(e);s=j(i,t),i.forEach(n)},m(o,i){C(o,e,i),l(e,s)},p(o,i){i&4&&t!==(t=o[13]+"")&&fe(s,t)},d(o){o&&n(e)}}}function Fs(a){let e,t,s,o,i,r,u,_,h;return{c(){e=c("a"),t=c("p"),s=P("linked job"),o=w(),i=c("div"),r=w(),u=c("img"),this.h()},l(p){e=d(p,"A",{class:!0,href:!0});var m=v(e);t=d(m,"P",{});var g=v(t);s=j(g,"linked job"),g.forEach(n),o=E(m),i=d(m,"DIV",{style:!0}),v(i).forEach(n),r=E(m),u=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){ve(i,"width","4px"),Ne(u.src,_=`${Ae}/icons/external.svg`)||f(u,"src",_),f(u,"alt","arrow-right"),f(e,"class","info-value svelte-tcl7qb"),f(e,"href",h=`${Ke}/job/${a[1]=="recruiter"?a[3]:a[0].peerAddress}/${a[13]}`)},m(p,m){C(p,e,m),l(e,t),l(t,s),l(e,o),l(e,i),l(e,r),l(e,u)},p(p,m){m&15&&h!==(h=`${Ke}/job/${p[1]=="recruiter"?p[3]:p[0].peerAddress}/${p[13]}`)&&f(e,"href",h)},d(p){p&&n(e)}}}function Ls(a){let e,t,s=parseFloat(Pe(a[13])).toLocaleString()+"",o;return{c(){e=c("p"),t=P("$"),o=P(s)},l(i){e=d(i,"P",{});var r=v(e);t=j(r,"$"),o=j(r,s),r.forEach(n)},m(i,r){C(i,e,r),l(e,t),l(e,o)},p(i,r){r&4&&s!==(s=parseFloat(Pe(i[13])).toLocaleString()+"")&&fe(o,s)},d(i){i&&n(e)}}}function Us(a){let e,t,s=a[13].toString().substring(0,6)+"..."+a[13].toString().substring(a[13].toString().length-4),o,i,r,u,_,h;return{c(){e=c("a"),t=c("p"),o=P(s),i=w(),r=c("div"),u=w(),_=c("img"),this.h()},l(p){e=d(p,"A",{href:!0,target:!0,rel:!0,class:!0});var m=v(e);t=d(m,"P",{class:!0});var g=v(t);o=j(g,s),g.forEach(n),i=E(m),r=d(m,"DIV",{style:!0}),v(r).forEach(n),u=E(m),_=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){f(t,"class","link"),ve(r,"width","4px"),Ne(_.src,h=Ae+"/icons/external.svg")||f(_,"src",h),f(_,"alt","Token address"),f(e,"href","https://arbiscan.com/"),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","info-value svelte-tcl7qb")},m(p,m){C(p,e,m),l(e,t),l(t,o),l(e,i),l(e,r),l(e,u),l(e,_)},p(p,m){m&4&&s!==(s=p[13].toString().substring(0,6)+"..."+p[13].toString().substring(p[13].toString().length-4))&&fe(o,s)},d(p){p&&n(e)}}}function Sl(a){let e,t=a[12]!="signature"&&ql(a);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,o){t&&t.m(s,o),C(s,e,o)},p(s,o){s[12]!="signature"?t?t.p(s,o):(t=ql(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&n(e)}}}function Al(a){let e,t,s,o,i,r;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("execute agreement"),this.h()},l(u){e=d(u,"DIV",{class:!0});var _=v(e);t=d(_,"DIV",{class:!0});var h=v(t);s=d(h,"P",{});var p=v(s);o=j(p,"execute agreement"),p.forEach(n),h.forEach(n),_.forEach(n),this.h()},h(){f(t,"class","action-button-full yellow link svelte-tcl7qb"),f(e,"class","command-bar svelte-tcl7qb")},m(u,_){C(u,e,_),l(e,t),l(t,s),l(s,o),i||(r=[_e(t,"click",a[4]),_e(t,"keydown",a[8])],i=!0)},p:se,d(u){u&&n(e),i=!1,xe(r)}}}function $l(a){let e,t,s=a[12]+"",o,i,r;function u(p,m){return p[12]==="token_address"?Hs:p[12]==="total_amount"||p[12]==="downpayment"?Ws:p[12]==="job_id"?Js:Bs}let _=u(a),h=_(a);return{c(){e=c("div"),t=c("p"),o=P(s),i=w(),h.c(),r=w(),this.h()},l(p){e=d(p,"DIV",{class:!0});var m=v(e);t=d(m,"P",{class:!0});var g=v(t);o=j(g,s),g.forEach(n),i=E(m),h.l(m),r=E(m),m.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","info svelte-tcl7qb")},m(p,m){C(p,e,m),l(e,t),l(t,o),l(e,i),h.m(e,null),l(e,r)},p(p,m){m&4&&s!==(s=p[12]+"")&&fe(o,s),_===(_=u(p))&&h?h.p(p,m):(h.d(1),h=_(p),h&&(h.c(),h.m(e,r)))},d(p){p&&n(e),h.d()}}}function Bs(a){let e,t=a[13]+"",s;return{c(){e=c("p"),s=P(t)},l(o){e=d(o,"P",{});var i=v(e);s=j(i,t),i.forEach(n)},m(o,i){C(o,e,i),l(e,s)},p(o,i){i&4&&t!==(t=o[13]+"")&&fe(s,t)},d(o){o&&n(e)}}}function Js(a){let e,t,s,o,i,r,u,_,h;return{c(){e=c("a"),t=c("p"),s=P("linked job"),o=w(),i=c("div"),r=w(),u=c("img"),this.h()},l(p){e=d(p,"A",{class:!0,href:!0});var m=v(e);t=d(m,"P",{});var g=v(t);s=j(g,"linked job"),g.forEach(n),o=E(m),i=d(m,"DIV",{style:!0}),v(i).forEach(n),r=E(m),u=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){ve(i,"width","4px"),Ne(u.src,_=`${Ae}/icons/external.svg`)||f(u,"src",_),f(u,"alt","arrow-right"),f(e,"class","info-value svelte-tcl7qb"),f(e,"href",h=`${Ke}/job/${a[1]=="recruiter"?a[3]:a[0].peerAddress}/${a[13]}`)},m(p,m){C(p,e,m),l(e,t),l(t,s),l(e,o),l(e,i),l(e,r),l(e,u)},p(p,m){m&15&&h!==(h=`${Ke}/job/${p[1]=="recruiter"?p[3]:p[0].peerAddress}/${p[13]}`)&&f(e,"href",h)},d(p){p&&n(e)}}}function Ws(a){let e,t,s=parseFloat(Pe(a[13])).toLocaleString()+"",o;return{c(){e=c("p"),t=P("$"),o=P(s)},l(i){e=d(i,"P",{});var r=v(e);t=j(r,"$"),o=j(r,s),r.forEach(n)},m(i,r){C(i,e,r),l(e,t),l(e,o)},p(i,r){r&4&&s!==(s=parseFloat(Pe(i[13])).toLocaleString()+"")&&fe(o,s)},d(i){i&&n(e)}}}function Hs(a){let e,t,s=a[13].toString().substring(0,6)+"..."+a[13].toString().substring(a[13].toString().length-4),o,i,r,u,_,h,p;return{c(){e=c("a"),t=c("p"),o=P(s),i=w(),r=c("div"),u=w(),_=c("img"),this.h()},l(m){e=d(m,"A",{href:!0,target:!0,rel:!0,class:!0});var g=v(e);t=d(g,"P",{class:!0});var O=v(t);o=j(O,s),O.forEach(n),i=E(g),r=d(g,"DIV",{style:!0}),v(r).forEach(n),u=E(g),_=d(g,"IMG",{src:!0,alt:!0}),g.forEach(n),this.h()},h(){f(t,"class","link"),ve(r,"width","4px"),Ne(_.src,h=Ae+"/icons/external.svg")||f(_,"src",h),f(_,"alt","Token address"),f(e,"href",p=`https://arbiscan.com/address/${a[13]}`),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","info-value svelte-tcl7qb")},m(m,g){C(m,e,g),l(e,t),l(t,o),l(e,i),l(e,r),l(e,u),l(e,_)},p(m,g){g&4&&s!==(s=m[13].toString().substring(0,6)+"..."+m[13].toString().substring(m[13].toString().length-4))&&fe(o,s),g&4&&p!==(p=`https://arbiscan.com/address/${m[13]}`)&&f(e,"href",p)},d(m){m&&n(e)}}}function Ml(a){let e,t=a[12]!="signature"&&$l(a);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,o){t&&t.m(s,o),C(s,e,o)},p(s,o){s[12]!="signature"?t?t.p(s,o):(t=$l(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&n(e)}}}function Nl(a){let e,t,s,o,i,r;return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("accept offer"),this.h()},l(u){e=d(u,"DIV",{class:!0});var _=v(e);t=d(_,"DIV",{class:!0});var h=v(t);s=d(h,"P",{});var p=v(s);o=j(p,"accept offer"),p.forEach(n),h.forEach(n),_.forEach(n),this.h()},h(){f(t,"class","action-button-full yellow link svelte-tcl7qb"),f(e,"class","command-bar svelte-tcl7qb")},m(u,_){C(u,e,_),l(e,t),l(t,s),l(s,o),i||(r=[_e(t,"click",a[5]),_e(t,"keydown",a[7])],i=!0)},p:se,d(u){u&&n(e),i=!1,xe(r)}}}function Ys(a){let e;function t(i,r){if(i[2].status=="offered")return Rs;if(i[2].status=="accepted")return Os}let s=t(a),o=s&&s(a);return{c(){o&&o.c(),e=Be()},l(i){o&&o.l(i),e=Be()},m(i,r){o&&o.m(i,r),C(i,e,r)},p(i,[r]){s===(s=t(i))&&o?o.p(i,r):(o&&o.d(1),o=s&&s(i),o&&(o.c(),o.m(e.parentNode,e)))},i:se,o:se,d(i){o&&o.d(i),i&&n(e)}}}function zs(a,e,t){let s,o,i;lt(a,pl,y=>t(9,s=y)),lt(a,sl,y=>t(3,o=y)),lt(a,is,y=>t(10,i=y));let{slot:r}=e,{conversation:u}=e,{role:_}=e,{deal:h}=e;const p=async y=>{try{let q=await(await new St(h.token_address,fs,s).approve(qt.PUBLIC_ESCROW_ADDRESS,y)).wait();q&&q.status==1&&Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>approved ${jt(h.network,h.token_address)}.</p>`)}catch(b){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${b.code}</p>`)}},m=async()=>{const y=_=="recruiter"?o:u.peerAddress;await p(_t(h.total_amount));try{let q=await(await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,s).createDealSignature(o,u.peerAddress,h.token_address,h.total_amount,h.downpayment,i,h.job_id,h.signature)).wait();if(q&&q.status==1){const A=await(await fetch(`/api/auth/login/${o}`,{method:"POST"})).json(),k=await s.signMessage(A),I=`${Ke}/api/execute_deal/${o}/${u.peerAddress}/${k}`,M={slot:r},N=await fetch(I,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});await u.send(`Meta:${JSON.stringify({type:"job execution",network:h.network,token:jt(h.network,h.token_address),token_address:h.token_address,total_amount:h.total_amount,downpayment:h.downpayment,recruiter:y,job_id:h.job_id})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>executed agreement.</p>`)}}catch(b){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${b.code}</p>`)}},g=async()=>{try{const y=new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,s),b=_=="recruiter"?o:u.peerAddress,D=_=="recruiter"?u.peerAddress:o,q=await y.getMessageHash(b,D,h.token_address,h.total_amount,h.downpayment,h.job_id);let V=ys(q),A=await s.signMessage(V);const k=`${Ke}/api/accept_deal/${b}/${D}`;(await fetch(k,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:r,signature:A})})).ok&&(await u.send(`Meta:${JSON.stringify({type:"job acceptance",network:h.network,token:jt(h.network,h.token_address),token_address:h.token_address,total_amount:h.total_amount,downpayment:h.downpayment,recruiter:b,job_id:h.job_id})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>accepted job offer.</p>`))}catch(y){console.log(y),Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${y}</p>`)}};function O(y){Xe.call(this,a,y)}function S(y){Xe.call(this,a,y)}return a.$$set=y=>{"slot"in y&&t(6,r=y.slot),"conversation"in y&&t(0,u=y.conversation),"role"in y&&t(1,_=y.role),"deal"in y&&t(2,h=y.deal)},[u,_,h,o,m,g,r,O,S]}class us extends el{constructor(e){super(),tl(this,e,zs,Ys,cl,{slot:6,conversation:0,role:1,deal:2})}}function Ks(a){let e,t;return{c(){e=c("p"),t=P("n/a")},l(s){e=d(s,"P",{});var o=v(e);t=j(o,"n/a"),o.forEach(n)},m(s,o){C(s,e,o),l(e,t)},p:se,d(s){s&&n(e)}}}function Xs(a){let e,t=(a[7](a[0].recruiterRating)/100).toFixed(2)+"",s,o;return{c(){e=c("p"),s=P(t),o=P("/10")},l(i){e=d(i,"P",{});var r=v(e);s=j(r,t),o=j(r,"/10"),r.forEach(n)},m(i,r){C(i,e,r),l(e,s),l(e,o)},p(i,r){r&1&&t!==(t=(i[7](i[0].recruiterRating)/100).toFixed(2)+"")&&fe(s,t)},d(i){i&&n(e)}}}function Qs(a){let e,t;return{c(){e=c("p"),t=P("n/a")},l(s){e=d(s,"P",{});var o=v(e);t=j(o,"n/a"),o.forEach(n)},m(s,o){C(s,e,o),l(e,t)},p:se,d(s){s&&n(e)}}}function Zs(a){let e,t=a[7](a[0].creatorRating)/100+"",s,o;return{c(){e=c("p"),s=P(t),o=P("/10")},l(i){e=d(i,"P",{});var r=v(e);s=j(r,t),o=j(r,"/10"),r.forEach(n)},m(i,r){C(i,e,r),l(e,s),l(e,o)},p(i,r){r&1&&t!==(t=i[7](i[0].creatorRating)/100+"")&&fe(s,t)},d(i){i&&n(e)}}}function xs(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S;return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("p"),i=P("rating"),r=w(),u=c("div"),_=c("input"),h=w(),p=c("div"),m=c("p"),g=P("claim payment"),this.h()},l(y){e=d(y,"DIV",{class:!0});var b=v(e);t=d(b,"DIV",{class:!0,style:!0});var D=v(t);s=d(D,"DIV",{class:!0});var q=v(s);o=d(q,"P",{});var V=v(o);i=j(V,"rating"),V.forEach(n),q.forEach(n),r=E(D),u=d(D,"DIV",{class:!0});var A=v(u);_=d(A,"INPUT",{type:!0,placeholder:!0,class:!0}),A.forEach(n),D.forEach(n),h=E(b),p=d(b,"DIV",{class:!0});var k=v(p);m=d(k,"P",{});var I=v(m);g=j(I,"claim payment"),I.forEach(n),k.forEach(n),b.forEach(n),this.h()},h(){f(s,"class","placeholder svelte-1p9nql2"),f(_,"type","text"),f(_,"placeholder","0.0/10"),f(_,"class","svelte-1p9nql2"),f(u,"class","flex-input"),f(t,"class","command svelte-1p9nql2"),ve(t,"width","134px"),f(p,"class","action-button yellow link svelte-1p9nql2"),f(e,"class","command-bar svelte-1p9nql2")},m(y,b){C(y,e,b),l(e,t),l(t,s),l(s,o),l(o,i),l(t,r),l(t,u),l(u,_),Et(_,a[1]),l(e,h),l(e,p),l(p,m),l(m,g),O||(S=[_e(_,"input",a[18]),_e(p,"click",a[9]),_e(p,"keydown",a[15])],O=!0)},p(y,b){b&2&&_.value!==y[1]&&Et(_,y[1])},d(y){y&&n(e),O=!1,xe(S)}}}function er(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k,I,M,N,$,J,Q;return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("p"),i=P("amount($)"),r=w(),u=c("div"),_=c("input"),h=w(),p=c("div"),m=c("div"),g=c("p"),O=P("rating"),S=w(),y=c("div"),b=c("input"),D=w(),q=c("div"),V=c("p"),A=P("unlock payment"),k=w(),I=c("div"),M=c("div"),N=c("p"),$=P("cancel and withdraw remaining"),this.h()},l(R){e=d(R,"DIV",{class:!0});var U=v(e);t=d(U,"DIV",{class:!0,style:!0});var H=v(t);s=d(H,"DIV",{class:!0});var re=v(s);o=d(re,"P",{});var be=v(o);i=j(be,"amount($)"),be.forEach(n),re.forEach(n),r=E(H),u=d(H,"DIV",{class:!0});var ae=v(u);_=d(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),ae.forEach(n),H.forEach(n),h=E(U),p=d(U,"DIV",{class:!0,style:!0});var he=v(p);m=d(he,"DIV",{class:!0});var x=v(m);g=d(x,"P",{});var Ce=v(g);O=j(Ce,"rating"),Ce.forEach(n),x.forEach(n),S=E(he),y=d(he,"DIV",{class:!0});var ke=v(y);b=d(ke,"INPUT",{type:!0,placeholder:!0,class:!0}),ke.forEach(n),he.forEach(n),D=E(U),q=d(U,"DIV",{class:!0});var W=v(q);V=d(W,"P",{});var le=v(V);A=j(le,"unlock payment"),le.forEach(n),W.forEach(n),U.forEach(n),k=E(R),I=d(R,"DIV",{class:!0});var Y=v(I);M=d(Y,"DIV",{class:!0});var te=v(M);N=d(te,"P",{});var ee=v(N);$=j(ee,"cancel and withdraw remaining"),ee.forEach(n),te.forEach(n),Y.forEach(n),this.h()},h(){f(s,"class","placeholder svelte-1p9nql2"),f(_,"type","text"),f(_,"placeholder","0"),f(_,"class","svelte-1p9nql2"),f(u,"class","flex-input"),f(t,"class","command svelte-1p9nql2"),ve(t,"width","164px"),f(m,"class","placeholder svelte-1p9nql2"),f(b,"type","text"),f(b,"placeholder","0.0/10"),f(b,"class","svelte-1p9nql2"),f(y,"class","flex-input"),f(p,"class","command svelte-1p9nql2"),ve(p,"width","134px"),f(q,"class","action-button yellow link svelte-1p9nql2"),f(e,"class","command-bar svelte-1p9nql2"),f(M,"class","action-button light-60 link svelte-1p9nql2"),f(I,"class","command-bar svelte-1p9nql2")},m(R,U){C(R,e,U),l(e,t),l(t,s),l(s,o),l(o,i),l(t,r),l(t,u),l(u,_),Et(_,a[2]),l(e,h),l(e,p),l(p,m),l(m,g),l(g,O),l(p,S),l(p,y),l(y,b),Et(b,a[1]),l(e,D),l(e,q),l(q,V),l(V,A),C(R,k,U),C(R,I,U),l(I,M),l(M,N),l(N,$),J||(Q=[_e(_,"input",a[16]),_e(b,"input",a[17]),_e(q,"click",a[8]),_e(q,"keydown",a[14]),_e(M,"click",a[10]),_e(M,"keydown",a[13])],J=!0)},p(R,U){U&4&&_.value!==R[2]&&Et(_,R[2]),U&2&&b.value!==R[1]&&Et(b,R[1])},d(R){R&&n(e),R&&n(k),R&&n(I),J=!1,xe(Q)}}}function tr(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V=vt(a[4])+"",A,k,I,M,N,$,J,Q,R=jt(vt(a[4]),a[0].paymentToken)+"",U,H,re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de,ge,Ee,K,oe,Ve,ye,G,pe,X,ne,Z=parseFloat(Pe(a[0].totalPayment)).toLocaleString()+"",z,L,T,qe,ze,ce,Te,$e,Je=parseFloat(Pe(a[0].claimableAmount)).toLocaleString()+"",We,Ie,Oe,me,He,De,Ye,Me,Se,Ue,Ge,Ot,st,nt,gt,kt=parseFloat(Pe(a[0].totalPayment))-parseFloat(Pe(a[0].claimableAmount))-parseFloat(Pe(a[0].claimedAmount))+"",rt,bt,at,Ct,Rt,et;function Gt(ie,we){return we&1&&(te=null),te==null&&(te=ie[7](ie[0].recruiterRating)>0),te?Xs:Ks}let ft=Gt(a,-1),Ze=ft(a);function it(ie,we){return we&1&&(K=null),K==null&&(K=ie[7](ie[0].creatorRating)>0),K?Zs:Qs}let wt=it(a,-1),tt=wt(a);function Xt(ie,we){if(we&33&&(et=null),ie[3]!=100&&ie[5]==ie[0].recruiter)return er;if(et==null&&(et=ie[5]==ie[0].creator&&ie[6]()>0),et)return xs}let yt=Xt(a,-1),Fe=yt&&yt(a);return{c(){e=c("main"),t=c("section"),s=c("div"),o=c("a"),i=c("p"),r=P("linked job"),u=w(),_=c("div"),h=w(),p=c("img"),O=w(),S=c("div"),y=c("p"),b=P("network"),D=w(),q=c("p"),A=P(V),k=w(),I=c("div"),M=c("p"),N=P("token"),$=w(),J=c("a"),Q=c("p"),U=P(R),H=w(),re=c("div"),be=w(),ae=c("img"),Ce=w(),ke=c("div"),W=c("p"),le=P("recruiter rating"),Y=w(),Ze.c(),ee=w(),B=c("div"),de=c("p"),ge=P("creator rating"),Ee=w(),tt.c(),oe=w(),Ve=c("div"),ye=c("p"),G=P("total amount"),pe=w(),X=c("p"),ne=P("$"),z=P(Z),L=w(),T=c("div"),qe=c("p"),ze=P("claimable amount"),ce=w(),Te=c("p"),$e=P("$"),We=P(Je),Ie=w(),Oe=c("div"),me=c("div"),He=w(),De=c("div"),Ye=w(),Me=c("div"),Se=w(),Ue=c("div"),Ge=c("p"),Ot=P("outstanding payment"),st=w(),nt=c("p"),gt=P("$"),rt=P(kt),bt=w(),at=c("div"),Rt=w(),Fe&&Fe.c(),this.h()},l(ie){e=d(ie,"MAIN",{class:!0});var we=v(e);t=d(we,"SECTION",{class:!0});var Le=v(t);s=d(Le,"DIV",{class:!0});var F=v(s);o=d(F,"A",{href:!0});var ue=v(o);i=d(ue,"P",{});var rl=v(i);r=j(rl,"linked job"),rl.forEach(n),u=E(ue),_=d(ue,"DIV",{style:!0}),v(_).forEach(n),h=E(ue),p=d(ue,"IMG",{src:!0,alt:!0}),ue.forEach(n),F.forEach(n),O=E(Le),S=d(Le,"DIV",{class:!0});var Ft=v(S);y=d(Ft,"P",{class:!0});var Lt=v(y);b=j(Lt,"network"),Lt.forEach(n),D=E(Ft),q=d(Ft,"P",{});var Ut=v(q);A=j(Ut,V),Ut.forEach(n),Ft.forEach(n),k=E(Le),I=d(Le,"DIV",{class:!0});var It=v(I);M=d(It,"P",{class:!0});var Bt=v(M);N=j(Bt,"token"),Bt.forEach(n),$=E(It),J=d(It,"A",{href:!0,target:!0,rel:!0,class:!0});var ut=v(J);Q=d(ut,"P",{class:!0});var al=v(Q);U=j(al,R),al.forEach(n),H=E(ut),re=d(ut,"DIV",{style:!0}),v(re).forEach(n),be=E(ut),ae=d(ut,"IMG",{src:!0,alt:!0}),ut.forEach(n),It.forEach(n),Ce=E(Le),ke=d(Le,"DIV",{class:!0});var Jt=v(ke);W=d(Jt,"P",{class:!0});var Wt=v(W);le=j(Wt,"recruiter rating"),Wt.forEach(n),Y=E(Jt),Ze.l(Jt),Jt.forEach(n),ee=E(Le),B=d(Le,"DIV",{class:!0});var Dt=v(B);de=d(Dt,"P",{class:!0});var ol=v(de);ge=j(ol,"creator rating"),ol.forEach(n),Ee=E(Dt),tt.l(Dt),Dt.forEach(n),oe=E(Le),Ve=d(Le,"DIV",{class:!0});var Vt=v(Ve);ye=d(Vt,"P",{class:!0});var nl=v(ye);G=j(nl,"total amount"),nl.forEach(n),pe=E(Vt),X=d(Vt,"P",{});var Qt=v(X);ne=j(Qt,"$"),z=j(Qt,Z),Qt.forEach(n),Vt.forEach(n),L=E(Le),T=d(Le,"DIV",{class:!0});var Pt=v(T);qe=d(Pt,"P",{class:!0});var Ht=v(qe);ze=j(Ht,"claimable amount"),Ht.forEach(n),ce=E(Pt),Te=d(Pt,"P",{});var Zt=v(Te);$e=j(Zt,"$"),We=j(Zt,Je),Zt.forEach(n),Pt.forEach(n),Ie=E(Le),Oe=d(Le,"DIV",{class:!0});var ot=v(Oe);me=d(ot,"DIV",{style:!0}),v(me).forEach(n),He=E(ot),De=d(ot,"DIV",{class:!0}),v(De).forEach(n),Ye=E(ot),Me=d(ot,"DIV",{style:!0}),v(Me).forEach(n),Se=E(ot),Ue=d(ot,"DIV",{class:!0});var Yt=v(Ue);Ge=d(Yt,"P",{class:!0});var il=v(Ge);Ot=j(il,"outstanding payment"),il.forEach(n),st=E(Yt),nt=d(Yt,"P",{class:!0});var Tt=v(nt);gt=j(Tt,"$"),rt=j(Tt,kt),Tt.forEach(n),Yt.forEach(n),ot.forEach(n),Le.forEach(n),bt=E(we),at=d(we,"DIV",{class:!0,style:!0}),v(at).forEach(n),Rt=E(we),Fe&&Fe.l(we),we.forEach(n),this.h()},h(){ve(_,"width","4px"),Ne(p.src,m=`${Ae}/icons/external.svg`)||f(p,"src",m),f(p,"alt","arrow-right"),f(o,"href",g=`${Ke}/job/${a[0].recruiter}/${a[0].jobId}`),f(s,"class","info svelte-1p9nql2"),f(y,"class","light-60"),f(S,"class","info svelte-1p9nql2"),f(M,"class","light-60"),f(Q,"class","link"),ve(re,"width","4px"),Ne(ae.src,he=Ae+"/icons/external.svg")||f(ae,"src",he),f(ae,"alt","Token address"),f(J,"href",x=`https://arbiscan.com/address/${a[0].paymentToken}`),f(J,"target","_blank"),f(J,"rel","noreferrer"),f(J,"class","info-value svelte-1p9nql2"),f(I,"class","info svelte-1p9nql2"),f(W,"class","light-60"),f(ke,"class","info svelte-1p9nql2"),f(de,"class","light-60"),f(B,"class","info svelte-1p9nql2"),f(ye,"class","light-60"),f(Ve,"class","info svelte-1p9nql2"),f(qe,"class","light-60"),f(T,"class","info svelte-1p9nql2"),ve(me,"height","8px"),f(De,"class","line svelte-1p9nql2"),ve(Me,"height","8px"),f(Ge,"class","light-60"),f(nt,"class","red"),f(Ue,"class","outstanding-row svelte-1p9nql2"),f(Oe,"class","outstanding-container svelte-1p9nql2"),f(t,"class","svelte-1p9nql2"),f(at,"class","progress-line svelte-1p9nql2"),f(at,"style",Ct=`width:${a[3]}%; ${a[3]==100?"border-color: var(--color-success)":""}`),f(e,"class","svelte-1p9nql2")},m(ie,we){C(ie,e,we),l(e,t),l(t,s),l(s,o),l(o,i),l(i,r),l(o,u),l(o,_),l(o,h),l(o,p),l(t,O),l(t,S),l(S,y),l(y,b),l(S,D),l(S,q),l(q,A),l(t,k),l(t,I),l(I,M),l(M,N),l(I,$),l(I,J),l(J,Q),l(Q,U),l(J,H),l(J,re),l(J,be),l(J,ae),l(t,Ce),l(t,ke),l(ke,W),l(W,le),l(ke,Y),Ze.m(ke,null),l(t,ee),l(t,B),l(B,de),l(de,ge),l(B,Ee),tt.m(B,null),l(t,oe),l(t,Ve),l(Ve,ye),l(ye,G),l(Ve,pe),l(Ve,X),l(X,ne),l(X,z),l(t,L),l(t,T),l(T,qe),l(qe,ze),l(T,ce),l(T,Te),l(Te,$e),l(Te,We),l(t,Ie),l(t,Oe),l(Oe,me),l(Oe,He),l(Oe,De),l(Oe,Ye),l(Oe,Me),l(Oe,Se),l(Oe,Ue),l(Ue,Ge),l(Ge,Ot),l(Ue,st),l(Ue,nt),l(nt,gt),l(nt,rt),l(e,bt),l(e,at),l(e,Rt),Fe&&Fe.m(e,null)},p(ie,[we]){we&1&&g!==(g=`${Ke}/job/${ie[0].recruiter}/${ie[0].jobId}`)&&f(o,"href",g),we&16&&V!==(V=vt(ie[4])+"")&&fe(A,V),we&17&&R!==(R=jt(vt(ie[4]),ie[0].paymentToken)+"")&&fe(U,R),we&1&&x!==(x=`https://arbiscan.com/address/${ie[0].paymentToken}`)&&f(J,"href",x),ft===(ft=Gt(ie,we))&&Ze?Ze.p(ie,we):(Ze.d(1),Ze=ft(ie),Ze&&(Ze.c(),Ze.m(ke,null))),wt===(wt=it(ie,we))&&tt?tt.p(ie,we):(tt.d(1),tt=wt(ie),tt&&(tt.c(),tt.m(B,null))),we&1&&Z!==(Z=parseFloat(Pe(ie[0].totalPayment)).toLocaleString()+"")&&fe(z,Z),we&1&&Je!==(Je=parseFloat(Pe(ie[0].claimableAmount)).toLocaleString()+"")&&fe(We,Je),we&1&&kt!==(kt=parseFloat(Pe(ie[0].totalPayment))-parseFloat(Pe(ie[0].claimableAmount))-parseFloat(Pe(ie[0].claimedAmount))+"")&&fe(rt,kt),we&8&&Ct!==(Ct=`width:${ie[3]}%; ${ie[3]==100?"border-color: var(--color-success)":""}`)&&f(at,"style",Ct),yt===(yt=Xt(ie,we))&&Fe?Fe.p(ie,we):(Fe&&Fe.d(1),Fe=yt&&yt(ie),Fe&&(Fe.c(),Fe.m(e,null)))},i:se,o:se,d(ie){ie&&n(e),Ze.d(),tt.d(),Fe&&Fe.d()}}}function lr(a,e,t){let s,o,i,r,u;lt(a,ms,$=>t(4,o=$)),lt(a,pl,$=>t(19,i=$)),lt(a,is,$=>t(20,r=$)),lt(a,sl,$=>t(5,u=$));let{conversation:_}=e,{deal:h}=e,{id:p}=e,m,g;const O=()=>parseFloat(Pe(h.claimableAmount).toString()),S=$=>$.length>0?$.reduce((J,Q)=>parseFloat(J)+parseFloat(Q))/$.length:0,y=async $=>{try{let R=await(await new St(h.paymentToken,fs,i).approve(qt.PUBLIC_ESCROW_ADDRESS,_t($.toString()))).wait();R&&R.status==1&&Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>approved ${jt(vt(o),h.paymentToken)}.</p>`)}catch(J){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${J.code}</p>`)}},b=async()=>{await y(_t(g.toString()));try{let Q=await(await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).unlockPayment(p,_t(g.toString()),m,r)).wait();Q&&Q.status==1&&(await _.send(`Meta:${JSON.stringify({type:"new payment",deal:p,network:vt(o),token:jt(vt(o),h.paymentToken),token_address:h.paymentToken,total_amount:h.totalPayment,installment:_t(g.toString()),job_id:h.jobId,recruiter:h.recruiter})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>payment unlocked</p>`))}catch($){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${$.code}</p>`)}},D=async()=>{try{const Q=await(await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).claimPayment(p,_t(O().toString()),m,r)).wait();Q&&Q.status==1?(await _.send(`Meta:${JSON.stringify({type:"payment claimed",deal:p,network:vt(o),token:jt(vt(o),h.paymentToken),token_address:h.paymentToken,total_amount:h.totalPayment,installment:_t(g.toString()),job_id:h.jobId,recruiter:h.recruiter})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>claimed payment</p>`)):Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>failed to claim payment</p>`)}catch($){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${$}</p>`)}},q=async()=>{try{const Q=await(await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).withdrawPayment(p)).wait();Q&&Q.status==1?(await _.send(`Meta:${JSON.stringify({type:"job cancelled",job_id:h.jobId,deal:p,network:vt(o),token:jt(vt(o),h.paymentToken),token_address:h.paymentToken,total_amount:h.totalPayment,withdrawn_amount:parseFloat(Pe(h.totalPayment))-parseFloat(Pe(h.claimableAmount))-parseFloat(Pe(h.claimedAmount))})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>claimed payment</p>`)):Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>failed to claim payment</p>`)}catch($){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${$}</p>`)}};function V($){Xe.call(this,a,$)}function A($){Xe.call(this,a,$)}function k($){Xe.call(this,a,$)}function I(){g=this.value,t(2,g)}function M(){m=this.value,t(1,m)}function N(){m=this.value,t(1,m)}return a.$$set=$=>{"conversation"in $&&t(11,_=$.conversation),"deal"in $&&t(0,h=$.deal),"id"in $&&t(12,p=$.id)},a.$$.update=()=>{a.$$.dirty&1&&t(3,s=(parseFloat(Pe(h.claimableAmount))+parseFloat(Pe(h.claimedAmount)))/parseFloat(Pe(h.totalPayment))*100)},[h,m,g,s,o,u,O,S,b,D,q,_,p,V,A,k,I,M,N]}class sr extends el{constructor(e){super(),tl(this,e,lr,tr,cl,{conversation:11,deal:0,id:12})}}function Cl(a,e,t){const s=a.slice();return s[40]=e[t],s}function Tl(a,e,t){const s=a.slice();return s[43]=e[t],s}function Ol(a,e,t){const s=a.slice();return s[40]=e[t],s}function Rl(a,e,t){const s=a.slice();return s[49]=e[t],s}function Gl(a){let e,t,s,o=a[0].peerAddress.substring(0,6)+"..."+a[0].peerAddress.substring(a[0].peerAddress.length-4),i,r,u,_,h,p,m,g=a[13].substring(0,6)+"..."+a[13].substring(a[13].length-4),O,S,y,b,D,q;return{c(){e=c("div"),t=c("div"),s=c("p"),i=P(o),r=w(),u=c("span"),_=P("(PEER)"),h=w(),p=c("div"),m=c("p"),O=P(g),S=w(),y=c("span"),b=P("(YOU)"),this.h()},l(V){e=d(V,"DIV",{class:!0});var A=v(e);t=d(A,"DIV",{class:!0});var k=v(t);s=d(k,"P",{});var I=v(s);i=j(I,o),r=E(I),u=d(I,"SPAN",{class:!0});var M=v(u);_=j(M,"(PEER)"),M.forEach(n),I.forEach(n),k.forEach(n),h=E(A),p=d(A,"DIV",{class:!0});var N=v(p);m=d(N,"P",{});var $=v(m);O=j($,g),S=E($),y=d($,"SPAN",{class:!0});var J=v(y);b=j(J,"(YOU)"),J.forEach(n),$.forEach(n),N.forEach(n),A.forEach(n),this.h()},h(){f(u,"class","light-60"),f(t,"class","dropdown-item svelte-1s058ss"),f(y,"class","light-60"),f(p,"class","dropdown-item svelte-1s058ss"),f(e,"class","dropdown-menu svelte-1s058ss")},m(V,A){C(V,e,A),l(e,t),l(t,s),l(s,i),l(s,r),l(s,u),l(u,_),l(e,h),l(e,p),l(p,m),l(m,O),l(m,S),l(m,y),l(y,b),D||(q=[_e(t,"click",a[28]),_e(t,"keydown",a[25]),_e(p,"click",a[29]),_e(p,"keydown",a[24])],D=!0)},p(V,A){A[0]&1&&o!==(o=V[0].peerAddress.substring(0,6)+"..."+V[0].peerAddress.substring(V[0].peerAddress.length-4))&&fe(i,o),A[0]&8192&&g!==(g=V[13].substring(0,6)+"..."+V[13].substring(V[13].length-4))&&fe(O,g)},d(V){V&&n(e),D=!1,xe(q)}}}function Fl(a){let e,t={ctx:a,current:null,token:null,hasCatch:!1,pending:ir,then:ar,catch:rr,value:48};return _l(a[14](),t),{c(){e=c("div"),t.block.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=v(e);t.block.l(o),o.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(s,o){C(s,e,o),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(s,o){a=s,hl(t,a,o)},d(s){s&&n(e),t.block.d(),t.token=null,t=null}}}function rr(a){return{c:se,l:se,m:se,p:se,d:se}}function ar(a){let e;function t(i,r){return i[48]!=null?nr:or}let o=t(a)(a);return{c(){o.c(),e=Be()},l(i){o.l(i),e=Be()},m(i,r){o.m(i,r),C(i,e,r)},p(i,r){o.p(i,r)},d(i){o.d(i),i&&n(e)}}}function or(a){let e,t,s;return{c(){e=c("div"),t=c("p"),s=P("you don't have any job listings online."),this.h()},l(o){e=d(o,"DIV",{class:!0});var i=v(e);t=d(i,"P",{class:!0});var r=v(t);s=j(r,"you don't have any job listings online."),r.forEach(n),i.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(o,i){C(o,e,i),l(e,t),l(t,s)},p:se,d(o){o&&n(e)}}}function nr(a){let e,t,s=a[48],o=[];for(let r=0;r<s.length;r+=1)o[r]=Ll(Rl(a,s,r));let i=a[12]!=-1&&Ul(a);return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=w(),i&&i.c(),t=Be()},l(r){for(let u=0;u<o.length;u+=1)o[u].l(r);e=E(r),i&&i.l(r),t=Be()},m(r,u){for(let _=0;_<o.length;_+=1)o[_].m(r,u);C(r,e,u),i&&i.m(r,u),C(r,t,u)},p(r,u){if(u[0]&22592){s=r[48];let _;for(_=0;_<s.length;_+=1){const h=Rl(r,s,_);o[_]?o[_].p(h,u):(o[_]=Ll(h),o[_].c(),o[_].m(e.parentNode,e))}for(;_<o.length;_+=1)o[_].d(1);o.length=s.length}r[12]!=-1?i?i.p(r,u):(i=Ul(r),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(r){mt(o,r),r&&n(e),i&&i.d(r),r&&n(t)}}}function Ll(a){let e,t,s,o,i=a[49].slot+"",r,u,_=a[49].title+"",h,p,m,g,O=a[49].budget+"",S,y,b;function D(){return a[31](a[49])}return{c(){e=c("div"),t=c("p"),s=c("span"),o=P("#"),r=P(i),u=w(),h=P(_),p=w(),m=c("span"),g=P("$"),S=P(O),this.h()},l(q){e=d(q,"DIV",{class:!0});var V=v(e);t=d(V,"P",{});var A=v(t);s=d(A,"SPAN",{class:!0});var k=v(s);o=j(k,"#"),r=j(k,i),k.forEach(n),u=E(A),h=j(A,_),p=E(A),m=d(A,"SPAN",{class:!0});var I=v(m);g=j(I,"$"),S=j(I,O),I.forEach(n),A.forEach(n),V.forEach(n),this.h()},h(){f(s,"class","yellow"),f(m,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(q,V){C(q,e,V),l(e,t),l(t,s),l(s,o),l(s,r),l(t,u),l(t,h),l(t,p),l(t,m),l(m,g),l(m,S),y||(b=[_e(e,"click",D),_e(e,"keydown",a[22])],y=!0)},p(q,V){a=q},d(q){q&&n(e),y=!1,xe(b)}}}function Ul(a){let e,t,s,o,i;return{c(){e=c("div"),t=c("p"),s=P("deal without job"),this.h()},l(r){e=d(r,"DIV",{class:!0});var u=v(e);t=d(u,"P",{class:!0});var _=v(t);s=j(_,"deal without job"),_.forEach(n),u.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(r,u){C(r,e,u),l(e,t),l(t,s),o||(i=[_e(e,"click",a[32]),_e(e,"keydown",a[21])],o=!0)},p:se,d(r){r&&n(e),o=!1,xe(i)}}}function ir(a){return{c:se,l:se,m:se,p:se,d:se}}function Bl(a){let e,t=vl,s=[];for(let o=0;o<t.length;o+=1)s[o]=Jl(Ol(a,t,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=d(o,"DIV",{class:!0});var i=v(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(o,i){C(o,e,i);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(o,i){if(i[0]&136){t=vl;let r;for(r=0;r<t.length;r+=1){const u=Ol(o,t,r);s[r]?s[r].p(u,i):(s[r]=Jl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(o){o&&n(e),mt(s,o)}}}function Jl(a){let e,t,s=a[40].name+"",o,i,r,u;function _(){return a[34](a[40])}return{c(){e=c("div"),t=c("p"),o=P(s),i=w(),this.h()},l(h){e=d(h,"DIV",{class:!0});var p=v(e);t=d(p,"P",{});var m=v(t);o=j(m,s),m.forEach(n),i=E(p),p.forEach(n),this.h()},h(){f(e,"class","dropdown-item svelte-1s058ss")},m(h,p){C(h,e,p),l(e,t),l(t,o),l(e,i),r||(u=[_e(e,"click",_),_e(e,"keydown",a[19])],r=!0)},p(h,p){a=h},d(h){h&&n(e),r=!1,xe(u)}}}function Wl(a){let e,t=vl,s=[];for(let o=0;o<t.length;o+=1)s[o]=Yl(Cl(a,t,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=d(o,"DIV",{class:!0});var i=v(e);for(let r=0;r<s.length;r+=1)s[r].l(i);i.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(o,i){C(o,e,i);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(o,i){if(i[0]&784){t=vl;let r;for(r=0;r<t.length;r+=1){const u=Cl(o,t,r);s[r]?s[r].p(u,i):(s[r]=Yl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(o){o&&n(e),mt(s,o)}}}function Hl(a){let e,t,s=a[43].name+"",o,i,r,u;function _(){return a[36](a[43])}return{c(){e=c("div"),t=c("p"),o=P(s),i=w(),this.h()},l(h){e=d(h,"DIV",{class:!0});var p=v(e);t=d(p,"P",{});var m=v(t);o=j(m,s),m.forEach(n),i=E(p),p.forEach(n),this.h()},h(){f(e,"class","dropdown-item svelte-1s058ss")},m(h,p){C(h,e,p),l(e,t),l(t,o),l(e,i),r||(u=[_e(e,"click",_),_e(e,"keydown",a[17])],r=!0)},p(h,p){a=h},d(h){h&&n(e),r=!1,xe(u)}}}function Yl(a){let e,t=a[40].tokens,s=[];for(let o=0;o<t.length;o+=1)s[o]=Hl(Tl(a,t,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Be()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Be()},m(o,i){for(let r=0;r<s.length;r+=1)s[r].m(o,i);C(o,e,i)},p(o,i){if(i[0]&784){t=o[40].tokens;let r;for(r=0;r<t.length;r+=1){const u=Tl(o,t,r);s[r]?s[r].p(u,i):(s[r]=Hl(u),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(o){mt(s,o),o&&n(e)}}}function cr(a){let e,t,s,o,i,r,u,_,h=a[10].substring(0,6)+"..."+a[10].substring(a[10].length-4),p,m,g,O,S=a[10]==a[13]?"YOU":"PEER",y,b,D,q,V,A,k,I,M,N,$,J,Q,R,U,H,re,be,ae,he,x,Ce,ke,W,le,Y,te,ee,B,de,ge,Ee,K,oe,Ve,ye,G,pe,X,ne,Z,z,L,T,qe,ze,ce,Te,$e,Je,We,Ie,Oe,me,He,De,Ye,Me,Se,Ue,Ge,Ot,st,nt,gt,kt,rt,bt,at,Ct,Rt,et,Gt,ft,Ze,it,wt,tt,Xt,yt,Fe=a[5]&&Gl(a),ie=a[6]&&Fl(a),we=a[3]&&Bl(a),Le=a[4]&&Wl(a);return{c(){e=c("div"),t=c("div"),s=c("p"),o=P("recruitor"),i=w(),r=c("div"),u=c("div"),_=c("p"),p=P(h),m=w(),g=c("span"),O=P("("),y=P(S),b=P(")"),D=w(),q=c("img"),A=w(),Fe&&Fe.c(),k=w(),I=c("div"),M=w(),N=c("div"),$=c("div"),J=c("p"),Q=P("job"),R=w(),U=c("div"),H=c("div"),re=c("p"),be=P(a[11]),ae=w(),he=c("img"),Ce=w(),ie&&ie.c(),ke=w(),W=c("div"),le=w(),Y=c("div"),te=c("div"),ee=c("p"),B=P("network"),de=w(),ge=c("div"),Ee=c("div"),K=c("p"),oe=P(a[7]),Ve=w(),ye=c("img"),pe=w(),we&&we.c(),X=w(),ne=c("div"),Z=w(),z=c("div"),L=c("div"),T=c("p"),qe=P("token"),ze=w(),ce=c("div"),Te=c("div"),$e=c("p"),Je=P(a[8]),We=w(),Ie=c("img"),me=w(),Le&&Le.c(),He=w(),De=c("div"),Ye=w(),Me=c("div"),Se=c("div"),Ue=c("p"),Ge=P("total amount"),Ot=w(),st=c("input"),nt=w(),gt=c("div"),kt=w(),rt=c("div"),bt=c("div"),at=c("p"),Ct=P("downpayment"),Rt=w(),et=c("input"),Gt=w(),ft=c("div"),Ze=w(),it=c("div"),wt=c("p"),tt=P("send offer"),this.h()},l(F){e=d(F,"DIV",{class:!0});var ue=v(e);t=d(ue,"DIV",{class:!0});var rl=v(t);s=d(rl,"P",{});var Ft=v(s);o=j(Ft,"recruitor"),Ft.forEach(n),rl.forEach(n),i=E(ue),r=d(ue,"DIV",{class:!0});var Lt=v(r);u=d(Lt,"DIV",{class:!0});var Ut=v(u);_=d(Ut,"P",{});var It=v(_);p=j(It,h),m=E(It),g=d(It,"SPAN",{class:!0});var Bt=v(g);O=j(Bt,"("),y=j(Bt,S),b=j(Bt,")"),Bt.forEach(n),It.forEach(n),D=E(Ut),q=d(Ut,"IMG",{src:!0,alt:!0,style:!0}),Ut.forEach(n),A=E(Lt),Fe&&Fe.l(Lt),Lt.forEach(n),ue.forEach(n),k=E(F),I=d(F,"DIV",{style:!0}),v(I).forEach(n),M=E(F),N=d(F,"DIV",{class:!0});var ut=v(N);$=d(ut,"DIV",{class:!0});var al=v($);J=d(al,"P",{});var Jt=v(J);Q=j(Jt,"job"),Jt.forEach(n),al.forEach(n),R=E(ut),U=d(ut,"DIV",{class:!0});var Wt=v(U);H=d(Wt,"DIV",{class:!0});var Dt=v(H);re=d(Dt,"P",{});var ol=v(re);be=j(ol,a[11]),ol.forEach(n),ae=E(Dt),he=d(Dt,"IMG",{src:!0,alt:!0,style:!0}),Dt.forEach(n),Ce=E(Wt),ie&&ie.l(Wt),Wt.forEach(n),ut.forEach(n),ke=E(F),W=d(F,"DIV",{style:!0}),v(W).forEach(n),le=E(F),Y=d(F,"DIV",{class:!0});var Vt=v(Y);te=d(Vt,"DIV",{class:!0});var nl=v(te);ee=d(nl,"P",{});var Qt=v(ee);B=j(Qt,"network"),Qt.forEach(n),nl.forEach(n),de=E(Vt),ge=d(Vt,"DIV",{class:!0});var Pt=v(ge);Ee=d(Pt,"DIV",{class:!0});var Ht=v(Ee);K=d(Ht,"P",{});var Zt=v(K);oe=j(Zt,a[7]),Zt.forEach(n),Ve=E(Ht),ye=d(Ht,"IMG",{src:!0,alt:!0,style:!0}),Ht.forEach(n),pe=E(Pt),we&&we.l(Pt),Pt.forEach(n),Vt.forEach(n),X=E(F),ne=d(F,"DIV",{style:!0}),v(ne).forEach(n),Z=E(F),z=d(F,"DIV",{class:!0});var ot=v(z);L=d(ot,"DIV",{class:!0});var Yt=v(L);T=d(Yt,"P",{});var il=v(T);qe=j(il,"token"),il.forEach(n),Yt.forEach(n),ze=E(ot),ce=d(ot,"DIV",{class:!0});var Tt=v(ce);Te=d(Tt,"DIV",{class:!0});var dl=v(Te);$e=d(dl,"P",{});var ml=v($e);Je=j(ml,a[8]),ml.forEach(n),We=E(dl),Ie=d(dl,"IMG",{src:!0,alt:!0,style:!0}),dl.forEach(n),me=E(Tt),Le&&Le.l(Tt),Tt.forEach(n),ot.forEach(n),He=E(F),De=d(F,"DIV",{style:!0}),v(De).forEach(n),Ye=E(F),Me=d(F,"DIV",{class:!0});var fl=v(Me);Se=d(fl,"DIV",{class:!0});var gl=v(Se);Ue=d(gl,"P",{});var kl=v(Ue);Ge=j(kl,"total amount"),kl.forEach(n),gl.forEach(n),Ot=E(fl),st=d(fl,"INPUT",{type:!0,placeholder:!0,class:!0}),fl.forEach(n),nt=E(F),gt=d(F,"DIV",{style:!0}),v(gt).forEach(n),kt=E(F),rt=d(F,"DIV",{class:!0});var ul=v(rt);bt=d(ul,"DIV",{class:!0});var bl=v(bt);at=d(bl,"P",{});var wl=v(at);Ct=j(wl,"downpayment"),wl.forEach(n),bl.forEach(n),Rt=E(ul),et=d(ul,"INPUT",{type:!0,placeholder:!0,class:!0}),ul.forEach(n),Gt=E(F),ft=d(F,"DIV",{style:!0}),v(ft).forEach(n),Ze=E(F),it=d(F,"DIV",{class:!0});var El=v(it);wt=d(El,"P",{});var yl=v(wt);tt=j(yl,"send offer"),yl.forEach(n),El.forEach(n),this.h()},h(){f(t,"class","placeholder svelte-1s058ss"),f(g,"class","light-60"),Ne(q.src,V=a[5]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(q,"src",V),f(q,"alt","Dropdown"),ve(q,"width","10px"),f(u,"class","dropdown-chosen svelte-1s058ss"),f(r,"class","dropdown svelte-1s058ss"),f(e,"class","dropdown-container svelte-1s058ss"),ve(I,"height","8px"),f($,"class","placeholder svelte-1s058ss"),Ne(he.src,x=a[6]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(he,"src",x),f(he,"alt","Dropdown"),ve(he,"width","10px"),f(H,"class","dropdown-chosen svelte-1s058ss"),f(U,"class","dropdown svelte-1s058ss"),f(N,"class","dropdown-container svelte-1s058ss"),ve(W,"height","8px"),f(te,"class","placeholder svelte-1s058ss"),Ne(ye.src,G=a[3]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(ye,"src",G),f(ye,"alt","Dropdown"),ve(ye,"width","10px"),f(Ee,"class","dropdown-chosen svelte-1s058ss"),f(ge,"class","dropdown svelte-1s058ss"),f(Y,"class","dropdown-container svelte-1s058ss"),ve(ne,"height","8px"),f(L,"class","placeholder svelte-1s058ss"),Ne(Ie.src,Oe=a[4]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(Ie,"src",Oe),f(Ie,"alt","Dropdown"),ve(Ie,"width","10px"),f(Te,"class","dropdown-chosen svelte-1s058ss"),f(ce,"class","dropdown svelte-1s058ss"),f(z,"class","dropdown-container svelte-1s058ss"),ve(De,"height","8px"),f(Se,"class","placeholder svelte-1s058ss"),f(st,"type","text"),f(st,"placeholder","($)"),f(st,"class","svelte-1s058ss"),f(Me,"class","input-container svelte-1s058ss"),ve(gt,"height","8px"),f(bt,"class","placeholder svelte-1s058ss"),f(et,"type","text"),f(et,"placeholder","($)"),f(et,"class","svelte-1s058ss"),f(rt,"class","input-container svelte-1s058ss"),ve(ft,"height","12px"),f(it,"class","action-button-full link yellow svelte-1s058ss")},m(F,ue){C(F,e,ue),l(e,t),l(t,s),l(s,o),l(e,i),l(e,r),l(r,u),l(u,_),l(_,p),l(_,m),l(_,g),l(g,O),l(g,y),l(g,b),l(u,D),l(u,q),l(r,A),Fe&&Fe.m(r,null),C(F,k,ue),C(F,I,ue),C(F,M,ue),C(F,N,ue),l(N,$),l($,J),l(J,Q),l(N,R),l(N,U),l(U,H),l(H,re),l(re,be),l(H,ae),l(H,he),l(U,Ce),ie&&ie.m(U,null),C(F,ke,ue),C(F,W,ue),C(F,le,ue),C(F,Y,ue),l(Y,te),l(te,ee),l(ee,B),l(Y,de),l(Y,ge),l(ge,Ee),l(Ee,K),l(K,oe),l(Ee,Ve),l(Ee,ye),l(ge,pe),we&&we.m(ge,null),C(F,X,ue),C(F,ne,ue),C(F,Z,ue),C(F,z,ue),l(z,L),l(L,T),l(T,qe),l(z,ze),l(z,ce),l(ce,Te),l(Te,$e),l($e,Je),l(Te,We),l(Te,Ie),l(ce,me),Le&&Le.m(ce,null),C(F,He,ue),C(F,De,ue),C(F,Ye,ue),C(F,Me,ue),l(Me,Se),l(Se,Ue),l(Ue,Ge),l(Me,Ot),l(Me,st),Et(st,a[1]),C(F,nt,ue),C(F,gt,ue),C(F,kt,ue),C(F,rt,ue),l(rt,bt),l(bt,at),l(at,Ct),l(rt,Rt),l(rt,et),Et(et,a[2]),C(F,Gt,ue),C(F,ft,ue),C(F,Ze,ue),C(F,it,ue),l(it,wt),l(wt,tt),Xt||(yt=[_e(u,"click",a[27]),_e(u,"keydown",a[26]),_e(H,"click",a[30]),_e(H,"keydown",a[23]),_e(Ee,"click",a[33]),_e(Ee,"keydown",a[20]),_e(Te,"click",a[35]),_e(Te,"keydown",a[18]),_e(st,"input",a[37]),_e(et,"input",a[38]),_e(it,"click",a[15]),_e(it,"keydown",a[16])],Xt=!0)},p(F,ue){ue[0]&1024&&h!==(h=F[10].substring(0,6)+"..."+F[10].substring(F[10].length-4))&&fe(p,h),ue[0]&9216&&S!==(S=F[10]==F[13]?"YOU":"PEER")&&fe(y,S),ue[0]&32&&!Ne(q.src,V=F[5]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(q,"src",V),F[5]?Fe?Fe.p(F,ue):(Fe=Gl(F),Fe.c(),Fe.m(r,null)):Fe&&(Fe.d(1),Fe=null),ue[0]&2048&&fe(be,F[11]),ue[0]&64&&!Ne(he.src,x=F[6]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(he,"src",x),F[6]?ie?ie.p(F,ue):(ie=Fl(F),ie.c(),ie.m(U,null)):ie&&(ie.d(1),ie=null),ue[0]&128&&fe(oe,F[7]),ue[0]&8&&!Ne(ye.src,G=F[3]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(ye,"src",G),F[3]?we?we.p(F,ue):(we=Bl(F),we.c(),we.m(ge,null)):we&&(we.d(1),we=null),ue[0]&256&&fe(Je,F[8]),ue[0]&16&&!Ne(Ie.src,Oe=F[4]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(Ie,"src",Oe),F[4]?Le?Le.p(F,ue):(Le=Wl(F),Le.c(),Le.m(ce,null)):Le&&(Le.d(1),Le=null),ue[0]&2&&st.value!==F[1]&&Et(st,F[1]),ue[0]&4&&et.value!==F[2]&&Et(et,F[2])},i:se,o:se,d(F){F&&n(e),Fe&&Fe.d(),F&&n(k),F&&n(I),F&&n(M),F&&n(N),ie&&ie.d(),F&&n(ke),F&&n(W),F&&n(le),F&&n(Y),we&&we.d(),F&&n(X),F&&n(ne),F&&n(Z),F&&n(z),Le&&Le.d(),F&&n(He),F&&n(De),F&&n(Ye),F&&n(Me),F&&n(nt),F&&n(gt),F&&n(kt),F&&n(rt),F&&n(Gt),F&&n(ft),F&&n(Ze),F&&n(it),Xt=!1,xe(yt)}}}function dr(a,e,t){let s,o;lt(a,sl,B=>t(13,s=B)),lt(a,pl,B=>t(39,o=B));let{conversation:i}=e,r,u,_=!1,h=!1,p=!1,m=!1,g="choose network",O="choose token",S="",y=s,b="choose job",D=-1;const q=async()=>{try{return await(await fetch(`${Ke}/api/get_jobs/${s}`)).json()}catch(B){console.log(B)}},V=async()=>{if(y===s)try{const de=await(await fetch(`/api/auth/login/${s}`,{method:"POST"})).json(),ge=await o.signMessage(de),Ee=`${Ke}/api/add_deal/${s}/${i.peerAddress}/${ge}`,K={status:"",network:g,token_address:S,total_amount:_t(r.toString()).toString(),downpayment:_t(u.toString()).toString(),job_id:D,signature:""};(await fetch(Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})).ok&&(await i.send(`Meta:${JSON.stringify({type:"job offer",network:g,token:O,token_address:S,total_amount:_t(r.toString()).toString(),downpayment:_t(u.toString()).toString(),job_id:D,recruiter:s})}`),Qe.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>new job offer sent.</p>`))}catch(B){Qe.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${B}</p>`)}};function A(B){Xe.call(this,a,B)}function k(B){Xe.call(this,a,B)}function I(B){Xe.call(this,a,B)}function M(B){Xe.call(this,a,B)}function N(B){Xe.call(this,a,B)}function $(B){Xe.call(this,a,B)}function J(B){Xe.call(this,a,B)}function Q(B){Xe.call(this,a,B)}function R(B){Xe.call(this,a,B)}function U(B){Xe.call(this,a,B)}function H(B){Xe.call(this,a,B)}const re=()=>t(5,p=!p),be=()=>t(10,y=i.peerAddress),ae=()=>t(10,y=s),he=()=>t(6,m=!m),x=B=>{t(11,b=`#${B.slot} ${B.title} $${B.budget}`),t(12,D=B.slot),t(6,m=!1)},Ce=()=>{t(11,b="deal without job"),t(12,D=-1),t(6,m=!1)},ke=()=>t(3,_=!_),W=B=>{t(7,g=B.name),t(3,_=!1)},le=()=>t(4,h=!h),Y=B=>{t(8,O=B.symbol),t(9,S=B.address),t(4,h=!1)};function te(){r=this.value,t(1,r)}function ee(){u=this.value,t(2,u)}return a.$$set=B=>{"conversation"in B&&t(0,i=B.conversation)},[i,r,u,_,h,p,m,g,O,S,y,b,D,s,q,V,A,k,I,M,N,$,J,Q,R,U,H,re,be,ae,he,x,Ce,ke,W,le,Y,te,ee]}class fr extends el{constructor(e){super(),tl(this,e,dr,cr,cl,{conversation:0},null,[-1,-1])}}function zl(a,e,t){const s=a.slice();return s[19]=e[t][0],s[20]=e[t][1],s}function Kl(a,e,t){const s=a.slice();return s[20]=e[t],s[24]=t,s}function Xl(a,e,t){const s=a.slice();return s[20]=e[t],s[26]=t,s}function ur(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V={ctx:a,current:null,token:null,hasCatch:!1,pending:gr,then:hr,catch:_r,value:18,blocks:[,,,]};_l(a[6](),V);let A={ctx:a,current:null,token:null,hasCatch:!1,pending:wr,then:br,catch:kr,value:18,blocks:[,,,]};return _l(a[5](),A),{c(){e=c("div"),t=c("img"),o=w(),i=c("div"),r=w(),u=c("p"),_=P("create new agreement"),h=w(),p=c("div"),m=w(),V.block.c(),g=w(),O=c("div"),S=w(),y=Be(),A.block.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var I=v(e);t=d(I,"IMG",{src:!0,alt:!0}),o=E(I),i=d(I,"DIV",{style:!0}),v(i).forEach(n),r=E(I),u=d(I,"P",{class:!0});var M=v(u);_=j(M,"create new agreement"),M.forEach(n),I.forEach(n),h=E(k),p=d(k,"DIV",{style:!0}),v(p).forEach(n),m=E(k),V.block.l(k),g=E(k),O=d(k,"DIV",{style:!0}),v(O).forEach(n),S=E(k),y=Be(),A.block.l(k),this.h()},h(){Ne(t.src,s=`${Ae}/icons/notes-plus.svg`)||f(t,"src",s),f(t,"alt","New Agreement"),ve(i,"width","4px"),f(u,"class","yellow"),f(e,"class","new-agreement svelte-1cymiv8"),ve(p,"height","28px"),ve(O,"height","28px")},m(k,I){C(k,e,I),l(e,t),l(e,o),l(e,i),l(e,r),l(e,u),l(u,_),C(k,h,I),C(k,p,I),C(k,m,I),V.block.m(k,V.anchor=I),V.mount=()=>g.parentNode,V.anchor=g,C(k,g,I),C(k,O,I),C(k,S,I),C(k,y,I),A.block.m(k,A.anchor=I),A.mount=()=>y.parentNode,A.anchor=y,b=!0,D||(q=[_e(e,"click",a[11]),_e(e,"keydown",a[9])],D=!0)},p(k,I){a=k,hl(V,a,I),hl(A,a,I)},i(k){b||(je(V.block),je(A.block),b=!0)},o(k){for(let I=0;I<3;I+=1){const M=V.blocks[I];Re(M)}for(let I=0;I<3;I+=1){const M=A.blocks[I];Re(M)}b=!1},d(k){k&&n(e),k&&n(h),k&&n(p),k&&n(m),V.block.d(k),V.token=null,V=null,k&&n(g),k&&n(O),k&&n(S),k&&n(y),A.block.d(k),A.token=null,A=null,D=!1,xe(q)}}}function vr(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y;return g=new fr({props:{conversation:a[0]}}),{c(){e=c("div"),t=c("img"),o=w(),i=c("div"),r=w(),u=c("p"),_=P("back to agreements"),h=w(),p=c("div"),m=w(),At(g.$$.fragment),this.h()},l(b){e=d(b,"DIV",{class:!0});var D=v(e);t=d(D,"IMG",{src:!0,alt:!0}),o=E(D),i=d(D,"DIV",{style:!0}),v(i).forEach(n),r=E(D),u=d(D,"P",{class:!0});var q=v(u);_=j(q,"back to agreements"),q.forEach(n),D.forEach(n),h=E(b),p=d(b,"DIV",{style:!0}),v(p).forEach(n),m=E(b),$t(g.$$.fragment,b),this.h()},h(){Ne(t.src,s=`${Ae}/icons/chevron_left_active.svg`)||f(t,"src",s),f(t,"alt","New Agreement"),ve(i,"width","4px"),f(u,"class","yellow"),f(e,"class","new-agreement svelte-1cymiv8"),ve(p,"height","12px")},m(b,D){C(b,e,D),l(e,t),l(e,o),l(e,i),l(e,r),l(e,u),l(u,_),C(b,h,D),C(b,p,D),C(b,m,D),Mt(g,b,D),O=!0,S||(y=[_e(e,"click",a[10]),_e(e,"keydown",a[8])],S=!0)},p(b,D){const q={};D&1&&(q.conversation=b[0]),g.$set(q)},i(b){O||(je(g.$$.fragment,b),O=!0)},o(b){Re(g.$$.fragment,b),O=!1},d(b){b&&n(e),b&&n(h),b&&n(p),b&&n(m),Nt(g,b),S=!1,xe(y)}}}function _r(a){return{c:se,l:se,m:se,p:se,i:se,o:se,d:se}}function hr(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y=a[18].recruiter_deals,b=[];for(let k=0;k<y.length;k+=1)b[k]=Ql(Xl(a,y,k));const D=k=>Re(b[k],1,1,()=>{b[k]=null});let q=a[18].creator_deals,V=[];for(let k=0;k<q.length;k+=1)V[k]=Zl(Kl(a,q,k));const A=k=>Re(V[k],1,1,()=>{V[k]=null});return{c(){e=c("div"),t=c("img"),o=w(),i=c("div"),r=w(),u=c("p"),_=P("drafts"),h=w(),p=c("div"),m=w();for(let k=0;k<b.length;k+=1)b[k].c();g=w();for(let k=0;k<V.length;k+=1)V[k].c();O=Be(),this.h()},l(k){e=d(k,"DIV",{class:!0});var I=v(e);t=d(I,"IMG",{src:!0,alt:!0}),o=E(I),i=d(I,"DIV",{style:!0}),v(i).forEach(n),r=E(I),u=d(I,"P",{class:!0});var M=v(u);_=j(M,"drafts"),M.forEach(n),I.forEach(n),h=E(k),p=d(k,"DIV",{style:!0}),v(p).forEach(n),m=E(k);for(let N=0;N<b.length;N+=1)b[N].l(k);g=E(k);for(let N=0;N<V.length;N+=1)V[N].l(k);O=Be(),this.h()},h(){Ne(t.src,s=`${Ae}/icons/clipboard.svg`)||f(t,"src",s),f(t,"alt","Human Run"),ve(i,"width","4px"),f(u,"class","yellow"),f(e,"class","section-title svelte-1cymiv8"),ve(p,"height","12px")},m(k,I){C(k,e,I),l(e,t),l(e,o),l(e,i),l(e,r),l(e,u),l(u,_),C(k,h,I),C(k,p,I),C(k,m,I);for(let M=0;M<b.length;M+=1)b[M].m(k,I);C(k,g,I);for(let M=0;M<V.length;M+=1)V[M].m(k,I);C(k,O,I),S=!0},p(k,I){if(I&65){y=k[18].recruiter_deals;let M;for(M=0;M<y.length;M+=1){const N=Xl(k,y,M);b[M]?(b[M].p(N,I),je(b[M],1)):(b[M]=Ql(N),b[M].c(),je(b[M],1),b[M].m(g.parentNode,g))}for(ht(),M=y.length;M<b.length;M+=1)D(M);pt()}if(I&65){q=k[18].creator_deals;let M;for(M=0;M<q.length;M+=1){const N=Kl(k,q,M);V[M]?(V[M].p(N,I),je(V[M],1)):(V[M]=Zl(N),V[M].c(),je(V[M],1),V[M].m(O.parentNode,O))}for(ht(),M=q.length;M<V.length;M+=1)A(M);pt()}},i(k){if(!S){for(let I=0;I<y.length;I+=1)je(b[I]);for(let I=0;I<q.length;I+=1)je(V[I]);S=!0}},o(k){b=b.filter(Boolean);for(let I=0;I<b.length;I+=1)Re(b[I]);V=V.filter(Boolean);for(let I=0;I<V.length;I+=1)Re(V[I]);S=!1},d(k){k&&n(e),k&&n(h),k&&n(p),k&&n(m),mt(b,k),k&&n(g),mt(V,k),k&&n(O)}}}function pr(a){let e,t,s,o;return e=new us({props:{conversation:a[0],role:"recruiter",deal:a[20],slot:a[26]}}),{c(){At(e.$$.fragment),t=w(),s=c("div"),this.h()},l(i){$t(e.$$.fragment,i),t=E(i),s=d(i,"DIV",{style:!0}),v(s).forEach(n),this.h()},h(){ve(s,"height","24px")},m(i,r){Mt(e,i,r),C(i,t,r),C(i,s,r),o=!0},p(i,r){const u={};r&1&&(u.conversation=i[0]),e.$set(u)},i(i){o||(je(e.$$.fragment,i),o=!0)},o(i){Re(e.$$.fragment,i),o=!1},d(i){Nt(e,i),i&&n(t),i&&n(s)}}}function Ql(a){let e,t,s=(a[20].status=="offered"||a[20].status=="accepted")&&pr(a);return{c(){s&&s.c(),e=Be()},l(o){s&&s.l(o),e=Be()},m(o,i){s&&s.m(o,i),C(o,e,i),t=!0},p(o,i){(o[20].status=="offered"||o[20].status=="accepted")&&s.p(o,i)},i(o){t||(je(s),t=!0)},o(o){Re(s),t=!1},d(o){s&&s.d(o),o&&n(e)}}}function mr(a){let e,t,s,o;return e=new us({props:{conversation:a[0],role:"creator",deal:a[20],slot:a[24]}}),{c(){At(e.$$.fragment),t=w(),s=c("div"),this.h()},l(i){$t(e.$$.fragment,i),t=E(i),s=d(i,"DIV",{style:!0}),v(s).forEach(n),this.h()},h(){ve(s,"height","24px")},m(i,r){Mt(e,i,r),C(i,t,r),C(i,s,r),o=!0},p(i,r){const u={};r&1&&(u.conversation=i[0]),e.$set(u)},i(i){o||(je(e.$$.fragment,i),o=!0)},o(i){Re(e.$$.fragment,i),o=!1},d(i){Nt(e,i),i&&n(t),i&&n(s)}}}function Zl(a){let e,t,s=(a[20].status=="offered"||a[20].status=="accepted")&&mr(a);return{c(){s&&s.c(),e=Be()},l(o){s&&s.l(o),e=Be()},m(o,i){s&&s.m(o,i),C(o,e,i),t=!0},p(o,i){(o[20].status=="offered"||o[20].status=="accepted")&&s.p(o,i)},i(o){t||(je(s),t=!0)},o(o){Re(s),t=!1},d(o){s&&s.d(o),o&&n(e)}}}function gr(a){return{c:se,l:se,m:se,p:se,i:se,o:se,d:se}}function kr(a){return{c:se,l:se,m:se,p:se,i:se,o:se,d:se}}function br(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S=Object.entries(a[18]),y=[];for(let D=0;D<S.length;D+=1)y[D]=xl(zl(a,S,D));const b=D=>Re(y[D],1,1,()=>{y[D]=null});return{c(){e=c("div"),t=c("img"),o=w(),i=c("div"),r=w(),u=c("p"),_=P("ongoing deals"),h=w(),p=c("div"),m=w();for(let D=0;D<y.length;D+=1)y[D].c();g=Be(),this.h()},l(D){e=d(D,"DIV",{class:!0});var q=v(e);t=d(q,"IMG",{src:!0,alt:!0}),o=E(q),i=d(q,"DIV",{style:!0}),v(i).forEach(n),r=E(q),u=d(q,"P",{class:!0});var V=v(u);_=j(V,"ongoing deals"),V.forEach(n),q.forEach(n),h=E(D),p=d(D,"DIV",{style:!0}),v(p).forEach(n),m=E(D);for(let A=0;A<y.length;A+=1)y[A].l(D);g=Be(),this.h()},h(){Ne(t.src,s=`${Ae}/icons/human-run.svg`)||f(t,"src",s),f(t,"alt","Human Run"),ve(i,"width","4px"),f(u,"class","yellow"),f(e,"class","section-title svelte-1cymiv8"),ve(p,"height","12px")},m(D,q){C(D,e,q),l(e,t),l(e,o),l(e,i),l(e,r),l(e,u),l(u,_),C(D,h,q),C(D,p,q),C(D,m,q);for(let V=0;V<y.length;V+=1)y[V].m(D,q);C(D,g,q),O=!0},p(D,q){if(q&33){S=Object.entries(D[18]);let V;for(V=0;V<S.length;V+=1){const A=zl(D,S,V);y[V]?(y[V].p(A,q),je(y[V],1)):(y[V]=xl(A),y[V].c(),je(y[V],1),y[V].m(g.parentNode,g))}for(ht(),V=S.length;V<y.length;V+=1)b(V);pt()}},i(D){if(!O){for(let q=0;q<S.length;q+=1)je(y[q]);O=!0}},o(D){y=y.filter(Boolean);for(let q=0;q<y.length;q+=1)Re(y[q]);O=!1},d(D){D&&n(e),D&&n(h),D&&n(p),D&&n(m),mt(y,D),D&&n(g)}}}function xl(a){let e,t;return e=new sr({props:{conversation:a[0],deal:a[20],id:a[19]}}),{c(){At(e.$$.fragment)},l(s){$t(e.$$.fragment,s)},m(s,o){Mt(e,s,o),t=!0},p(s,o){const i={};o&1&&(i.conversation=s[0]),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Nt(e,s)}}}function wr(a){return{c:se,l:se,m:se,p:se,i:se,o:se,d:se}}function Er(a){let e,t,s,o,i,r,u,_,h,p;const m=[vr,ur],g=[];function O(S,y){return S[4]?0:1}return i=O(a),r=g[i]=m[i](a),h=new cs({props:{alwaysVisible:!0,viewport:a[2],contents:a[3],vThumbOut:a[7],vTrackOut:a[7]}}),{c(){e=c("main"),t=c("div"),s=c("div"),o=c("div"),r.c(),_=w(),At(h.$$.fragment),this.h()},l(S){e=d(S,"MAIN",{class:!0});var y=v(e);t=d(y,"DIV",{class:!0,style:!0});var b=v(t);s=d(b,"DIV",{class:!0});var D=v(s);o=d(D,"DIV",{class:!0});var q=v(o);r.l(q),q.forEach(n),D.forEach(n),b.forEach(n),_=E(y),$t(h.$$.fragment,y),y.forEach(n),this.h()},h(){f(o,"class","agreements-container svelte-1cymiv8"),f(s,"class","contents svelte-1cymiv8"),f(t,"class","viewport svelte-1cymiv8"),f(t,"style",u=`height:${(a[1]-160).toString()+"px"}`),f(e,"class","wrapper svelte-1cymiv8")},m(S,y){C(S,e,y),l(e,t),l(t,s),l(s,o),g[i].m(o,null),a[12](s),a[13](t),l(e,_),Mt(h,e,null),p=!0},p(S,[y]){let b=i;i=O(S),i===b?g[i].p(S,y):(ht(),Re(g[b],1,1,()=>{g[b]=null}),pt(),r=g[i],r?r.p(S,y):(r=g[i]=m[i](S),r.c()),je(r,1),r.m(o,null)),(!p||y&2&&u!==(u=`height:${(S[1]-160).toString()+"px"}`))&&f(t,"style",u);const D={};y&4&&(D.viewport=S[2]),y&8&&(D.contents=S[3]),h.$set(D)},i(S){p||(je(r),je(h.$$.fragment,S),p=!0)},o(S){Re(r),Re(h.$$.fragment,S),p=!1},d(S){S&&n(e),g[i].d(),a[12](null),a[13](null),Nt(h)}}}function yr(a,e,t){let s,o;lt(a,sl,k=>t(15,s=k)),lt(a,gs,k=>t(16,o=k));let{conversation:i}=e,r,u,_,h=!1,p={};const m=async()=>{let k=[];try{const M=await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,o).getDealsOf(s);for await(const N of M)k.push(await g(N)),p[N]=await g(N)}catch(I){console.log(I)}return p},g=async k=>{try{return await new St(qt.PUBLIC_ESCROW_ADDRESS,Kt,o).getDeal(k)}catch(I){console.log(I)}},O=async()=>{const k=`${Ke}/api/get_deals/${i.peerAddress}/${s}`,I=`${Ke}/api/get_deals/${s}/${i.peerAddress}`,M=await fetch(I),N=await fetch(k),$=await M.json(),J=await N.json();return{recruiter_deals:$,creator_deals:J}},S=k=>ds(k,{duration:0});function y(k){Xe.call(this,a,k)}function b(k){Xe.call(this,a,k)}const D=()=>t(4,h=!1),q=()=>t(4,h=!0);function V(k){zt[k?"unshift":"push"](()=>{_=k,t(3,_)})}function A(k){zt[k?"unshift":"push"](()=>{u=k,t(2,u)})}return a.$$set=k=>{"conversation"in k&&t(0,i=k.conversation)},t(1,r=window.innerHeight),[i,r,u,_,h,m,O,S,y,b,D,q,V,A]}class Ir extends el{constructor(e){super(),tl(this,e,yr,Er,cl,{conversation:0})}}function es(a,e,t){const s=a.slice();return s[50]=e[t],s[52]=t,s}function ts(a,e,t){const s=a.slice();return s[53]=e[t],s[52]=t,s}function Dr(a){let e,t,s,o,i,r,u,_;return t=new Es({props:{size:"60",color:"var(--color-primary)",unit:"px",duration:"1s"}}),{c(){e=c("div"),At(t.$$.fragment),s=w(),o=c("div"),i=w(),r=c("p"),u=P("connecting xmtp..."),this.h()},l(h){e=d(h,"DIV",{class:!0});var p=v(e);$t(t.$$.fragment,p),s=E(p),o=d(p,"DIV",{style:!0}),v(o).forEach(n),i=E(p),r=d(p,"P",{class:!0,style:!0});var m=v(r);u=j(m,"connecting xmtp..."),m.forEach(n),p.forEach(n),this.h()},h(){ve(o,"height","12px"),f(r,"class","light-60"),ve(r,"animation","blinking 2s linear infinite"),f(e,"class","spinster svelte-11j1xcl")},m(h,p){C(h,e,p),Mt(t,e,null),l(e,s),l(e,o),l(e,i),l(e,r),l(r,u),_=!0},p:se,i(h){_||(je(t.$$.fragment,h),_=!0)},o(h){Re(t.$$.fragment,h),_=!1},d(h){h&&n(e),Nt(t)}}}function Vr(a){let e,t,s,o=a[3],i=[];for(let r=0;r<o.length;r+=1)i[r]=rs(ts(a,o,r));return{c(){e=c("div"),t=w();for(let r=0;r<i.length;r+=1)i[r].c();s=Be(),this.h()},l(r){e=d(r,"DIV",{style:!0}),v(e).forEach(n),t=E(r);for(let u=0;u<i.length;u+=1)i[u].l(r);s=Be(),this.h()},h(){ve(e,"height","8px")},m(r,u){C(r,e,u),C(r,t,u);for(let _=0;_<i.length;_+=1)i[_].m(r,u);C(r,s,u)},p(r,u){if(u[0]&34872){o=r[3];let _;for(_=0;_<o.length;_+=1){const h=ts(r,o,_);i[_]?i[_].p(h,u):(i[_]=rs(h),i[_].c(),i[_].m(s.parentNode,s))}for(;_<i.length;_+=1)i[_].d(1);i.length=o.length}},i:se,o:se,d(r){r&&n(e),r&&n(t),mt(i,r),r&&n(s)}}}function ls(a){let e,t=a[4][a[52]]+"",s;return{c(){e=c("div"),s=P(t),this.h()},l(o){e=d(o,"DIV",{class:!0});var i=v(e);s=j(i,t),i.forEach(n),this.h()},h(){f(e,"class","body-text light-60")},m(o,i){C(o,e,i),l(e,s)},p(o,i){i[0]&16&&t!==(t=o[4][o[52]]+"")&&fe(s,t)},d(o){o&&n(e)}}}function ss(a){let e;return{c(){e=c("div"),this.h()},l(t){e=d(t,"DIV",{style:!0}),v(e).forEach(n),this.h()},h(){ve(e,"height","12px")},m(t,s){C(t,e,s)},d(t){t&&n(e)}}}function rs(a){var A,k,I,M;let e,t,s,o,i,r,u,_,h=((A=a[5][a[52]])!=null&&A.show_ens?(k=a[5][a[52]])==null?void 0:k.ens_name:(I=a[5][a[52]])!=null&&I.username&&((M=a[5][a[52]])==null?void 0:M.username)!=""?a[5][a[52]].username:"anon")+"",p,m,g,O,S,y,b,D=a[4][a[52]]&&a[4][a[52]]!=""&&ls(a);function q(){return a[22](a[53])}let V=a[52]!=a[3].length-1&&ss();return{c(){e=c("div"),t=c("img"),o=w(),i=c("div"),r=w(),u=c("div"),_=c("p"),p=P(h),m=w(),D&&D.c(),O=w(),V&&V.c(),S=Be(),this.h()},l(N){e=d(N,"DIV",{class:!0});var $=v(e);t=d($,"IMG",{class:!0,src:!0,alt:!0}),o=E($),i=d($,"DIV",{style:!0}),v(i).forEach(n),r=E($),u=d($,"DIV",{class:!0});var J=v(u);_=d(J,"P",{class:!0});var Q=v(_);p=j(Q,h),Q.forEach(n),m=E(J),D&&D.l(J),J.forEach(n),$.forEach(n),O=E(N),V&&V.l(N),S=Be(),this.h()},h(){var N,$,J,Q,R;f(t,"class","peer-image svelte-11j1xcl"),Ne(t.src,s=(N=a[5][a[52]])!=null&&N.show_nft?($=a[5][a[52]])==null?void 0:$.nft_image_url:(J=a[5][a[52]])!=null&&J.image_url&&((Q=a[5][a[52]])==null?void 0:Q.image_url)!=""?(R=a[5][a[52]])==null?void 0:R.image_url:ns)||f(t,"src",s),f(t,"alt","smth"),ve(i,"width","12px"),f(_,"class","svelte-11j1xcl"),f(u,"class","inbox-inner-contents svelte-11j1xcl"),f(e,"class",g=xt(`inbox-item ${a[11]==a[53]?"chosen-item":""}`)+" svelte-11j1xcl")},m(N,$){C(N,e,$),l(e,t),l(e,o),l(e,i),l(e,r),l(e,u),l(u,_),l(_,p),l(u,m),D&&D.m(u,null),C(N,O,$),V&&V.m(N,$),C(N,S,$),y||(b=[_e(e,"click",q),_e(e,"keydown",a[21])],y=!0)},p(N,$){var J,Q,R,U,H,re,be,ae,he;a=N,$[0]&32&&!Ne(t.src,s=(J=a[5][a[52]])!=null&&J.show_nft?(Q=a[5][a[52]])==null?void 0:Q.nft_image_url:(R=a[5][a[52]])!=null&&R.image_url&&((U=a[5][a[52]])==null?void 0:U.image_url)!=""?(H=a[5][a[52]])==null?void 0:H.image_url:ns)&&f(t,"src",s),$[0]&32&&h!==(h=((re=a[5][a[52]])!=null&&re.show_ens?(be=a[5][a[52]])==null?void 0:be.ens_name:(ae=a[5][a[52]])!=null&&ae.username&&((he=a[5][a[52]])==null?void 0:he.username)!=""?a[5][a[52]].username:"anon")+"")&&fe(p,h),a[4][a[52]]&&a[4][a[52]]!=""?D?D.p(a,$):(D=ls(a),D.c(),D.m(u,null)):D&&(D.d(1),D=null),$[0]&2056&&g!==(g=xt(`inbox-item ${a[11]==a[53]?"chosen-item":""}`)+" svelte-11j1xcl")&&f(e,"class",g),a[52]!=a[3].length-1?V||(V=ss(),V.c(),V.m(S.parentNode,S)):V&&(V.d(1),V=null)},d(N){N&&n(e),D&&D.d(),N&&n(O),V&&V.d(N),N&&n(S),y=!1,xe(b)}}}function Pr(a){let e,t;return e=new Ir({props:{conversation:a[11]}}),{c(){At(e.$$.fragment)},l(s){$t(e.$$.fragment,s)},m(s,o){Mt(e,s,o),t=!0},p(s,o){const i={};o[0]&2048&&(i.conversation=s[11]),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Nt(e,s)}}}function jr(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b=a[6]&&a[8].length>0&&as(a);u=new cs({props:{alwaysVisible:!0,viewport:a[0],contents:a[1],vThumbOut:a[17],vTrackOut:a[17]}});function D(A,k){return A[9].length>0?Sr:qr}let q=D(a),V=q(a);return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("div"),b&&b.c(),r=w(),At(u.$$.fragment),_=w(),h=c("div"),p=c("textarea"),m=w(),g=c("div"),V.c(),this.h()},l(A){e=d(A,"DIV",{class:!0});var k=v(e);t=d(k,"DIV",{class:!0});var I=v(t);s=d(I,"DIV",{class:!0,style:!0});var M=v(s);o=d(M,"DIV",{class:!0});var N=v(o);b&&b.l(N),N.forEach(n),M.forEach(n),r=E(I),$t(u.$$.fragment,I),I.forEach(n),k.forEach(n),_=E(A),h=d(A,"DIV",{class:!0});var $=v(h);p=d($,"TEXTAREA",{placeholder:!0,name:!0,rows:!0,maxlength:!0,class:!0}),v(p).forEach(n),m=E($),g=d($,"DIV",{class:!0});var J=v(g);V.l(J),J.forEach(n),$.forEach(n),this.h()},h(){f(o,"class","contents"),f(s,"class","viewport chat-viewport svelte-11j1xcl"),f(s,"style",i=`height:${a[12].toString()+"px"}`),f(t,"class","wrapper svelte-11j1xcl"),f(e,"class","chat-window svelte-11j1xcl"),f(p,"placeholder","Write a message..."),f(p,"name","message"),f(p,"rows",a[10]),f(p,"maxlength","1000"),f(p,"class","svelte-11j1xcl"),f(g,"class","send-button svelte-11j1xcl"),f(h,"class","input-field svelte-11j1xcl")},m(A,k){C(A,e,k),l(e,t),l(t,s),l(s,o),b&&b.m(o,null),a[27](o),a[28](s),l(t,r),Mt(u,t,null),C(A,_,k),C(A,h,k),l(h,p),a[29](p),l(h,m),l(h,g),V.m(g,null),O=!0,S||(y=[_e(p,"input",a[14]),_e(g,"click",a[30]),_e(g,"keydown",a[18]),ps(ws.call(null,g,{code:"Enter"}))],S=!0)},p(A,k){A[6]&&A[8].length>0?b?(b.p(A,k),k[0]&320&&je(b,1)):(b=as(A),b.c(),je(b,1),b.m(o,null)):b&&(ht(),Re(b,1,1,()=>{b=null}),pt()),(!O||k[0]&4096&&i!==(i=`height:${A[12].toString()+"px"}`))&&f(s,"style",i);const I={};k[0]&1&&(I.viewport=A[0]),k[0]&2&&(I.contents=A[1]),u.$set(I),(!O||k[0]&1024)&&f(p,"rows",A[10]),q!==(q=D(A))&&(V.d(1),V=q(A),V&&(V.c(),V.m(g,null)))},i(A){O||(je(b),je(u.$$.fragment,A),O=!0)},o(A){Re(b),Re(u.$$.fragment,A),O=!1},d(A){A&&n(e),b&&b.d(),a[27](null),a[28](null),Nt(u),A&&n(_),A&&n(h),a[29](null),V.d(),S=!1,xe(y)}}}function as(a){let e,t,s=a[8],o=[];for(let r=0;r<s.length;r+=1)o[r]=os(es(a,s,r));const i=r=>Re(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Be()},l(r){for(let u=0;u<o.length;u+=1)o[u].l(r);e=Be()},m(r,u){for(let _=0;_<o.length;_+=1)o[_].m(r,u);C(r,e,u),t=!0},p(r,u){if(u[0]&256){s=r[8];let _;for(_=0;_<s.length;_+=1){const h=es(r,s,_);o[_]?(o[_].p(h,u),je(o[_],1)):(o[_]=os(h),o[_].c(),je(o[_],1),o[_].m(e.parentNode,e))}for(ht(),_=s.length;_<o.length;_+=1)i(_);pt()}},i(r){if(!t){for(let u=0;u<s.length;u+=1)je(o[u]);t=!0}},o(r){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)Re(o[u]);t=!1},d(r){mt(o,r),r&&n(e)}}}function os(a){let e,t;return e=new Ts({props:{message:a[50],index:a[52],array_length:a[8].length}}),{c(){At(e.$$.fragment)},l(s){$t(e.$$.fragment,s)},m(s,o){Mt(e,s,o),t=!0},p(s,o){const i={};o[0]&256&&(i.message=s[50]),o[0]&256&&(i.array_length=s[8].length),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Nt(e,s)}}}function qr(a){let e,t;return{c(){e=c("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0}),this.h()},h(){Ne(e.src,t="/icons/message.svg")||f(e,"src",t),f(e,"alt","send")},m(s,o){C(s,e,o)},d(s){s&&n(e)}}}function Sr(a){let e,t;return{c(){e=c("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t="icons/loader.svg")||f(e,"src",t),f(e,"alt","loading"),f(e,"class","rotating")},m(s,o){C(s,e,o)},d(s){s&&n(e)}}}function Ar(a){let e,t,s,o,i,r,u,_,h,p,m,g,O,S,y,b,D,q,V,A,k,I,M,N,$,J,Q,R,U,H,re,be,ae;const he=[Vr,Dr],x=[];function Ce(Y,te){return Y[3]&&Y[6]?0:1}p=Ce(a),m=x[p]=he[p](a);const ke=[jr,Pr],W=[];function le(Y,te){return Y[2]=="messages"?0:Y[2]=="agreements"&&Y[11]!=null?1:-1}return~(U=le(a))&&(H=W[U]=ke[U](a)),{c(){e=c("div"),t=w(),s=c("main"),o=c("div"),i=w(),r=c("div"),u=c("div"),_=c("div"),h=c("div"),m.c(),O=w(),S=c("div"),y=w(),b=c("div"),D=c("div"),q=c("div"),V=c("p"),A=P("messages"),I=w(),M=c("div"),N=c("p"),$=P("agreements"),Q=w(),R=c("div"),H&&H.c(),this.h()},l(Y){e=d(Y,"DIV",{style:!0}),v(e).forEach(n),t=E(Y),s=d(Y,"MAIN",{class:!0});var te=v(s);o=d(te,"DIV",{class:!0});var ee=v(o);i=E(ee),r=d(ee,"DIV",{class:!0});var B=v(r);u=d(B,"DIV",{class:!0});var de=v(u);_=d(de,"DIV",{class:!0,style:!0});var ge=v(_);h=d(ge,"DIV",{class:!0});var Ee=v(h);m.l(Ee),Ee.forEach(n),ge.forEach(n),de.forEach(n),B.forEach(n),ee.forEach(n),O=E(te),S=d(te,"DIV",{style:!0}),v(S).forEach(n),y=E(te),b=d(te,"DIV",{class:!0});var K=v(b);D=d(K,"DIV",{class:!0});var oe=v(D);q=d(oe,"DIV",{class:!0});var Ve=v(q);V=d(Ve,"P",{class:!0});var ye=v(V);A=j(ye,"messages"),ye.forEach(n),Ve.forEach(n),I=E(oe),M=d(oe,"DIV",{class:!0});var G=v(M);N=d(G,"P",{class:!0});var pe=v(N);$=j(pe,"agreements"),pe.forEach(n),G.forEach(n),oe.forEach(n),Q=E(K),R=d(K,"DIV",{class:!0});var X=v(R);H&&H.l(X),X.forEach(n),K.forEach(n),te.forEach(n),this.h()},h(){ve(e,"height","16px"),f(h,"class","contents inbox-contents svelte-11j1xcl"),f(_,"class","viewport inbox-viewport svelte-11j1xcl"),f(_,"style",g=`height:${a[13].toString()+"px"}`),f(u,"class","inbox-wrapper svelte-11j1xcl"),f(r,"class","inbox-window svelte-11j1xcl"),f(o,"class","inbox svelte-11j1xcl"),ve(S,"width","12px"),f(V,"class",k=xt(`${a[2]=="messages"?"yellow":"light-60"}`)+" svelte-11j1xcl"),f(q,"class","tab-bar-item svelte-11j1xcl"),f(N,"class",J=xt(`${a[2]=="agreements"?"yellow":"light-60"}`)+" svelte-11j1xcl"),f(M,"class","tab-bar-item svelte-11j1xcl"),f(D,"class","tab-bar svelte-11j1xcl"),f(R,"class","sections-container svelte-11j1xcl"),f(b,"class","chat svelte-11j1xcl"),f(s,"class","svelte-11j1xcl")},m(Y,te){C(Y,e,te),C(Y,t,te),C(Y,s,te),l(s,o),l(o,i),l(o,r),l(r,u),l(u,_),l(_,h),x[p].m(h,null),a[23](h),a[24](_),l(s,O),l(s,S),l(s,y),l(s,b),l(b,D),l(D,q),l(q,V),l(V,A),l(D,I),l(D,M),l(M,N),l(N,$),l(b,Q),l(b,R),~U&&W[U].m(R,null),re=!0,be||(ae=[_e(q,"click",a[25]),_e(q,"keydown",a[20]),_e(M,"click",a[26]),_e(M,"keydown",a[19])],be=!0)},p(Y,te){let ee=p;p=Ce(Y),p===ee?x[p].p(Y,te):(ht(),Re(x[ee],1,1,()=>{x[ee]=null}),pt(),m=x[p],m?m.p(Y,te):(m=x[p]=he[p](Y),m.c()),je(m,1),m.m(h,null)),(!re||te[0]&8192&&g!==(g=`height:${Y[13].toString()+"px"}`))&&f(_,"style",g),(!re||te[0]&4&&k!==(k=xt(`${Y[2]=="messages"?"yellow":"light-60"}`)+" svelte-11j1xcl"))&&f(V,"class",k),(!re||te[0]&4&&J!==(J=xt(`${Y[2]=="agreements"?"yellow":"light-60"}`)+" svelte-11j1xcl"))&&f(N,"class",J);let B=U;U=le(Y),U===B?~U&&W[U].p(Y,te):(H&&(ht(),Re(W[B],1,1,()=>{W[B]=null}),pt()),~U?(H=W[U],H?H.p(Y,te):(H=W[U]=ke[U](Y),H.c()),je(H,1),H.m(R,null)):H=null)},i(Y){re||(je(m),je(H),re=!0)},o(Y){Re(m),Re(H),re=!1},d(Y){Y&&n(e),Y&&n(t),Y&&n(s),x[p].d(),a[23](null),a[24](null),~U&&W[U].d(),be=!1,xe(ae)}}}let ns="assets/xcopy.gif";function $r(a,e,t){let s,o,i;lt(a,bs,G=>t(34,s=G)),lt(a,Il,G=>t(35,o=G)),lt(a,sl,G=>t(36,i=G));let r,u,_=new Array,h=new Array,p=new Array,m=!1,g,O=new Array,S="",y=1,b,D=!1,q,V,A="messages";_s(()=>{q&&q.return(),V&&V.return()}),hs(async()=>{ks&&!m&&(await J(),A=="messages"&&$("auto"))});let k=0,I=0;const M=G=>G.split(":").slice(1,G.length).join(":"),N=()=>{t(10,y=g.value.split(/\r\n|\r|\n/).length)},$=G=>{r&&u&&r.scroll({top:u.clientHeight,behavior:G})},J=async()=>{if(s){const G=`${Ke}/api/conversation/${i}`,X=await(await fetch(G)).json();if(o.address!=""&&(await R(),Il.set({title:"",address:""})),t(3,_=await s.conversations.list()),t(3,_=_==null?void 0:_.filter(ne=>{var Z;return((Z=ne.context)==null?void 0:Z.conversationId)&&ne.context.conversationId.startsWith("honestwork.app/")})),(_==null?void 0:_.length)>0&&(t(3,_=_==null?void 0:_.filter(ne=>X==null?void 0:X.find(Z=>Z.matched_user==ne.peerAddress))),t(3,_=_==null?void 0:_.filter(ne=>X.find(Z=>Z.muted==!1))),(_==null?void 0:_.length)>0)){await Q(_);for await(const ne of _)p.push(await he(ne.peerAddress));t(5,p),U(_[_.length-1])}}t(6,m=!0)},Q=async G=>{let pe=0;for await(const X of G){let ne=await H(X);D||(be(X),ae()),t(4,h[pe]=ne,h),pe++}t(4,h)},R=async()=>{const G=await s.conversations.newConversation(o.address,{conversationId:"honestwork.app/conversations",metadata:{title:o.title}});return _.push(G),U(_[_.length-1]),G},U=async G=>{t(11,b=G),re(G),$("auto")},H=async G=>{let pe,X=await G.messages();if(X.length==0)return"No messages yet...";let ne=X[X.length-1].content;return console.log(ne),ne.startsWith("Meta:")?(pe=JSON.parse(M(ne)),`[${pe.type}]`):ne.slice(0,30)+"..."},re=async G=>{let pe=await G.messages();t(8,O=pe)},be=async G=>{q=await G.streamMessages();for await(const pe of q)D=!0,O.push(pe),t(8,O),Q(_)},ae=async()=>{V=await s.conversations.stream();for await(const G of V)_.push(G),t(3,_)},he=async G=>{let X=await(await fetch(`/api/user/${G}`)).json();if(X.show_nft){let ne=await Ce(X.nft_address,X.nft_id);X.nft_image_url=ne}return X},x=async G=>{t(9,S=g.value);let pe=g.value;t(7,g.value="",g),await G.send(pe),t(9,S=""),$("auto")},Ce=async(G,pe)=>{try{const X=await fetch(`api/alchemy/${G}/${pe}`);if(X.ok)return(await X.json()).image}catch(X){console.log(X)}},ke=G=>ds(G,{duration:0});function W(G){Xe.call(this,a,G)}function le(G){Xe.call(this,a,G)}function Y(G){Xe.call(this,a,G)}function te(G){Xe.call(this,a,G)}const ee=G=>U(G);function B(G){zt[G?"unshift":"push"](()=>{u=G,t(1,u)})}function de(G){zt[G?"unshift":"push"](()=>{r=G,t(0,r)})}const ge=()=>t(2,A="messages"),Ee=()=>t(2,A="agreements");function K(G){zt[G?"unshift":"push"](()=>{u=G,t(1,u)})}function oe(G){zt[G?"unshift":"push"](()=>{r=G,t(0,r)})}function Ve(G){zt[G?"unshift":"push"](()=>{g=G,t(7,g)})}const ye=()=>x(b);return a.$$.update=()=>{a.$$.dirty[0]&7&&A=="messages"&&r&&u&&$("auto")},t(12,k=window.innerHeight-197),t(13,I=window.innerHeight-128),[r,u,A,_,h,p,m,g,O,S,y,b,k,I,N,U,x,ke,W,le,Y,te,ee,B,de,ge,Ee,K,oe,Ve,ye]}class Br extends el{constructor(e){super(),tl(this,e,$r,Ar,cl,{},null,[-1,-1])}}export{Br as default};
