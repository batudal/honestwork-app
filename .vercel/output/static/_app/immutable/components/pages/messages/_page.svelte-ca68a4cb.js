import{S as tl,i as ll,ao as ps,k as c,a as b,e as Be,l as d,m as _,h as n,c as E,p as ve,b as T,g as ht,t as Re,d as pt,f as je,M as Qe,a2 as Xe,q,r as S,n as f,I as l,u as de,O as ae,a3 as Ne,F as Ae,J as _e,K as et,C as Ke,_ as sl,af as dt,s as dl,o as fs,a4 as mt,ag as Et,ai as ml,aj as gl,x as St,y as At,z as $t,A as Mt,v as Yt,W as xt,N as ms,ae as gs}from"../../../chunks/paths-5beb49a4.js";import{i as fl,g as rl,n as kl,j as us,t as Ze,k as ks,u as ws,l as bs}from"../../../chunks/Network-167d2a19.js";import{s as Es}from"../../../chunks/Shortcut-6feda954.js";import{S as vs}from"../../../chunks/Svroller.svelte_svelte_type_style_lang-b8def8b7.js";import{s as ft,h as jt,i as _t,d as hl,a as _s}from"../../../chunks/Constants-883a4866.js";import{C as nt,a as el,e as Kt}from"../../../chunks/ABI-4946eaeb.js";import{f as Ve,p as zt,a as pl}from"../../../chunks/index-638fadc7.js";import{J as ys}from"../../../chunks/ArrowUp.svelte_svelte_type_style_lang-baa204d5.js";import{a as Is,J as Pl}from"../../../chunks/State-2b27296f.js";import{p as qt}from"../../../chunks/shared-52caabc7.js";function Ds(r){let e,t,s=r[9](r[0].sent)+"",o,i,a,v,h,p=r[0].content+"",u;return{c(){e=c("div"),t=c("div"),o=q(s),i=b(),a=c("div"),v=c("div"),h=c("div"),u=q(p),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=_(e);t=d(g,"DIV",{class:!0});var C=_(t);o=S(C,s),C.forEach(n),g.forEach(n),i=E(m),a=d(m,"DIV",{class:!0});var A=_(a);v=d(A,"DIV",{class:!0});var P=_(v);h=d(P,"DIV",{class:!0});var w=_(h);u=S(w,p),w.forEach(n),P.forEach(n),A.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","peer-date svelte-17dcvqg"),f(h,"class","body-text light-80"),f(v,"class","message-contents gray-line svelte-17dcvqg"),f(a,"class","peer-message svelte-17dcvqg")},m(m,g){T(m,e,g),l(e,t),l(t,o),T(m,i,g),T(m,a,g),l(a,v),l(v,h),l(h,u)},p(m,g){g&1&&s!==(s=m[9](m[0].sent)+"")&&de(o,s),g&1&&p!==(p=m[0].content+"")&&de(u,p)},i:ae,o:ae,d(m){m&&n(e),m&&n(i),m&&n(a)}}}function Vs(r){let e,t,s=r[9](r[0].sent)+"",o,i,a,v,h,p=r[0].content+"",u;return{c(){e=c("div"),t=c("div"),o=q(s),i=b(),a=c("div"),v=c("div"),h=c("div"),u=q(p),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=_(e);t=d(g,"DIV",{class:!0});var C=_(t);o=S(C,s),C.forEach(n),g.forEach(n),i=E(m),a=d(m,"DIV",{class:!0});var A=_(a);v=d(A,"DIV",{class:!0});var P=_(v);h=d(P,"DIV",{class:!0});var w=_(h);u=S(w,p),w.forEach(n),P.forEach(n),A.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","date svelte-17dcvqg"),f(h,"class","body-text light-80"),f(v,"class","message-contents yellow-line svelte-17dcvqg"),f(a,"class","self-message svelte-17dcvqg")},m(m,g){T(m,e,g),l(e,t),l(t,o),T(m,i,g),T(m,a,g),l(a,v),l(v,h),l(h,u)},p(m,g){g&1&&s!==(s=m[9](m[0].sent)+"")&&de(o,s),g&1&&p!==(p=m[0].content+"")&&de(u,p)},i:ae,o:ae,d(m){m&&n(e),m&&n(i),m&&n(a)}}}function Ps(r){let e,t,s,o;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("incompatible message format"),this.h()},l(i){e=d(i,"DIV",{class:!0});var a=_(e);t=d(a,"DIV",{class:!0});var v=_(t);s=d(v,"P",{class:!0});var h=_(s);o=S(h,"incompatible message format"),h.forEach(n),v.forEach(n),a.forEach(n),this.h()},h(){f(s,"class","red"),f(t,"class","message-contents yellow-line svelte-17dcvqg"),f(e,"class","self-message svelte-17dcvqg")},m(i,a){T(i,e,a),l(e,t),l(t,s),l(s,o)},p:ae,i:ae,o:ae,d(i){i&&n(e)}}}function js(r){let e,t,s=r[9](r[0].sent)+"",o,i,a,v,h,p,u,m,g=r[3].type+"",C,A,P,w,V,y,D,$,k=r[5]&&jl(r);return{c(){e=c("div"),t=c("div"),o=q(s),i=b(),a=c("div"),v=c("div"),h=b(),p=c("div"),u=c("div"),m=c("p"),C=q(g),A=b(),P=c("img"),V=b(),k&&k.c(),this.h()},l(I){e=d(I,"DIV",{class:!0});var M=_(e);t=d(M,"DIV",{class:!0});var N=_(t);o=S(N,s),N.forEach(n),M.forEach(n),i=E(I),a=d(I,"DIV",{class:!0});var F=_(a);v=d(F,"DIV",{class:!0}),_(v).forEach(n),h=E(F),p=d(F,"DIV",{class:!0});var W=_(p);u=d(W,"DIV",{class:!0});var te=_(u);m=d(te,"P",{class:!0});var j=_(m);C=S(j,g),j.forEach(n),A=E(te),P=d(te,"IMG",{src:!0,alt:!0}),te.forEach(n),V=E(W),k&&k.l(W),W.forEach(n),F.forEach(n),this.h()},h(){f(t,"class","body-text light-60"),f(e,"class","date  svelte-17dcvqg"),f(v,"class","date svelte-17dcvqg"),f(m,"class","yellow"),Ne(P.src,w=`${Ae}/icons/chevron_${r[5]?"active":"passive"}.svg`)||f(P,"src",w),f(P,"alt","arrow-right"),f(u,"class","meta-message-header svelte-17dcvqg"),f(p,"class","meta-message-contents svelte-17dcvqg"),f(a,"class","self-meta-message svelte-17dcvqg")},m(I,M){T(I,e,M),l(e,t),l(t,o),T(I,i,M),T(I,a,M),l(a,v),l(a,h),l(a,p),l(p,u),l(u,m),l(m,C),l(u,A),l(u,P),l(p,V),k&&k.m(p,null),y=!0,D||($=[_e(u,"click",r[11]),_e(u,"keydown",r[10])],D=!0)},p(I,M){(!y||M&1)&&s!==(s=I[9](I[0].sent)+"")&&de(o,s),(!y||M&8)&&g!==(g=I[3].type+"")&&de(C,g),(!y||M&32&&!Ne(P.src,w=`${Ae}/icons/chevron_${I[5]?"active":"passive"}.svg`))&&f(P,"src",w),I[5]?k?(k.p(I,M),M&32&&je(k,1)):(k=jl(I),k.c(),je(k,1),k.m(p,null)):k&&(ht(),Re(k,1,1,()=>{k=null}),pt())},i(I){y||(je(k),y=!0)},o(I){Re(k),y=!1},d(I){I&&n(e),I&&n(i),I&&n(a),k&&k.d(),D=!1,et($)}}}function jl(r){let e,t,s,o;const i=[Ns,Ms,$s,As,Ss,qs],a=[];function v(h,p){return h[3].type=="job offer"?0:h[3].type=="job acceptance"?1:h[3].type=="job execution"?2:h[3].type=="new payment"?3:h[3].type=="payment claimed"?4:h[3].type=="job cancelled"?5:-1}return~(e=v(r))&&(t=a[e]=i[e](r)),{c(){t&&t.c(),s=Be()},l(h){t&&t.l(h),s=Be()},m(h,p){~e&&a[e].m(h,p),T(h,s,p),o=!0},p(h,p){let u=e;e=v(h),e===u?~e&&a[e].p(h,p):(t&&(ht(),Re(a[u],1,1,()=>{a[u]=null}),pt()),~e?(t=a[e],t?t.p(h,p):(t=a[e]=i[e](h),t.c()),je(t,1),t.m(s.parentNode,s)):t=null)},i(h){o||(je(t),o=!0)},o(h){Re(t),o=!1},d(h){~e&&a[e].d(h),h&&n(s)}}}function qs(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=r[3].withdrawn_amount+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("withdrawn amount:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"withdrawn amount:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&8)&&X!==(X=R[3].withdrawn_amount+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function Ss(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=Ve(r[3].installment,r[6])+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("installment:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"installment:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&72)&&X!==(X=Ve(R[3].installment,R[6])+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function As(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=Ve(r[3].installment,r[6])+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("installment:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"installment:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&72)&&X!==(X=Ve(R[3].installment,R[6])+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function $s(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=Ve(r[3].downpayment,r[6])+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("downpayment:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"downpayment:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&72)&&X!==(X=Ve(R[3].downpayment,R[6])+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function Ms(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=Ve(r[3].downpayment,r[6])+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("downpayment:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"downpayment:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&72)&&X!==(X=Ve(R[3].downpayment,R[6])+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function Ns(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k=r[3].network+"",I,M,N,F,W,te,j,B,J=r[3].token+"",ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe=Ve(r[3].total_amount,r[6])+"",U,Ee,K,ne,Ie,we,G,pe,X=Ve(r[3].downpayment,r[6])+"",ie,Q,z;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("job:"),i=b(),a=c("a"),v=c("p"),h=q("linked job"),p=b(),u=c("div"),m=b(),g=c("img"),P=b(),w=c("div"),V=c("p"),y=q("network:"),D=b(),$=c("p"),I=q(k),M=b(),N=c("div"),F=c("p"),W=q("token:"),te=b(),j=c("div"),B=c("p"),ee=q(J),be=b(),oe=c("div"),he=b(),Z=c("img"),ge=b(),H=c("div"),re=c("p"),Y=q("total amount:"),le=b(),x=c("p"),ke=q("$"),U=q(fe),Ee=b(),K=c("div"),ne=c("p"),Ie=q("downpayment:"),we=b(),G=c("p"),pe=q("$"),ie=q(X),this.h()},l(R){e=d(R,"DIV",{class:!0});var O=_(e);t=d(O,"DIV",{class:!0});var qe=_(t);s=d(qe,"P",{class:!0});var ze=_(s);o=S(ze,"job:"),ze.forEach(n),i=E(qe),a=d(qe,"A",{class:!0,href:!0,target:!0,rel:!0});var ce=_(a);v=d(ce,"P",{});var Ce=_(v);h=S(Ce,"linked job"),Ce.forEach(n),p=E(ce),u=d(ce,"DIV",{style:!0}),_(u).forEach(n),m=E(ce),g=d(ce,"IMG",{src:!0,alt:!0}),ce.forEach(n),qe.forEach(n),P=E(O),w=d(O,"DIV",{class:!0});var $e=_(w);V=d($e,"P",{class:!0});var Je=_(V);y=S(Je,"network:"),Je.forEach(n),D=E($e),$=d($e,"P",{});var We=_($);I=S(We,k),We.forEach(n),$e.forEach(n),M=E(O),N=d(O,"DIV",{class:!0});var De=_(N);F=d(De,"P",{class:!0});var Oe=_(F);W=S(Oe,"token:"),Oe.forEach(n),te=E(De),j=d(De,"DIV",{class:!0});var me=_(j);B=d(me,"P",{});var He=_(B);ee=S(He,J),He.forEach(n),be=E(me),oe=d(me,"DIV",{style:!0}),_(oe).forEach(n),he=E(me),Z=d(me,"IMG",{src:!0,alt:!0}),me.forEach(n),De.forEach(n),ge=E(O),H=d(O,"DIV",{class:!0});var Pe=_(H);re=d(Pe,"P",{class:!0});var Ye=_(re);Y=S(Ye,"total amount:"),Ye.forEach(n),le=E(Pe),x=d(Pe,"P",{});var Me=_(x);ke=S(Me,"$"),U=S(Me,fe),Me.forEach(n),Pe.forEach(n),Ee=E(O),K=d(O,"DIV",{class:!0});var Se=_(K);ne=d(Se,"P",{class:!0});var Ue=_(ne);Ie=S(Ue,"downpayment:"),Ue.forEach(n),we=E(Se),G=d(Se,"P",{});var Ge=_(G);pe=S(Ge,"$"),ie=S(Ge,X),Ge.forEach(n),Se.forEach(n),O.forEach(n),this.h()},h(){f(s,"class","light-60"),ve(u,"width","4px"),Ne(g.src,C=`${Ae}/icons/external.svg`)||f(g,"src",C),f(g,"alt","arrow-right"),f(a,"class","token-link svelte-17dcvqg"),f(a,"href",A=`${Ke}/job/${r[3].recruiter}/${r[3].job_id}`),f(a,"target","_blank"),f(a,"rel","noreferrer"),f(t,"class","dropdown-item svelte-17dcvqg"),f(V,"class","light-60"),f(w,"class","dropdown-item svelte-17dcvqg"),f(F,"class","light-60"),ve(oe,"width","4px"),Ne(Z.src,Te=`${Ae}/icons/external.svg`)||f(Z,"src",Te),f(Z,"alt","arrow-right"),f(j,"class","token-link svelte-17dcvqg"),f(N,"class","dropdown-item svelte-17dcvqg"),f(re,"class","light-60"),f(H,"class","dropdown-item svelte-17dcvqg"),f(ne,"class","light-60"),f(K,"class","dropdown-item svelte-17dcvqg"),f(e,"class","dropdown-container svelte-17dcvqg")},m(R,O){T(R,e,O),l(e,t),l(t,s),l(s,o),l(t,i),l(t,a),l(a,v),l(v,h),l(a,p),l(a,u),l(a,m),l(a,g),l(e,P),l(e,w),l(w,V),l(V,y),l(w,D),l(w,$),l($,I),l(e,M),l(e,N),l(N,F),l(F,W),l(N,te),l(N,j),l(j,B),l(B,ee),l(j,be),l(j,oe),l(j,he),l(j,Z),l(e,ge),l(e,H),l(H,re),l(re,Y),l(H,le),l(H,x),l(x,ke),l(x,U),l(e,Ee),l(e,K),l(K,ne),l(ne,Ie),l(K,we),l(K,G),l(G,pe),l(G,ie),z=!0},p(R,O){(!z||O&8&&A!==(A=`${Ke}/job/${R[3].recruiter}/${R[3].job_id}`))&&f(a,"href",A),(!z||O&8)&&k!==(k=R[3].network+"")&&de(I,k),(!z||O&8)&&J!==(J=R[3].token+"")&&de(ee,J),(!z||O&72)&&fe!==(fe=Ve(R[3].total_amount,R[6])+"")&&de(U,fe),(!z||O&72)&&X!==(X=Ve(R[3].downpayment,R[6])+"")&&de(ie,X)},i(R){z||(sl(()=>{Q||(Q=dt(e,ft,{},!0)),Q.run(1)}),z=!0)},o(R){Q||(Q=dt(e,ft,{},!1)),Q.run(0),z=!1},d(R){R&&n(e),R&&Q&&Q.end()}}}function ql(r){let e;return{c(){e=c("div"),this.h()},l(t){e=d(t,"DIV",{style:!0}),_(e).forEach(n),this.h()},h(){ve(e,"height","12px")},m(t,s){T(t,e,s)},d(t){t&&n(e)}}}function Ts(r){let e,t,s,o,i,a,v;const h=[js,Ps,Vs,Ds],p=[];function u(g,C){return g[8]&&g[4]?0:g[8]&&!g[4]?1:g[0].senderAddress==g[7]?2:3}s=u(r),o=p[s]=h[s](r);let m=r[1]==r[2]-1&&ql();return{c(){e=c("div"),t=b(),o.c(),i=b(),m&&m.c(),a=Be(),this.h()},l(g){e=d(g,"DIV",{style:!0}),_(e).forEach(n),t=E(g),o.l(g),i=E(g),m&&m.l(g),a=Be(),this.h()},h(){ve(e,"height","12px")},m(g,C){T(g,e,C),T(g,t,C),p[s].m(g,C),T(g,i,C),m&&m.m(g,C),T(g,a,C),v=!0},p(g,[C]){let A=s;s=u(g),s===A?p[s].p(g,C):(ht(),Re(p[A],1,1,()=>{p[A]=null}),pt(),o=p[s],o?o.p(g,C):(o=p[s]=h[s](g),o.c()),je(o,1),o.m(i.parentNode,i)),g[1]==g[2]-1?m||(m=ql(),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null)},i(g){v||(je(o),v=!0)},o(g){Re(o),v=!1},d(g){g&&n(e),g&&n(t),p[s].d(g),g&&n(i),m&&m.d(g),g&&n(a)}}}function Cs(r,e,t){let s,o;Qe(r,fl,y=>t(12,s=y)),Qe(r,rl,y=>t(7,o=y));let{message:i}=e,{index:a}=e,{array_length:v}=e,h,p=!1,u=i.content.startsWith("Meta:"),m=!1,g;const C=async()=>{try{const y=new nt(h.token,el,s);t(6,g=await y.decimals())}catch(y){console.log(y)}},A=y=>new Date(y).toLocaleString(),P=y=>{let D=y.split(":").slice(1,y.length).join(":");try{t(3,h=JSON.parse(D)),t(4,p=!0)}catch($){console.log("Error parsing meta message: ",$)}};function w(y){Xe.call(this,r,y)}const V=()=>t(5,m=!m);return r.$$set=y=>{"message"in y&&t(0,i=y.message),"index"in y&&t(1,a=y.index),"array_length"in y&&t(2,v=y.array_length)},r.$$.update=()=>{r.$$.dirty&1&&u&&(P(i.content),C())},[i,a,v,h,p,m,g,o,u,A,w,V]}class Os extends tl{constructor(e){super(),ll(this,e,Cs,Ts,ps,{message:0,index:1,array_length:2})}}function Sl(r,e,t){const s=r.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function Al(r,e,t){const s=r.slice();return s[15]=e[t][0],s[16]=e[t][1],s}function Rs(r){let e,t,s,o=Object.entries(r[2]),i=[];for(let v=0;v<o.length;v+=1)i[v]=Ml(Sl(r,o,v));let a=r[1]=="recruiter"&&Nl(r);return{c(){e=c("main"),t=c("section");for(let v=0;v<i.length;v+=1)i[v].c();s=b(),a&&a.c(),this.h()},l(v){e=d(v,"MAIN",{class:!0});var h=_(e);t=d(h,"SECTION",{class:!0});var p=_(t);for(let u=0;u<i.length;u+=1)i[u].l(p);p.forEach(n),s=E(h),a&&a.l(h),h.forEach(n),this.h()},h(){f(t,"class","svelte-tcl7qb"),f(e,"class","svelte-tcl7qb")},m(v,h){T(v,e,h),l(e,t);for(let p=0;p<i.length;p+=1)i[p].m(t,null);l(e,s),a&&a.m(e,null)},p(v,h){if(h&31){o=Object.entries(v[2]);let p;for(p=0;p<o.length;p+=1){const u=Sl(v,o,p);i[p]?i[p].p(u,h):(i[p]=Ml(u),i[p].c(),i[p].m(t,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=o.length}v[1]=="recruiter"?a?a.p(v,h):(a=Nl(v),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(v){v&&n(e),mt(i,v),a&&a.d()}}}function Gs(r){let e,t,s,o=Object.entries(r[2]),i=[];for(let v=0;v<o.length;v+=1)i[v]=Cl(Al(r,o,v));let a=r[1]=="creator"&&Ol(r);return{c(){e=c("main"),t=c("section");for(let v=0;v<i.length;v+=1)i[v].c();s=b(),a&&a.c(),this.h()},l(v){e=d(v,"MAIN",{class:!0});var h=_(e);t=d(h,"SECTION",{class:!0});var p=_(t);for(let u=0;u<i.length;u+=1)i[u].l(p);p.forEach(n),s=E(h),a&&a.l(h),h.forEach(n),this.h()},h(){f(t,"class","svelte-tcl7qb"),f(e,"class","svelte-tcl7qb")},m(v,h){T(v,e,h),l(e,t);for(let p=0;p<i.length;p+=1)i[p].m(t,null);l(e,s),a&&a.m(e,null)},p(v,h){if(h&31){o=Object.entries(v[2]);let p;for(p=0;p<o.length;p+=1){const u=Al(v,o,p);i[p]?i[p].p(u,h):(i[p]=Cl(u),i[p].c(),i[p].m(t,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=o.length}v[1]=="creator"?a?a.p(v,h):(a=Ol(v),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(v){v&&n(e),mt(i,v),a&&a.d()}}}function $l(r){let e,t,s=r[15]+"",o,i,a;function v(u,m){return u[15]==="token_address"?Bs:u[15]==="total_amount"||u[15]==="downpayment"?Us:u[15]==="job_id"?Ls:Fs}let h=v(r),p=h(r);return{c(){e=c("div"),t=c("p"),o=q(s),i=b(),p.c(),a=b(),this.h()},l(u){e=d(u,"DIV",{class:!0});var m=_(e);t=d(m,"P",{class:!0});var g=_(t);o=S(g,s),g.forEach(n),i=E(m),p.l(m),a=E(m),m.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","info svelte-tcl7qb")},m(u,m){T(u,e,m),l(e,t),l(t,o),l(e,i),p.m(e,null),l(e,a)},p(u,m){m&4&&s!==(s=u[15]+"")&&de(o,s),h===(h=v(u))&&p?p.p(u,m):(p.d(1),p=h(u),p&&(p.c(),p.m(e,a)))},d(u){u&&n(e),p.d()}}}function Fs(r){let e,t=r[16]+"",s;return{c(){e=c("p"),s=q(t)},l(o){e=d(o,"P",{});var i=_(e);s=S(i,t),i.forEach(n)},m(o,i){T(o,e,i),l(e,s)},p(o,i){i&4&&t!==(t=o[16]+"")&&de(s,t)},d(o){o&&n(e)}}}function Ls(r){let e,t,s,o,i,a,v,h,p;return{c(){e=c("a"),t=c("p"),s=q("linked job"),o=b(),i=c("div"),a=b(),v=c("img"),this.h()},l(u){e=d(u,"A",{class:!0,href:!0});var m=_(e);t=d(m,"P",{});var g=_(t);s=S(g,"linked job"),g.forEach(n),o=E(m),i=d(m,"DIV",{style:!0}),_(i).forEach(n),a=E(m),v=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){ve(i,"width","4px"),Ne(v.src,h=`${Ae}/icons/external.svg`)||f(v,"src",h),f(v,"alt","arrow-right"),f(e,"class","info-value svelte-tcl7qb"),f(e,"href",p=`${Ke}/job/${r[1]=="recruiter"?r[4]:r[0].peerAddress}/${r[16]}`)},m(u,m){T(u,e,m),l(e,t),l(t,s),l(e,o),l(e,i),l(e,a),l(e,v)},p(u,m){m&23&&p!==(p=`${Ke}/job/${u[1]=="recruiter"?u[4]:u[0].peerAddress}/${u[16]}`)&&f(e,"href",p)},d(u){u&&n(e)}}}function Us(r){let e,t,s=parseFloat(Ve(r[16],r[3])).toLocaleString()+"",o;return{c(){e=c("p"),t=q("$"),o=q(s)},l(i){e=d(i,"P",{});var a=_(e);t=S(a,"$"),o=S(a,s),a.forEach(n)},m(i,a){T(i,e,a),l(e,t),l(e,o)},p(i,a){a&12&&s!==(s=parseFloat(Ve(i[16],i[3])).toLocaleString()+"")&&de(o,s)},d(i){i&&n(e)}}}function Bs(r){let e,t,s=r[16].toString().substring(0,6)+"..."+r[16].toString().substring(r[16].toString().length-4),o,i,a,v,h,p;return{c(){e=c("a"),t=c("p"),o=q(s),i=b(),a=c("div"),v=b(),h=c("img"),this.h()},l(u){e=d(u,"A",{href:!0,target:!0,rel:!0,class:!0});var m=_(e);t=d(m,"P",{class:!0});var g=_(t);o=S(g,s),g.forEach(n),i=E(m),a=d(m,"DIV",{style:!0}),_(a).forEach(n),v=E(m),h=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){f(t,"class","link"),ve(a,"width","4px"),Ne(h.src,p=Ae+"/icons/external.svg")||f(h,"src",p),f(h,"alt","Token address"),f(e,"href","https://arbiscan.com/"),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","info-value svelte-tcl7qb")},m(u,m){T(u,e,m),l(e,t),l(t,o),l(e,i),l(e,a),l(e,v),l(e,h)},p(u,m){m&4&&s!==(s=u[16].toString().substring(0,6)+"..."+u[16].toString().substring(u[16].toString().length-4))&&de(o,s)},d(u){u&&n(e)}}}function Ml(r){let e,t=r[15]!="signature"&&$l(r);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,o){t&&t.m(s,o),T(s,e,o)},p(s,o){s[15]!="signature"?t?t.p(s,o):(t=$l(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&n(e)}}}function Nl(r){let e,t,s,o,i,a;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("execute agreement"),this.h()},l(v){e=d(v,"DIV",{class:!0});var h=_(e);t=d(h,"DIV",{class:!0});var p=_(t);s=d(p,"P",{});var u=_(s);o=S(u,"execute agreement"),u.forEach(n),p.forEach(n),h.forEach(n),this.h()},h(){f(t,"class","action-button-full yellow link svelte-tcl7qb"),f(e,"class","command-bar svelte-tcl7qb")},m(v,h){T(v,e,h),l(e,t),l(t,s),l(s,o),i||(a=[_e(t,"click",r[5]),_e(t,"keydown",r[9])],i=!0)},p:ae,d(v){v&&n(e),i=!1,et(a)}}}function Tl(r){let e,t,s=r[15]+"",o,i,a;function v(u,m){return u[15]==="token_address"?Ys:u[15]==="total_amount"||u[15]==="downpayment"?Hs:u[15]==="job_id"?Ws:Js}let h=v(r),p=h(r);return{c(){e=c("div"),t=c("p"),o=q(s),i=b(),p.c(),a=b(),this.h()},l(u){e=d(u,"DIV",{class:!0});var m=_(e);t=d(m,"P",{class:!0});var g=_(t);o=S(g,s),g.forEach(n),i=E(m),p.l(m),a=E(m),m.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","info svelte-tcl7qb")},m(u,m){T(u,e,m),l(e,t),l(t,o),l(e,i),p.m(e,null),l(e,a)},p(u,m){m&4&&s!==(s=u[15]+"")&&de(o,s),h===(h=v(u))&&p?p.p(u,m):(p.d(1),p=h(u),p&&(p.c(),p.m(e,a)))},d(u){u&&n(e),p.d()}}}function Js(r){let e,t=r[16]+"",s;return{c(){e=c("p"),s=q(t)},l(o){e=d(o,"P",{});var i=_(e);s=S(i,t),i.forEach(n)},m(o,i){T(o,e,i),l(e,s)},p(o,i){i&4&&t!==(t=o[16]+"")&&de(s,t)},d(o){o&&n(e)}}}function Ws(r){let e,t,s,o,i,a,v,h,p;return{c(){e=c("a"),t=c("p"),s=q("linked job"),o=b(),i=c("div"),a=b(),v=c("img"),this.h()},l(u){e=d(u,"A",{class:!0,href:!0});var m=_(e);t=d(m,"P",{});var g=_(t);s=S(g,"linked job"),g.forEach(n),o=E(m),i=d(m,"DIV",{style:!0}),_(i).forEach(n),a=E(m),v=d(m,"IMG",{src:!0,alt:!0}),m.forEach(n),this.h()},h(){ve(i,"width","4px"),Ne(v.src,h=`${Ae}/icons/external.svg`)||f(v,"src",h),f(v,"alt","arrow-right"),f(e,"class","info-value svelte-tcl7qb"),f(e,"href",p=`${Ke}/job/${r[1]=="recruiter"?r[4]:r[0].peerAddress}/${r[16]}`)},m(u,m){T(u,e,m),l(e,t),l(t,s),l(e,o),l(e,i),l(e,a),l(e,v)},p(u,m){m&23&&p!==(p=`${Ke}/job/${u[1]=="recruiter"?u[4]:u[0].peerAddress}/${u[16]}`)&&f(e,"href",p)},d(u){u&&n(e)}}}function Hs(r){let e,t,s=parseFloat(Ve(r[16],r[3])).toLocaleString()+"",o;return{c(){e=c("p"),t=q("$"),o=q(s)},l(i){e=d(i,"P",{});var a=_(e);t=S(a,"$"),o=S(a,s),a.forEach(n)},m(i,a){T(i,e,a),l(e,t),l(e,o)},p(i,a){a&12&&s!==(s=parseFloat(Ve(i[16],i[3])).toLocaleString()+"")&&de(o,s)},d(i){i&&n(e)}}}function Ys(r){let e,t,s=r[16].toString().substring(0,6)+"..."+r[16].toString().substring(r[16].toString().length-4),o,i,a,v,h,p,u;return{c(){e=c("a"),t=c("p"),o=q(s),i=b(),a=c("div"),v=b(),h=c("img"),this.h()},l(m){e=d(m,"A",{href:!0,target:!0,rel:!0,class:!0});var g=_(e);t=d(g,"P",{class:!0});var C=_(t);o=S(C,s),C.forEach(n),i=E(g),a=d(g,"DIV",{style:!0}),_(a).forEach(n),v=E(g),h=d(g,"IMG",{src:!0,alt:!0}),g.forEach(n),this.h()},h(){f(t,"class","link"),ve(a,"width","4px"),Ne(h.src,p=Ae+"/icons/external.svg")||f(h,"src",p),f(h,"alt","Token address"),f(e,"href",u=`https://arbiscan.com/address/${r[16]}`),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","info-value svelte-tcl7qb")},m(m,g){T(m,e,g),l(e,t),l(t,o),l(e,i),l(e,a),l(e,v),l(e,h)},p(m,g){g&4&&s!==(s=m[16].toString().substring(0,6)+"..."+m[16].toString().substring(m[16].toString().length-4))&&de(o,s),g&4&&u!==(u=`https://arbiscan.com/address/${m[16]}`)&&f(e,"href",u)},d(m){m&&n(e)}}}function Cl(r){let e,t=r[15]!="signature"&&Tl(r);return{c(){t&&t.c(),e=Be()},l(s){t&&t.l(s),e=Be()},m(s,o){t&&t.m(s,o),T(s,e,o)},p(s,o){s[15]!="signature"?t?t.p(s,o):(t=Tl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&n(e)}}}function Ol(r){let e,t,s,o,i,a;return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("accept offer"),this.h()},l(v){e=d(v,"DIV",{class:!0});var h=_(e);t=d(h,"DIV",{class:!0});var p=_(t);s=d(p,"P",{});var u=_(s);o=S(u,"accept offer"),u.forEach(n),p.forEach(n),h.forEach(n),this.h()},h(){f(t,"class","action-button-full yellow link svelte-tcl7qb"),f(e,"class","command-bar svelte-tcl7qb")},m(v,h){T(v,e,h),l(e,t),l(t,s),l(s,o),i||(a=[_e(t,"click",r[6]),_e(t,"keydown",r[8])],i=!0)},p:ae,d(v){v&&n(e),i=!1,et(a)}}}function zs(r){let e;function t(i,a){if(i[2].status=="offered")return Gs;if(i[2].status=="accepted")return Rs}let s=t(r),o=s&&s(r);return{c(){o&&o.c(),e=Be()},l(i){o&&o.l(i),e=Be()},m(i,a){o&&o.m(i,a),T(i,e,a)},p(i,[a]){s===(s=t(i))&&o?o.p(i,a):(o&&o.d(1),o=s&&s(i),o&&(o.c(),o.m(e.parentNode,e)))},i:ae,o:ae,d(i){o&&o.d(i),i&&n(e)}}}function Ks(r,e,t){let s,o,i,a;Qe(r,kl,y=>t(10,s=y)),Qe(r,rl,y=>t(4,o=y)),Qe(r,us,y=>t(11,i=y)),Qe(r,fl,y=>t(12,a=y));let{slot:v}=e,{conversation:h}=e,{role:p}=e,{deal:u}=e,m;fs(()=>{g()});const g=async()=>{try{const y=new nt(u.token_address,el,a);t(3,m=await y.decimals())}catch(y){console.log(y)}},C=async y=>{try{let k=await(await new nt(u.token_address,el,a).approve(qt.PUBLIC_ESCROW_ADDRESS,y)).wait();k&&k.status==1&&Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>approved ${jt(u.network,u.token_address)}.</p>`)}catch(D){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${D.code}</p>`)}},A=async()=>{const y=p=="recruiter"?o:h.peerAddress;await C(u.total_amount);try{let k=await(await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,s).createDealSignature(o,h.peerAddress,u.token_address,u.total_amount,u.downpayment,i,u.job_id,u.signature)).wait();if(k&&k.status==1){const M=await(await fetch(`/api/auth/login/${o}`,{method:"POST"})).json(),N=await s.signMessage(M),F=`${Ke}/api/execute_deal/${o}/${h.peerAddress}/${N}`,W={slot:v},te=await fetch(F,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});await h.send(`Meta:${JSON.stringify({type:"job execution",network:u.network,token:jt(u.network,u.token_address),token_address:u.token_address,total_amount:u.total_amount,downpayment:u.downpayment,recruiter:y,job_id:u.job_id})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>executed agreement.</p>`)}}catch(D){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${D.code}</p>`)}},P=async()=>{try{const y=new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,s),D=p=="recruiter"?o:h.peerAddress,$=p=="recruiter"?h.peerAddress:o,k=await y.getMessageHash(D,$,u.token_address,u.total_amount,u.downpayment,u.job_id);let I=Is(k),M=await s.signMessage(I);const N=`${Ke}/api/accept_deal/${D}/${$}`;(await fetch(N,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot:v,signature:M})})).ok&&(await h.send(`Meta:${JSON.stringify({type:"job acceptance",network:u.network,token:jt(u.network,u.token_address),token_address:u.token_address,total_amount:u.total_amount,downpayment:u.downpayment,recruiter:D,job_id:u.job_id})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>accepted job offer.</p>`))}catch(y){console.log(y),Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${y}</p>`)}};function w(y){Xe.call(this,r,y)}function V(y){Xe.call(this,r,y)}return r.$$set=y=>{"slot"in y&&t(7,v=y.slot),"conversation"in y&&t(0,h=y.conversation),"role"in y&&t(1,p=y.role),"deal"in y&&t(2,u=y.deal)},[h,p,u,m,o,A,P,v,w,V]}class hs extends tl{constructor(e){super(),ll(this,e,Ks,zs,dl,{slot:7,conversation:0,role:1,deal:2})}}function Xs(r){let e,t;return{c(){e=c("p"),t=q("n/a")},l(s){e=d(s,"P",{});var o=_(e);t=S(o,"n/a"),o.forEach(n)},m(s,o){T(s,e,o),l(e,t)},p:ae,d(s){s&&n(e)}}}function Qs(r){let e,t=(r[8](r[0].recruiterRating)/100).toFixed(2)+"",s,o;return{c(){e=c("p"),s=q(t),o=q("/10")},l(i){e=d(i,"P",{});var a=_(e);s=S(a,t),o=S(a,"/10"),a.forEach(n)},m(i,a){T(i,e,a),l(e,s),l(e,o)},p(i,a){a&1&&t!==(t=(i[8](i[0].recruiterRating)/100).toFixed(2)+"")&&de(s,t)},d(i){i&&n(e)}}}function Zs(r){let e,t;return{c(){e=c("p"),t=q("n/a")},l(s){e=d(s,"P",{});var o=_(e);t=S(o,"n/a"),o.forEach(n)},m(s,o){T(s,e,o),l(e,t)},p:ae,d(s){s&&n(e)}}}function xs(r){let e,t=r[8](r[0].creatorRating)/100+"",s,o;return{c(){e=c("p"),s=q(t),o=q("/10")},l(i){e=d(i,"P",{});var a=_(e);s=S(a,t),o=S(a,"/10"),a.forEach(n)},m(i,a){T(i,e,a),l(e,s),l(e,o)},p(i,a){a&1&&t!==(t=i[8](i[0].creatorRating)/100+"")&&de(s,t)},d(i){i&&n(e)}}}function er(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A;return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("p"),i=q("rating"),a=b(),v=c("div"),h=c("input"),p=b(),u=c("div"),m=c("p"),g=q("claim payment"),this.h()},l(P){e=d(P,"DIV",{class:!0});var w=_(e);t=d(w,"DIV",{class:!0,style:!0});var V=_(t);s=d(V,"DIV",{class:!0});var y=_(s);o=d(y,"P",{});var D=_(o);i=S(D,"rating"),D.forEach(n),y.forEach(n),a=E(V),v=d(V,"DIV",{class:!0});var $=_(v);h=d($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(n),V.forEach(n),p=E(w),u=d(w,"DIV",{class:!0});var k=_(u);m=d(k,"P",{});var I=_(m);g=S(I,"claim payment"),I.forEach(n),k.forEach(n),w.forEach(n),this.h()},h(){f(s,"class","placeholder svelte-1p9nql2"),f(h,"type","text"),f(h,"placeholder","0.0/10"),f(h,"class","svelte-1p9nql2"),f(v,"class","flex-input"),f(t,"class","command svelte-1p9nql2"),ve(t,"width","134px"),f(u,"class","action-button yellow link svelte-1p9nql2"),f(e,"class","command-bar svelte-1p9nql2")},m(P,w){T(P,e,w),l(e,t),l(t,s),l(s,o),l(o,i),l(t,a),l(t,v),l(v,h),Et(h,r[2]),l(e,p),l(e,u),l(u,m),l(m,g),C||(A=[_e(h,"input",r[19]),_e(u,"click",r[10]),_e(u,"keydown",r[16])],C=!0)},p(P,w){w&4&&h.value!==P[2]&&Et(h,P[2])},d(P){P&&n(e),C=!1,et(A)}}}function tr(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k,I,M,N,F,W,te;return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("p"),i=q("amount($)"),a=b(),v=c("div"),h=c("input"),p=b(),u=c("div"),m=c("div"),g=c("p"),C=q("rating"),A=b(),P=c("div"),w=c("input"),V=b(),y=c("div"),D=c("p"),$=q("unlock payment"),k=b(),I=c("div"),M=c("div"),N=c("p"),F=q("cancel and withdraw remaining"),this.h()},l(j){e=d(j,"DIV",{class:!0});var B=_(e);t=d(B,"DIV",{class:!0,style:!0});var J=_(t);s=d(J,"DIV",{class:!0});var ee=_(s);o=d(ee,"P",{});var be=_(o);i=S(be,"amount($)"),be.forEach(n),ee.forEach(n),a=E(J),v=d(J,"DIV",{class:!0});var oe=_(v);h=d(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(n),J.forEach(n),p=E(B),u=d(B,"DIV",{class:!0,style:!0});var he=_(u);m=d(he,"DIV",{class:!0});var Z=_(m);g=d(Z,"P",{});var Te=_(g);C=S(Te,"rating"),Te.forEach(n),Z.forEach(n),A=E(he),P=d(he,"DIV",{class:!0});var ge=_(P);w=d(ge,"INPUT",{type:!0,placeholder:!0,class:!0}),ge.forEach(n),he.forEach(n),V=E(B),y=d(B,"DIV",{class:!0});var H=_(y);D=d(H,"P",{});var re=_(D);$=S(re,"unlock payment"),re.forEach(n),H.forEach(n),B.forEach(n),k=E(j),I=d(j,"DIV",{class:!0});var Y=_(I);M=d(Y,"DIV",{class:!0});var le=_(M);N=d(le,"P",{});var x=_(N);F=S(x,"cancel and withdraw remaining"),x.forEach(n),le.forEach(n),Y.forEach(n),this.h()},h(){f(s,"class","placeholder svelte-1p9nql2"),f(h,"type","text"),f(h,"placeholder","0"),f(h,"class","svelte-1p9nql2"),f(v,"class","flex-input"),f(t,"class","command svelte-1p9nql2"),ve(t,"width","164px"),f(m,"class","placeholder svelte-1p9nql2"),f(w,"type","text"),f(w,"placeholder","0.0/10"),f(w,"class","svelte-1p9nql2"),f(P,"class","flex-input"),f(u,"class","command svelte-1p9nql2"),ve(u,"width","134px"),f(y,"class","action-button yellow link svelte-1p9nql2"),f(e,"class","command-bar svelte-1p9nql2"),f(M,"class","action-button light-60 link svelte-1p9nql2"),f(I,"class","command-bar svelte-1p9nql2")},m(j,B){T(j,e,B),l(e,t),l(t,s),l(s,o),l(o,i),l(t,a),l(t,v),l(v,h),Et(h,r[3]),l(e,p),l(e,u),l(u,m),l(m,g),l(g,C),l(u,A),l(u,P),l(P,w),Et(w,r[2]),l(e,V),l(e,y),l(y,D),l(D,$),T(j,k,B),T(j,I,B),l(I,M),l(M,N),l(N,F),W||(te=[_e(h,"input",r[17]),_e(w,"input",r[18]),_e(y,"click",r[9]),_e(y,"keydown",r[15]),_e(M,"click",r[11]),_e(M,"keydown",r[14])],W=!0)},p(j,B){B&8&&h.value!==j[3]&&Et(h,j[3]),B&4&&w.value!==j[2]&&Et(w,j[2])},d(j){j&&n(e),j&&n(k),j&&n(I),W=!1,et(te)}}}function lr(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D=_t(r[5])+"",$,k,I,M,N,F,W,te,j=jt(_t(r[5]),r[0].paymentToken)+"",B,J,ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe,U,Ee,K,ne,Ie,we,G,pe,X,ie,Q=parseFloat(Ve(r[0].totalPayment,r[1])).toLocaleString()+"",z,R,O,qe,ze,ce,Ce,$e,Je=parseFloat(Ve(r[0].claimableAmount,r[1])).toLocaleString()+"",We,De,Oe,me,He,Pe,Ye,Me,Se,Ue,Ge,Ct,st,it,gt,kt=parseFloat(Ve(r[0].totalPayment,r[1]))-parseFloat(Ve(r[0].claimableAmount,r[1]))-parseFloat(Ve(r[0].claimedAmount,r[1]))+"",rt,wt,at,Nt,Ot,tt;function Rt(se,ye){return ye&1&&(le=null),le==null&&(le=se[8](se[0].recruiterRating)>0),le?Qs:Xs}let ut=Rt(r,-1),xe=ut(r);function ct(se,ye){return ye&1&&(K=null),K==null&&(K=se[8](se[0].creatorRating)>0),K?xs:Zs}let bt=ct(r,-1),lt=bt(r);function Xt(se,ye){if(ye&65&&(tt=null),se[4]!=100&&se[6]==se[0].recruiter)return tr;if(tt==null&&(tt=se[6]==se[0].creator&&se[7]()>0),tt)return er}let yt=Xt(r,-1),Fe=yt&&yt(r);return{c(){e=c("main"),t=c("section"),s=c("div"),o=c("a"),i=c("p"),a=q("linked job"),v=b(),h=c("div"),p=b(),u=c("img"),C=b(),A=c("div"),P=c("p"),w=q("network"),V=b(),y=c("p"),$=q(D),k=b(),I=c("div"),M=c("p"),N=q("token"),F=b(),W=c("a"),te=c("p"),B=q(j),J=b(),ee=c("div"),be=b(),oe=c("img"),Te=b(),ge=c("div"),H=c("p"),re=q("recruiter rating"),Y=b(),xe.c(),x=b(),ke=c("div"),fe=c("p"),U=q("creator rating"),Ee=b(),lt.c(),ne=b(),Ie=c("div"),we=c("p"),G=q("total amount"),pe=b(),X=c("p"),ie=q("$"),z=q(Q),R=b(),O=c("div"),qe=c("p"),ze=q("claimable amount"),ce=b(),Ce=c("p"),$e=q("$"),We=q(Je),De=b(),Oe=c("div"),me=c("div"),He=b(),Pe=c("div"),Ye=b(),Me=c("div"),Se=b(),Ue=c("div"),Ge=c("p"),Ct=q("outstanding payment"),st=b(),it=c("p"),gt=q("$"),rt=q(kt),wt=b(),at=c("div"),Ot=b(),Fe&&Fe.c(),this.h()},l(se){e=d(se,"MAIN",{class:!0});var ye=_(e);t=d(ye,"SECTION",{class:!0});var Le=_(t);s=d(Le,"DIV",{class:!0});var L=_(s);o=d(L,"A",{href:!0});var ue=_(o);i=d(ue,"P",{});var al=_(i);a=S(al,"linked job"),al.forEach(n),v=E(ue),h=d(ue,"DIV",{style:!0}),_(h).forEach(n),p=E(ue),u=d(ue,"IMG",{src:!0,alt:!0}),ue.forEach(n),L.forEach(n),C=E(Le),A=d(Le,"DIV",{class:!0});var Gt=_(A);P=d(Gt,"P",{class:!0});var Ft=_(P);w=S(Ft,"network"),Ft.forEach(n),V=E(Gt),y=d(Gt,"P",{});var Lt=_(y);$=S(Lt,D),Lt.forEach(n),Gt.forEach(n),k=E(Le),I=d(Le,"DIV",{class:!0});var It=_(I);M=d(It,"P",{class:!0});var Ut=_(M);N=S(Ut,"token"),Ut.forEach(n),F=E(It),W=d(It,"A",{href:!0,target:!0,rel:!0,class:!0});var vt=_(W);te=d(vt,"P",{class:!0});var ol=_(te);B=S(ol,j),ol.forEach(n),J=E(vt),ee=d(vt,"DIV",{style:!0}),_(ee).forEach(n),be=E(vt),oe=d(vt,"IMG",{src:!0,alt:!0}),vt.forEach(n),It.forEach(n),Te=E(Le),ge=d(Le,"DIV",{class:!0});var Bt=_(ge);H=d(Bt,"P",{class:!0});var Jt=_(H);re=S(Jt,"recruiter rating"),Jt.forEach(n),Y=E(Bt),xe.l(Bt),Bt.forEach(n),x=E(Le),ke=d(Le,"DIV",{class:!0});var Dt=_(ke);fe=d(Dt,"P",{class:!0});var nl=_(fe);U=S(nl,"creator rating"),nl.forEach(n),Ee=E(Dt),lt.l(Dt),Dt.forEach(n),ne=E(Le),Ie=d(Le,"DIV",{class:!0});var Vt=_(Ie);we=d(Vt,"P",{class:!0});var il=_(we);G=S(il,"total amount"),il.forEach(n),pe=E(Vt),X=d(Vt,"P",{});var Qt=_(X);ie=S(Qt,"$"),z=S(Qt,Q),Qt.forEach(n),Vt.forEach(n),R=E(Le),O=d(Le,"DIV",{class:!0});var Pt=_(O);qe=d(Pt,"P",{class:!0});var Wt=_(qe);ze=S(Wt,"claimable amount"),Wt.forEach(n),ce=E(Pt),Ce=d(Pt,"P",{});var Zt=_(Ce);$e=S(Zt,"$"),We=S(Zt,Je),Zt.forEach(n),Pt.forEach(n),De=E(Le),Oe=d(Le,"DIV",{class:!0});var ot=_(Oe);me=d(ot,"DIV",{style:!0}),_(me).forEach(n),He=E(ot),Pe=d(ot,"DIV",{class:!0}),_(Pe).forEach(n),Ye=E(ot),Me=d(ot,"DIV",{style:!0}),_(Me).forEach(n),Se=E(ot),Ue=d(ot,"DIV",{class:!0});var Ht=_(Ue);Ge=d(Ht,"P",{class:!0});var cl=_(Ge);Ct=S(cl,"outstanding payment"),cl.forEach(n),st=E(Ht),it=d(Ht,"P",{class:!0});var Tt=_(it);gt=S(Tt,"$"),rt=S(Tt,kt),Tt.forEach(n),Ht.forEach(n),ot.forEach(n),Le.forEach(n),wt=E(ye),at=d(ye,"DIV",{class:!0,style:!0}),_(at).forEach(n),Ot=E(ye),Fe&&Fe.l(ye),ye.forEach(n),this.h()},h(){ve(h,"width","4px"),Ne(u.src,m=`${Ae}/icons/external.svg`)||f(u,"src",m),f(u,"alt","arrow-right"),f(o,"href",g=`${Ke}/job/${r[0].recruiter}/${r[0].jobId}`),f(s,"class","info svelte-1p9nql2"),f(P,"class","light-60"),f(A,"class","info svelte-1p9nql2"),f(M,"class","light-60"),f(te,"class","link"),ve(ee,"width","4px"),Ne(oe.src,he=Ae+"/icons/external.svg")||f(oe,"src",he),f(oe,"alt","Token address"),f(W,"href",Z=`https://arbiscan.com/address/${r[0].paymentToken}`),f(W,"target","_blank"),f(W,"rel","noreferrer"),f(W,"class","info-value svelte-1p9nql2"),f(I,"class","info svelte-1p9nql2"),f(H,"class","light-60"),f(ge,"class","info svelte-1p9nql2"),f(fe,"class","light-60"),f(ke,"class","info svelte-1p9nql2"),f(we,"class","light-60"),f(Ie,"class","info svelte-1p9nql2"),f(qe,"class","light-60"),f(O,"class","info svelte-1p9nql2"),ve(me,"height","8px"),f(Pe,"class","line svelte-1p9nql2"),ve(Me,"height","8px"),f(Ge,"class","light-60"),f(it,"class","red"),f(Ue,"class","outstanding-row svelte-1p9nql2"),f(Oe,"class","outstanding-container svelte-1p9nql2"),f(t,"class","svelte-1p9nql2"),f(at,"class","progress-line svelte-1p9nql2"),f(at,"style",Nt=`width:${r[4]}%; ${r[4]==100?"border-color: var(--color-success)":""}`),f(e,"class","svelte-1p9nql2")},m(se,ye){T(se,e,ye),l(e,t),l(t,s),l(s,o),l(o,i),l(i,a),l(o,v),l(o,h),l(o,p),l(o,u),l(t,C),l(t,A),l(A,P),l(P,w),l(A,V),l(A,y),l(y,$),l(t,k),l(t,I),l(I,M),l(M,N),l(I,F),l(I,W),l(W,te),l(te,B),l(W,J),l(W,ee),l(W,be),l(W,oe),l(t,Te),l(t,ge),l(ge,H),l(H,re),l(ge,Y),xe.m(ge,null),l(t,x),l(t,ke),l(ke,fe),l(fe,U),l(ke,Ee),lt.m(ke,null),l(t,ne),l(t,Ie),l(Ie,we),l(we,G),l(Ie,pe),l(Ie,X),l(X,ie),l(X,z),l(t,R),l(t,O),l(O,qe),l(qe,ze),l(O,ce),l(O,Ce),l(Ce,$e),l(Ce,We),l(t,De),l(t,Oe),l(Oe,me),l(Oe,He),l(Oe,Pe),l(Oe,Ye),l(Oe,Me),l(Oe,Se),l(Oe,Ue),l(Ue,Ge),l(Ge,Ct),l(Ue,st),l(Ue,it),l(it,gt),l(it,rt),l(e,wt),l(e,at),l(e,Ot),Fe&&Fe.m(e,null)},p(se,[ye]){ye&1&&g!==(g=`${Ke}/job/${se[0].recruiter}/${se[0].jobId}`)&&f(o,"href",g),ye&32&&D!==(D=_t(se[5])+"")&&de($,D),ye&33&&j!==(j=jt(_t(se[5]),se[0].paymentToken)+"")&&de(B,j),ye&1&&Z!==(Z=`https://arbiscan.com/address/${se[0].paymentToken}`)&&f(W,"href",Z),ut===(ut=Rt(se,ye))&&xe?xe.p(se,ye):(xe.d(1),xe=ut(se),xe&&(xe.c(),xe.m(ge,null))),bt===(bt=ct(se,ye))&&lt?lt.p(se,ye):(lt.d(1),lt=bt(se),lt&&(lt.c(),lt.m(ke,null))),ye&3&&Q!==(Q=parseFloat(Ve(se[0].totalPayment,se[1])).toLocaleString()+"")&&de(z,Q),ye&3&&Je!==(Je=parseFloat(Ve(se[0].claimableAmount,se[1])).toLocaleString()+"")&&de(We,Je),ye&3&&kt!==(kt=parseFloat(Ve(se[0].totalPayment,se[1]))-parseFloat(Ve(se[0].claimableAmount,se[1]))-parseFloat(Ve(se[0].claimedAmount,se[1]))+"")&&de(rt,kt),ye&16&&Nt!==(Nt=`width:${se[4]}%; ${se[4]==100?"border-color: var(--color-success)":""}`)&&f(at,"style",Nt),yt===(yt=Xt(se,ye))&&Fe?Fe.p(se,ye):(Fe&&Fe.d(1),Fe=yt&&yt(se),Fe&&(Fe.c(),Fe.m(e,null)))},i:ae,o:ae,d(se){se&&n(e),xe.d(),lt.d(),Fe&&Fe.d()}}}function sr(r,e,t){let s,o,i,a,v,h;Qe(r,ks,j=>t(5,o=j)),Qe(r,kl,j=>t(20,i=j)),Qe(r,us,j=>t(21,a=j)),Qe(r,fl,j=>t(22,v=j)),Qe(r,rl,j=>t(6,h=j));let{conversation:p}=e,{deal:u}=e,{id:m}=e,g,C,A;const P=async()=>{try{const j=new nt(u.paymentToken,el,v);t(1,g=await j.decimals())}catch(j){console.log(j)}},w=()=>parseFloat(Ve(u.claimableAmount,g).toString()),V=j=>j.length>0?j.reduce((B,J)=>parseFloat(B)+parseFloat(J))/j.length:0,y=async j=>{try{let ee=await(await new nt(u.paymentToken,el,i).approve(qt.PUBLIC_ESCROW_ADDRESS,pl(j.toString()))).wait();ee&&ee.status==1&&Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>approved ${jt(_t(o),u.paymentToken)}.</p>`)}catch(B){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${B.code}</p>`)}},D=async()=>{await P(),await y(zt(A.toString(),g));try{let J=await(await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).unlockPayment(m,zt(A.toString(),g),C,a)).wait();J&&J.status==1&&(await p.send(`Meta:${JSON.stringify({type:"new payment",deal:m,network:_t(o),token:jt(_t(o),u.paymentToken),token_address:u.paymentToken,total_amount:u.totalPayment,installment:zt(A.toString(),g),job_id:u.jobId,recruiter:u.recruiter})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>payment unlocked</p>`))}catch(j){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${j.code}</p>`)}},$=async()=>{try{const J=await(await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).claimPayment(m,pl(w().toString()),C,a)).wait();J&&J.status==1?(await p.send(`Meta:${JSON.stringify({type:"payment claimed",deal:m,network:_t(o),token:jt(_t(o),u.paymentToken),token_address:u.paymentToken,total_amount:u.totalPayment,installment:pl(A.toString()),job_id:u.jobId,recruiter:u.recruiter})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>claimed payment</p>`)):Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>failed to claim payment</p>`)}catch(j){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${j}</p>`)}},k=async()=>{try{const j=await P(),ee=await(await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,i).withdrawPayment(m)).wait();ee&&ee.status==1?(await p.send(`Meta:${JSON.stringify({type:"job cancelled",job_id:u.jobId,deal:m,network:_t(o),token:jt(_t(o),u.paymentToken),token_address:u.paymentToken,total_amount:u.totalPayment,withdrawn_amount:parseFloat(Ve(u.totalPayment,j))-parseFloat(Ve(u.claimableAmount,j))-parseFloat(Ve(u.claimedAmount,j))})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>claimed payment</p>`)):Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>failed to claim payment</p>`)}catch(j){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${j}</p>`)}};function I(j){Xe.call(this,r,j)}function M(j){Xe.call(this,r,j)}function N(j){Xe.call(this,r,j)}function F(){A=this.value,t(3,A)}function W(){C=this.value,t(2,C)}function te(){C=this.value,t(2,C)}return r.$$set=j=>{"conversation"in j&&t(12,p=j.conversation),"deal"in j&&t(0,u=j.deal),"id"in j&&t(13,m=j.id)},r.$$.update=()=>{r.$$.dirty&3&&t(4,s=(parseFloat(Ve(u.claimableAmount,g))+parseFloat(Ve(u.claimedAmount,g)))/parseFloat(Ve(u.totalPayment,g))*100)},[u,g,C,A,s,o,h,w,V,D,$,k,p,m,I,M,N,F,W,te]}class rr extends tl{constructor(e){super(),ll(this,e,sr,lr,dl,{conversation:12,deal:0,id:13})}}function Rl(r,e,t){const s=r.slice();return s[42]=e[t],s}function Gl(r,e,t){const s=r.slice();return s[45]=e[t],s}function Fl(r,e,t){const s=r.slice();return s[42]=e[t],s}function Ll(r,e,t){const s=r.slice();return s[51]=e[t],s}function Ul(r){let e,t,s,o=r[0].peerAddress.substring(0,6)+"..."+r[0].peerAddress.substring(r[0].peerAddress.length-4),i,a,v,h,p,u,m,g=r[13].substring(0,6)+"..."+r[13].substring(r[13].length-4),C,A,P,w,V,y;return{c(){e=c("div"),t=c("div"),s=c("p"),i=q(o),a=b(),v=c("span"),h=q("(PEER)"),p=b(),u=c("div"),m=c("p"),C=q(g),A=b(),P=c("span"),w=q("(YOU)"),this.h()},l(D){e=d(D,"DIV",{class:!0});var $=_(e);t=d($,"DIV",{class:!0});var k=_(t);s=d(k,"P",{});var I=_(s);i=S(I,o),a=E(I),v=d(I,"SPAN",{class:!0});var M=_(v);h=S(M,"(PEER)"),M.forEach(n),I.forEach(n),k.forEach(n),p=E($),u=d($,"DIV",{class:!0});var N=_(u);m=d(N,"P",{});var F=_(m);C=S(F,g),A=E(F),P=d(F,"SPAN",{class:!0});var W=_(P);w=S(W,"(YOU)"),W.forEach(n),F.forEach(n),N.forEach(n),$.forEach(n),this.h()},h(){f(v,"class","light-60"),f(t,"class","dropdown-item svelte-1s058ss"),f(P,"class","light-60"),f(u,"class","dropdown-item svelte-1s058ss"),f(e,"class","dropdown-menu svelte-1s058ss")},m(D,$){T(D,e,$),l(e,t),l(t,s),l(s,i),l(s,a),l(s,v),l(v,h),l(e,p),l(e,u),l(u,m),l(m,C),l(m,A),l(m,P),l(P,w),V||(y=[_e(t,"click",r[28]),_e(t,"keydown",r[25]),_e(u,"click",r[29]),_e(u,"keydown",r[24])],V=!0)},p(D,$){$[0]&1&&o!==(o=D[0].peerAddress.substring(0,6)+"..."+D[0].peerAddress.substring(D[0].peerAddress.length-4))&&de(i,o),$[0]&8192&&g!==(g=D[13].substring(0,6)+"..."+D[13].substring(D[13].length-4))&&de(C,g)},d(D){D&&n(e),V=!1,et(y)}}}function Bl(r){let e,t={ctx:r,current:null,token:null,hasCatch:!1,pending:cr,then:or,catch:ar,value:50};return ml(r[14](),t),{c(){e=c("div"),t.block.c(),this.h()},l(s){e=d(s,"DIV",{class:!0});var o=_(e);t.block.l(o),o.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(s,o){T(s,e,o),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(s,o){r=s,gl(t,r,o)},d(s){s&&n(e),t.block.d(),t.token=null,t=null}}}function ar(r){return{c:ae,l:ae,m:ae,p:ae,d:ae}}function or(r){let e;function t(i,a){return i[50]!=null?ir:nr}let o=t(r)(r);return{c(){o.c(),e=Be()},l(i){o.l(i),e=Be()},m(i,a){o.m(i,a),T(i,e,a)},p(i,a){o.p(i,a)},d(i){o.d(i),i&&n(e)}}}function nr(r){let e,t,s;return{c(){e=c("div"),t=c("p"),s=q("you don't have any job listings online."),this.h()},l(o){e=d(o,"DIV",{class:!0});var i=_(e);t=d(i,"P",{class:!0});var a=_(t);s=S(a,"you don't have any job listings online."),a.forEach(n),i.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(o,i){T(o,e,i),l(e,t),l(t,s)},p:ae,d(o){o&&n(e)}}}function ir(r){let e,t,s=r[50],o=[];for(let a=0;a<s.length;a+=1)o[a]=Jl(Ll(r,s,a));let i=r[12]!=-1&&Wl(r);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=b(),i&&i.c(),t=Be()},l(a){for(let v=0;v<o.length;v+=1)o[v].l(a);e=E(a),i&&i.l(a),t=Be()},m(a,v){for(let h=0;h<o.length;h+=1)o[h].m(a,v);T(a,e,v),i&&i.m(a,v),T(a,t,v)},p(a,v){if(v[0]&22592){s=a[50];let h;for(h=0;h<s.length;h+=1){const p=Ll(a,s,h);o[h]?o[h].p(p,v):(o[h]=Jl(p),o[h].c(),o[h].m(e.parentNode,e))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}a[12]!=-1?i?i.p(a,v):(i=Wl(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(a){mt(o,a),a&&n(e),i&&i.d(a),a&&n(t)}}}function Jl(r){let e,t,s,o,i=r[51].slot+"",a,v,h=r[51].title+"",p,u,m,g,C=r[51].budget+"",A,P,w;function V(){return r[31](r[51])}return{c(){e=c("div"),t=c("p"),s=c("span"),o=q("#"),a=q(i),v=b(),p=q(h),u=b(),m=c("span"),g=q("$"),A=q(C),this.h()},l(y){e=d(y,"DIV",{class:!0});var D=_(e);t=d(D,"P",{});var $=_(t);s=d($,"SPAN",{class:!0});var k=_(s);o=S(k,"#"),a=S(k,i),k.forEach(n),v=E($),p=S($,h),u=E($),m=d($,"SPAN",{class:!0});var I=_(m);g=S(I,"$"),A=S(I,C),I.forEach(n),$.forEach(n),D.forEach(n),this.h()},h(){f(s,"class","yellow"),f(m,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(y,D){T(y,e,D),l(e,t),l(t,s),l(s,o),l(s,a),l(t,v),l(t,p),l(t,u),l(t,m),l(m,g),l(m,A),P||(w=[_e(e,"click",V),_e(e,"keydown",r[22])],P=!0)},p(y,D){r=y},d(y){y&&n(e),P=!1,et(w)}}}function Wl(r){let e,t,s,o,i;return{c(){e=c("div"),t=c("p"),s=q("deal without job"),this.h()},l(a){e=d(a,"DIV",{class:!0});var v=_(e);t=d(v,"P",{class:!0});var h=_(t);s=S(h,"deal without job"),h.forEach(n),v.forEach(n),this.h()},h(){f(t,"class","light-60"),f(e,"class","dropdown-item svelte-1s058ss")},m(a,v){T(a,e,v),l(e,t),l(t,s),o||(i=[_e(e,"click",r[32]),_e(e,"keydown",r[21])],o=!0)},p:ae,d(a){a&&n(e),o=!1,et(i)}}}function cr(r){return{c:ae,l:ae,m:ae,p:ae,d:ae}}function Hl(r){let e,t=hl,s=[];for(let o=0;o<t.length;o+=1)s[o]=Yl(Fl(r,t,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=d(o,"DIV",{class:!0});var i=_(e);for(let a=0;a<s.length;a+=1)s[a].l(i);i.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(o,i){T(o,e,i);for(let a=0;a<s.length;a+=1)s[a].m(e,null)},p(o,i){if(i[0]&136){t=hl;let a;for(a=0;a<t.length;a+=1){const v=Fl(o,t,a);s[a]?s[a].p(v,i):(s[a]=Yl(v),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(o){o&&n(e),mt(s,o)}}}function Yl(r){let e,t,s=r[42].name+"",o,i,a,v;function h(){return r[34](r[42])}return{c(){e=c("div"),t=c("p"),o=q(s),i=b(),this.h()},l(p){e=d(p,"DIV",{class:!0});var u=_(e);t=d(u,"P",{});var m=_(t);o=S(m,s),m.forEach(n),i=E(u),u.forEach(n),this.h()},h(){f(e,"class","dropdown-item svelte-1s058ss")},m(p,u){T(p,e,u),l(e,t),l(t,o),l(e,i),a||(v=[_e(e,"click",h),_e(e,"keydown",r[19])],a=!0)},p(p,u){r=p},d(p){p&&n(e),a=!1,et(v)}}}function zl(r){let e,t=hl,s=[];for(let o=0;o<t.length;o+=1)s[o]=Xl(Rl(r,t,o));return{c(){e=c("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=d(o,"DIV",{class:!0});var i=_(e);for(let a=0;a<s.length;a+=1)s[a].l(i);i.forEach(n),this.h()},h(){f(e,"class","dropdown-menu svelte-1s058ss")},m(o,i){T(o,e,i);for(let a=0;a<s.length;a+=1)s[a].m(e,null)},p(o,i){if(i[0]&784){t=hl;let a;for(a=0;a<t.length;a+=1){const v=Rl(o,t,a);s[a]?s[a].p(v,i):(s[a]=Xl(v),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(o){o&&n(e),mt(s,o)}}}function Kl(r){let e,t,s=r[45].name+"",o,i,a,v;function h(){return r[36](r[45])}return{c(){e=c("div"),t=c("p"),o=q(s),i=b(),this.h()},l(p){e=d(p,"DIV",{class:!0});var u=_(e);t=d(u,"P",{});var m=_(t);o=S(m,s),m.forEach(n),i=E(u),u.forEach(n),this.h()},h(){f(e,"class","dropdown-item svelte-1s058ss")},m(p,u){T(p,e,u),l(e,t),l(t,o),l(e,i),a||(v=[_e(e,"click",h),_e(e,"keydown",r[17])],a=!0)},p(p,u){r=p},d(p){p&&n(e),a=!1,et(v)}}}function Xl(r){let e,t=r[42].tokens,s=[];for(let o=0;o<t.length;o+=1)s[o]=Kl(Gl(r,t,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Be()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=Be()},m(o,i){for(let a=0;a<s.length;a+=1)s[a].m(o,i);T(o,e,i)},p(o,i){if(i[0]&784){t=o[42].tokens;let a;for(a=0;a<t.length;a+=1){const v=Gl(o,t,a);s[a]?s[a].p(v,i):(s[a]=Kl(v),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(o){mt(s,o),o&&n(e)}}}function dr(r){let e,t,s,o,i,a,v,h,p=r[10].substring(0,6)+"..."+r[10].substring(r[10].length-4),u,m,g,C,A=r[10]==r[13]?"YOU":"PEER",P,w,V,y,D,$,k,I,M,N,F,W,te,j,B,J,ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe,U,Ee,K,ne,Ie,we,G,pe,X,ie,Q,z,R,O,qe,ze,ce,Ce,$e,Je,We,De,Oe,me,He,Pe,Ye,Me,Se,Ue,Ge,Ct,st,it,gt,kt,rt,wt,at,Nt,Ot,tt,Rt,ut,xe,ct,bt,lt,Xt,yt,Fe=r[5]&&Ul(r),se=r[6]&&Bl(r),ye=r[3]&&Hl(r),Le=r[4]&&zl(r);return{c(){e=c("div"),t=c("div"),s=c("p"),o=q("recruitor"),i=b(),a=c("div"),v=c("div"),h=c("p"),u=q(p),m=b(),g=c("span"),C=q("("),P=q(A),w=q(")"),V=b(),y=c("img"),$=b(),Fe&&Fe.c(),k=b(),I=c("div"),M=b(),N=c("div"),F=c("div"),W=c("p"),te=q("job"),j=b(),B=c("div"),J=c("div"),ee=c("p"),be=q(r[11]),oe=b(),he=c("img"),Te=b(),se&&se.c(),ge=b(),H=c("div"),re=b(),Y=c("div"),le=c("div"),x=c("p"),ke=q("network"),fe=b(),U=c("div"),Ee=c("div"),K=c("p"),ne=q(r[7]),Ie=b(),we=c("img"),pe=b(),ye&&ye.c(),X=b(),ie=c("div"),Q=b(),z=c("div"),R=c("div"),O=c("p"),qe=q("token"),ze=b(),ce=c("div"),Ce=c("div"),$e=c("p"),Je=q(r[8]),We=b(),De=c("img"),me=b(),Le&&Le.c(),He=b(),Pe=c("div"),Ye=b(),Me=c("div"),Se=c("div"),Ue=c("p"),Ge=q("total amount"),Ct=b(),st=c("input"),it=b(),gt=c("div"),kt=b(),rt=c("div"),wt=c("div"),at=c("p"),Nt=q("downpayment"),Ot=b(),tt=c("input"),Rt=b(),ut=c("div"),xe=b(),ct=c("div"),bt=c("p"),lt=q("send offer"),this.h()},l(L){e=d(L,"DIV",{class:!0});var ue=_(e);t=d(ue,"DIV",{class:!0});var al=_(t);s=d(al,"P",{});var Gt=_(s);o=S(Gt,"recruitor"),Gt.forEach(n),al.forEach(n),i=E(ue),a=d(ue,"DIV",{class:!0});var Ft=_(a);v=d(Ft,"DIV",{class:!0});var Lt=_(v);h=d(Lt,"P",{});var It=_(h);u=S(It,p),m=E(It),g=d(It,"SPAN",{class:!0});var Ut=_(g);C=S(Ut,"("),P=S(Ut,A),w=S(Ut,")"),Ut.forEach(n),It.forEach(n),V=E(Lt),y=d(Lt,"IMG",{src:!0,alt:!0,style:!0}),Lt.forEach(n),$=E(Ft),Fe&&Fe.l(Ft),Ft.forEach(n),ue.forEach(n),k=E(L),I=d(L,"DIV",{style:!0}),_(I).forEach(n),M=E(L),N=d(L,"DIV",{class:!0});var vt=_(N);F=d(vt,"DIV",{class:!0});var ol=_(F);W=d(ol,"P",{});var Bt=_(W);te=S(Bt,"job"),Bt.forEach(n),ol.forEach(n),j=E(vt),B=d(vt,"DIV",{class:!0});var Jt=_(B);J=d(Jt,"DIV",{class:!0});var Dt=_(J);ee=d(Dt,"P",{});var nl=_(ee);be=S(nl,r[11]),nl.forEach(n),oe=E(Dt),he=d(Dt,"IMG",{src:!0,alt:!0,style:!0}),Dt.forEach(n),Te=E(Jt),se&&se.l(Jt),Jt.forEach(n),vt.forEach(n),ge=E(L),H=d(L,"DIV",{style:!0}),_(H).forEach(n),re=E(L),Y=d(L,"DIV",{class:!0});var Vt=_(Y);le=d(Vt,"DIV",{class:!0});var il=_(le);x=d(il,"P",{});var Qt=_(x);ke=S(Qt,"network"),Qt.forEach(n),il.forEach(n),fe=E(Vt),U=d(Vt,"DIV",{class:!0});var Pt=_(U);Ee=d(Pt,"DIV",{class:!0});var Wt=_(Ee);K=d(Wt,"P",{});var Zt=_(K);ne=S(Zt,r[7]),Zt.forEach(n),Ie=E(Wt),we=d(Wt,"IMG",{src:!0,alt:!0,style:!0}),Wt.forEach(n),pe=E(Pt),ye&&ye.l(Pt),Pt.forEach(n),Vt.forEach(n),X=E(L),ie=d(L,"DIV",{style:!0}),_(ie).forEach(n),Q=E(L),z=d(L,"DIV",{class:!0});var ot=_(z);R=d(ot,"DIV",{class:!0});var Ht=_(R);O=d(Ht,"P",{});var cl=_(O);qe=S(cl,"token"),cl.forEach(n),Ht.forEach(n),ze=E(ot),ce=d(ot,"DIV",{class:!0});var Tt=_(ce);Ce=d(Tt,"DIV",{class:!0});var ul=_(Ce);$e=d(ul,"P",{});var wl=_($e);Je=S(wl,r[8]),wl.forEach(n),We=E(ul),De=d(ul,"IMG",{src:!0,alt:!0,style:!0}),ul.forEach(n),me=E(Tt),Le&&Le.l(Tt),Tt.forEach(n),ot.forEach(n),He=E(L),Pe=d(L,"DIV",{style:!0}),_(Pe).forEach(n),Ye=E(L),Me=d(L,"DIV",{class:!0});var vl=_(Me);Se=d(vl,"DIV",{class:!0});var bl=_(Se);Ue=d(bl,"P",{});var El=_(Ue);Ge=S(El,"total amount"),El.forEach(n),bl.forEach(n),Ct=E(vl),st=d(vl,"INPUT",{type:!0,placeholder:!0,class:!0}),vl.forEach(n),it=E(L),gt=d(L,"DIV",{style:!0}),_(gt).forEach(n),kt=E(L),rt=d(L,"DIV",{class:!0});var _l=_(rt);wt=d(_l,"DIV",{class:!0});var yl=_(wt);at=d(yl,"P",{});var Il=_(at);Nt=S(Il,"downpayment"),Il.forEach(n),yl.forEach(n),Ot=E(_l),tt=d(_l,"INPUT",{type:!0,placeholder:!0,class:!0}),_l.forEach(n),Rt=E(L),ut=d(L,"DIV",{style:!0}),_(ut).forEach(n),xe=E(L),ct=d(L,"DIV",{class:!0});var Dl=_(ct);bt=d(Dl,"P",{});var Vl=_(bt);lt=S(Vl,"send offer"),Vl.forEach(n),Dl.forEach(n),this.h()},h(){f(t,"class","placeholder svelte-1s058ss"),f(g,"class","light-60"),Ne(y.src,D=r[5]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(y,"src",D),f(y,"alt","Dropdown"),ve(y,"width","10px"),f(v,"class","dropdown-chosen svelte-1s058ss"),f(a,"class","dropdown svelte-1s058ss"),f(e,"class","dropdown-container svelte-1s058ss"),ve(I,"height","8px"),f(F,"class","placeholder svelte-1s058ss"),Ne(he.src,Z=r[6]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(he,"src",Z),f(he,"alt","Dropdown"),ve(he,"width","10px"),f(J,"class","dropdown-chosen svelte-1s058ss"),f(B,"class","dropdown svelte-1s058ss"),f(N,"class","dropdown-container svelte-1s058ss"),ve(H,"height","8px"),f(le,"class","placeholder svelte-1s058ss"),Ne(we.src,G=r[3]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(we,"src",G),f(we,"alt","Dropdown"),ve(we,"width","10px"),f(Ee,"class","dropdown-chosen svelte-1s058ss"),f(U,"class","dropdown svelte-1s058ss"),f(Y,"class","dropdown-container svelte-1s058ss"),ve(ie,"height","8px"),f(R,"class","placeholder svelte-1s058ss"),Ne(De.src,Oe=r[4]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)||f(De,"src",Oe),f(De,"alt","Dropdown"),ve(De,"width","10px"),f(Ce,"class","dropdown-chosen svelte-1s058ss"),f(ce,"class","dropdown svelte-1s058ss"),f(z,"class","dropdown-container svelte-1s058ss"),ve(Pe,"height","8px"),f(Se,"class","placeholder svelte-1s058ss"),f(st,"type","text"),f(st,"placeholder","($)"),f(st,"class","svelte-1s058ss"),f(Me,"class","input-container svelte-1s058ss"),ve(gt,"height","8px"),f(wt,"class","placeholder svelte-1s058ss"),f(tt,"type","text"),f(tt,"placeholder","($)"),f(tt,"class","svelte-1s058ss"),f(rt,"class","input-container svelte-1s058ss"),ve(ut,"height","12px"),f(ct,"class","action-button-full link yellow svelte-1s058ss")},m(L,ue){T(L,e,ue),l(e,t),l(t,s),l(s,o),l(e,i),l(e,a),l(a,v),l(v,h),l(h,u),l(h,m),l(h,g),l(g,C),l(g,P),l(g,w),l(v,V),l(v,y),l(a,$),Fe&&Fe.m(a,null),T(L,k,ue),T(L,I,ue),T(L,M,ue),T(L,N,ue),l(N,F),l(F,W),l(W,te),l(N,j),l(N,B),l(B,J),l(J,ee),l(ee,be),l(J,oe),l(J,he),l(B,Te),se&&se.m(B,null),T(L,ge,ue),T(L,H,ue),T(L,re,ue),T(L,Y,ue),l(Y,le),l(le,x),l(x,ke),l(Y,fe),l(Y,U),l(U,Ee),l(Ee,K),l(K,ne),l(Ee,Ie),l(Ee,we),l(U,pe),ye&&ye.m(U,null),T(L,X,ue),T(L,ie,ue),T(L,Q,ue),T(L,z,ue),l(z,R),l(R,O),l(O,qe),l(z,ze),l(z,ce),l(ce,Ce),l(Ce,$e),l($e,Je),l(Ce,We),l(Ce,De),l(ce,me),Le&&Le.m(ce,null),T(L,He,ue),T(L,Pe,ue),T(L,Ye,ue),T(L,Me,ue),l(Me,Se),l(Se,Ue),l(Ue,Ge),l(Me,Ct),l(Me,st),Et(st,r[1]),T(L,it,ue),T(L,gt,ue),T(L,kt,ue),T(L,rt,ue),l(rt,wt),l(wt,at),l(at,Nt),l(rt,Ot),l(rt,tt),Et(tt,r[2]),T(L,Rt,ue),T(L,ut,ue),T(L,xe,ue),T(L,ct,ue),l(ct,bt),l(bt,lt),Xt||(yt=[_e(v,"click",r[27]),_e(v,"keydown",r[26]),_e(J,"click",r[30]),_e(J,"keydown",r[23]),_e(Ee,"click",r[33]),_e(Ee,"keydown",r[20]),_e(Ce,"click",r[35]),_e(Ce,"keydown",r[18]),_e(st,"input",r[37]),_e(tt,"input",r[38]),_e(ct,"click",r[15]),_e(ct,"keydown",r[16])],Xt=!0)},p(L,ue){ue[0]&1024&&p!==(p=L[10].substring(0,6)+"..."+L[10].substring(L[10].length-4))&&de(u,p),ue[0]&9216&&A!==(A=L[10]==L[13]?"YOU":"PEER")&&de(P,A),ue[0]&32&&!Ne(y.src,D=L[5]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(y,"src",D),L[5]?Fe?Fe.p(L,ue):(Fe=Ul(L),Fe.c(),Fe.m(a,null)):Fe&&(Fe.d(1),Fe=null),ue[0]&2048&&de(be,L[11]),ue[0]&64&&!Ne(he.src,Z=L[6]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(he,"src",Z),L[6]?se?se.p(L,ue):(se=Bl(L),se.c(),se.m(B,null)):se&&(se.d(1),se=null),ue[0]&128&&de(ne,L[7]),ue[0]&8&&!Ne(we.src,G=L[3]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(we,"src",G),L[3]?ye?ye.p(L,ue):(ye=Hl(L),ye.c(),ye.m(U,null)):ye&&(ye.d(1),ye=null),ue[0]&256&&de(Je,L[8]),ue[0]&16&&!Ne(De.src,Oe=L[4]?`${Ae}/icons/chevron_active.svg`:`${Ae}/icons/chevron_passive.svg`)&&f(De,"src",Oe),L[4]?Le?Le.p(L,ue):(Le=zl(L),Le.c(),Le.m(ce,null)):Le&&(Le.d(1),Le=null),ue[0]&2&&st.value!==L[1]&&Et(st,L[1]),ue[0]&4&&tt.value!==L[2]&&Et(tt,L[2])},i:ae,o:ae,d(L){L&&n(e),Fe&&Fe.d(),L&&n(k),L&&n(I),L&&n(M),L&&n(N),se&&se.d(),L&&n(ge),L&&n(H),L&&n(re),L&&n(Y),ye&&ye.d(),L&&n(X),L&&n(ie),L&&n(Q),L&&n(z),Le&&Le.d(),L&&n(He),L&&n(Pe),L&&n(Ye),L&&n(Me),L&&n(it),L&&n(gt),L&&n(kt),L&&n(rt),L&&n(Rt),L&&n(ut),L&&n(xe),L&&n(ct),Xt=!1,et(yt)}}}function fr(r,e,t){let s,o,i;Qe(r,rl,U=>t(13,s=U)),Qe(r,kl,U=>t(39,o=U)),Qe(r,fl,U=>t(40,i=U));let{conversation:a}=e,v,h,p=!1,u=!1,m=!1,g=!1,C="choose network",A="choose token",P="",w=s,V="choose job",y=-1;const D=async()=>{try{return await(await fetch(`${Ke}/api/get_jobs/${s}`)).json()}catch(U){console.log(U)}},$=async()=>{try{return await new nt(P,el,i).decimals()}catch(U){console.log(U)}},k=async()=>{if(w===s)try{const U=await $(),K=await(await fetch(`/api/auth/login/${s}`,{method:"POST"})).json(),ne=await o.signMessage(K),Ie=`${Ke}/api/add_deal/${s}/${a.peerAddress}/${ne}`,we={status:"",network:C,token_address:P,total_amount:zt(v.toString(),U).toString(),downpayment:zt(h.toString(),U).toString(),job_id:y,signature:""};(await fetch(Ie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)})).ok&&(await a.send(`Meta:${JSON.stringify({type:"job offer",network:C,token:A,token_address:P,total_amount:zt(v.toString(),U).toString(),downpayment:zt(h.toString(),U).toString(),job_id:y,recruiter:s})}`),Ze.push(`<p class="light-60"><span style='color:var(--color-success)'>success: </span>new job offer sent.</p>`))}catch(U){Ze.push(`<p class="light-60"><span style='color:var(--color-error)'>error: </span>${U}</p>`)}};function I(U){Xe.call(this,r,U)}function M(U){Xe.call(this,r,U)}function N(U){Xe.call(this,r,U)}function F(U){Xe.call(this,r,U)}function W(U){Xe.call(this,r,U)}function te(U){Xe.call(this,r,U)}function j(U){Xe.call(this,r,U)}function B(U){Xe.call(this,r,U)}function J(U){Xe.call(this,r,U)}function ee(U){Xe.call(this,r,U)}function be(U){Xe.call(this,r,U)}const oe=()=>t(5,m=!m),he=()=>t(10,w=a.peerAddress),Z=()=>t(10,w=s),Te=()=>t(6,g=!g),ge=U=>{t(11,V=`#${U.slot} ${U.title} $${U.budget}`),t(12,y=U.slot),t(6,g=!1)},H=()=>{t(11,V="deal without job"),t(12,y=-1),t(6,g=!1)},re=()=>t(3,p=!p),Y=U=>{t(7,C=U.name),t(3,p=!1)},le=()=>t(4,u=!u),x=U=>{t(8,A=U.symbol),t(9,P=U.address),t(4,u=!1)};function ke(){v=this.value,t(1,v)}function fe(){h=this.value,t(2,h)}return r.$$set=U=>{"conversation"in U&&t(0,a=U.conversation)},[a,v,h,p,u,m,g,C,A,P,w,V,y,s,D,k,I,M,N,F,W,te,j,B,J,ee,be,oe,he,Z,Te,ge,H,re,Y,le,x,ke,fe]}class ur extends tl{constructor(e){super(),ll(this,e,fr,dr,dl,{conversation:0},null,[-1,-1])}}function Ql(r,e,t){const s=r.slice();return s[19]=e[t][0],s[20]=e[t][1],s}function Zl(r,e,t){const s=r.slice();return s[20]=e[t],s[24]=t,s}function xl(r,e,t){const s=r.slice();return s[20]=e[t],s[26]=t,s}function vr(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D={ctx:r,current:null,token:null,hasCatch:!1,pending:kr,then:pr,catch:hr,value:18,blocks:[,,,]};ml(r[6](),D);let $={ctx:r,current:null,token:null,hasCatch:!1,pending:Er,then:br,catch:wr,value:18,blocks:[,,,]};return ml(r[5](),$),{c(){e=c("div"),t=c("img"),o=b(),i=c("div"),a=b(),v=c("p"),h=q("create new agreement"),p=b(),u=c("div"),m=b(),D.block.c(),g=b(),C=c("div"),A=b(),P=Be(),$.block.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var I=_(e);t=d(I,"IMG",{src:!0,alt:!0}),o=E(I),i=d(I,"DIV",{style:!0}),_(i).forEach(n),a=E(I),v=d(I,"P",{class:!0});var M=_(v);h=S(M,"create new agreement"),M.forEach(n),I.forEach(n),p=E(k),u=d(k,"DIV",{style:!0}),_(u).forEach(n),m=E(k),D.block.l(k),g=E(k),C=d(k,"DIV",{style:!0}),_(C).forEach(n),A=E(k),P=Be(),$.block.l(k),this.h()},h(){Ne(t.src,s=`${Ae}/icons/notes-plus.svg`)||f(t,"src",s),f(t,"alt","New Agreement"),ve(i,"width","4px"),f(v,"class","yellow"),f(e,"class","new-agreement svelte-1cymiv8"),ve(u,"height","28px"),ve(C,"height","28px")},m(k,I){T(k,e,I),l(e,t),l(e,o),l(e,i),l(e,a),l(e,v),l(v,h),T(k,p,I),T(k,u,I),T(k,m,I),D.block.m(k,D.anchor=I),D.mount=()=>g.parentNode,D.anchor=g,T(k,g,I),T(k,C,I),T(k,A,I),T(k,P,I),$.block.m(k,$.anchor=I),$.mount=()=>P.parentNode,$.anchor=P,w=!0,V||(y=[_e(e,"click",r[11]),_e(e,"keydown",r[9])],V=!0)},p(k,I){r=k,gl(D,r,I),gl($,r,I)},i(k){w||(je(D.block),je($.block),w=!0)},o(k){for(let I=0;I<3;I+=1){const M=D.blocks[I];Re(M)}for(let I=0;I<3;I+=1){const M=$.blocks[I];Re(M)}w=!1},d(k){k&&n(e),k&&n(p),k&&n(u),k&&n(m),D.block.d(k),D.token=null,D=null,k&&n(g),k&&n(C),k&&n(A),k&&n(P),$.block.d(k),$.token=null,$=null,V=!1,et(y)}}}function _r(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P;return g=new ur({props:{conversation:r[0]}}),{c(){e=c("div"),t=c("img"),o=b(),i=c("div"),a=b(),v=c("p"),h=q("back to agreements"),p=b(),u=c("div"),m=b(),St(g.$$.fragment),this.h()},l(w){e=d(w,"DIV",{class:!0});var V=_(e);t=d(V,"IMG",{src:!0,alt:!0}),o=E(V),i=d(V,"DIV",{style:!0}),_(i).forEach(n),a=E(V),v=d(V,"P",{class:!0});var y=_(v);h=S(y,"back to agreements"),y.forEach(n),V.forEach(n),p=E(w),u=d(w,"DIV",{style:!0}),_(u).forEach(n),m=E(w),At(g.$$.fragment,w),this.h()},h(){Ne(t.src,s=`${Ae}/icons/chevron_left_active.svg`)||f(t,"src",s),f(t,"alt","New Agreement"),ve(i,"width","4px"),f(v,"class","yellow"),f(e,"class","new-agreement svelte-1cymiv8"),ve(u,"height","12px")},m(w,V){T(w,e,V),l(e,t),l(e,o),l(e,i),l(e,a),l(e,v),l(v,h),T(w,p,V),T(w,u,V),T(w,m,V),$t(g,w,V),C=!0,A||(P=[_e(e,"click",r[10]),_e(e,"keydown",r[8])],A=!0)},p(w,V){const y={};V&1&&(y.conversation=w[0]),g.$set(y)},i(w){C||(je(g.$$.fragment,w),C=!0)},o(w){Re(g.$$.fragment,w),C=!1},d(w){w&&n(e),w&&n(p),w&&n(u),w&&n(m),Mt(g,w),A=!1,et(P)}}}function hr(r){return{c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae}}function pr(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P=r[18].recruiter_deals,w=[];for(let k=0;k<P.length;k+=1)w[k]=es(xl(r,P,k));const V=k=>Re(w[k],1,1,()=>{w[k]=null});let y=r[18].creator_deals,D=[];for(let k=0;k<y.length;k+=1)D[k]=ts(Zl(r,y,k));const $=k=>Re(D[k],1,1,()=>{D[k]=null});return{c(){e=c("div"),t=c("img"),o=b(),i=c("div"),a=b(),v=c("p"),h=q("drafts"),p=b(),u=c("div"),m=b();for(let k=0;k<w.length;k+=1)w[k].c();g=b();for(let k=0;k<D.length;k+=1)D[k].c();C=Be(),this.h()},l(k){e=d(k,"DIV",{class:!0});var I=_(e);t=d(I,"IMG",{src:!0,alt:!0}),o=E(I),i=d(I,"DIV",{style:!0}),_(i).forEach(n),a=E(I),v=d(I,"P",{class:!0});var M=_(v);h=S(M,"drafts"),M.forEach(n),I.forEach(n),p=E(k),u=d(k,"DIV",{style:!0}),_(u).forEach(n),m=E(k);for(let N=0;N<w.length;N+=1)w[N].l(k);g=E(k);for(let N=0;N<D.length;N+=1)D[N].l(k);C=Be(),this.h()},h(){Ne(t.src,s=`${Ae}/icons/clipboard.svg`)||f(t,"src",s),f(t,"alt","Human Run"),ve(i,"width","4px"),f(v,"class","yellow"),f(e,"class","section-title svelte-1cymiv8"),ve(u,"height","12px")},m(k,I){T(k,e,I),l(e,t),l(e,o),l(e,i),l(e,a),l(e,v),l(v,h),T(k,p,I),T(k,u,I),T(k,m,I);for(let M=0;M<w.length;M+=1)w[M].m(k,I);T(k,g,I);for(let M=0;M<D.length;M+=1)D[M].m(k,I);T(k,C,I),A=!0},p(k,I){if(I&65){P=k[18].recruiter_deals;let M;for(M=0;M<P.length;M+=1){const N=xl(k,P,M);w[M]?(w[M].p(N,I),je(w[M],1)):(w[M]=es(N),w[M].c(),je(w[M],1),w[M].m(g.parentNode,g))}for(ht(),M=P.length;M<w.length;M+=1)V(M);pt()}if(I&65){y=k[18].creator_deals;let M;for(M=0;M<y.length;M+=1){const N=Zl(k,y,M);D[M]?(D[M].p(N,I),je(D[M],1)):(D[M]=ts(N),D[M].c(),je(D[M],1),D[M].m(C.parentNode,C))}for(ht(),M=y.length;M<D.length;M+=1)$(M);pt()}},i(k){if(!A){for(let I=0;I<P.length;I+=1)je(w[I]);for(let I=0;I<y.length;I+=1)je(D[I]);A=!0}},o(k){w=w.filter(Boolean);for(let I=0;I<w.length;I+=1)Re(w[I]);D=D.filter(Boolean);for(let I=0;I<D.length;I+=1)Re(D[I]);A=!1},d(k){k&&n(e),k&&n(p),k&&n(u),k&&n(m),mt(w,k),k&&n(g),mt(D,k),k&&n(C)}}}function mr(r){let e,t,s,o;return e=new hs({props:{conversation:r[0],role:"recruiter",deal:r[20],slot:r[26]}}),{c(){St(e.$$.fragment),t=b(),s=c("div"),this.h()},l(i){At(e.$$.fragment,i),t=E(i),s=d(i,"DIV",{style:!0}),_(s).forEach(n),this.h()},h(){ve(s,"height","24px")},m(i,a){$t(e,i,a),T(i,t,a),T(i,s,a),o=!0},p(i,a){const v={};a&1&&(v.conversation=i[0]),e.$set(v)},i(i){o||(je(e.$$.fragment,i),o=!0)},o(i){Re(e.$$.fragment,i),o=!1},d(i){Mt(e,i),i&&n(t),i&&n(s)}}}function es(r){let e,t,s=(r[20].status=="offered"||r[20].status=="accepted")&&mr(r);return{c(){s&&s.c(),e=Be()},l(o){s&&s.l(o),e=Be()},m(o,i){s&&s.m(o,i),T(o,e,i),t=!0},p(o,i){(o[20].status=="offered"||o[20].status=="accepted")&&s.p(o,i)},i(o){t||(je(s),t=!0)},o(o){Re(s),t=!1},d(o){s&&s.d(o),o&&n(e)}}}function gr(r){let e,t,s,o;return e=new hs({props:{conversation:r[0],role:"creator",deal:r[20],slot:r[24]}}),{c(){St(e.$$.fragment),t=b(),s=c("div"),this.h()},l(i){At(e.$$.fragment,i),t=E(i),s=d(i,"DIV",{style:!0}),_(s).forEach(n),this.h()},h(){ve(s,"height","24px")},m(i,a){$t(e,i,a),T(i,t,a),T(i,s,a),o=!0},p(i,a){const v={};a&1&&(v.conversation=i[0]),e.$set(v)},i(i){o||(je(e.$$.fragment,i),o=!0)},o(i){Re(e.$$.fragment,i),o=!1},d(i){Mt(e,i),i&&n(t),i&&n(s)}}}function ts(r){let e,t,s=(r[20].status=="offered"||r[20].status=="accepted")&&gr(r);return{c(){s&&s.c(),e=Be()},l(o){s&&s.l(o),e=Be()},m(o,i){s&&s.m(o,i),T(o,e,i),t=!0},p(o,i){(o[20].status=="offered"||o[20].status=="accepted")&&s.p(o,i)},i(o){t||(je(s),t=!0)},o(o){Re(s),t=!1},d(o){s&&s.d(o),o&&n(e)}}}function kr(r){return{c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae}}function wr(r){return{c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae}}function br(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A=Object.entries(r[18]),P=[];for(let V=0;V<A.length;V+=1)P[V]=ls(Ql(r,A,V));const w=V=>Re(P[V],1,1,()=>{P[V]=null});return{c(){e=c("div"),t=c("img"),o=b(),i=c("div"),a=b(),v=c("p"),h=q("ongoing deals"),p=b(),u=c("div"),m=b();for(let V=0;V<P.length;V+=1)P[V].c();g=Be(),this.h()},l(V){e=d(V,"DIV",{class:!0});var y=_(e);t=d(y,"IMG",{src:!0,alt:!0}),o=E(y),i=d(y,"DIV",{style:!0}),_(i).forEach(n),a=E(y),v=d(y,"P",{class:!0});var D=_(v);h=S(D,"ongoing deals"),D.forEach(n),y.forEach(n),p=E(V),u=d(V,"DIV",{style:!0}),_(u).forEach(n),m=E(V);for(let $=0;$<P.length;$+=1)P[$].l(V);g=Be(),this.h()},h(){Ne(t.src,s=`${Ae}/icons/human-run.svg`)||f(t,"src",s),f(t,"alt","Human Run"),ve(i,"width","4px"),f(v,"class","yellow"),f(e,"class","section-title svelte-1cymiv8"),ve(u,"height","12px")},m(V,y){T(V,e,y),l(e,t),l(e,o),l(e,i),l(e,a),l(e,v),l(v,h),T(V,p,y),T(V,u,y),T(V,m,y);for(let D=0;D<P.length;D+=1)P[D].m(V,y);T(V,g,y),C=!0},p(V,y){if(y&33){A=Object.entries(V[18]);let D;for(D=0;D<A.length;D+=1){const $=Ql(V,A,D);P[D]?(P[D].p($,y),je(P[D],1)):(P[D]=ls($),P[D].c(),je(P[D],1),P[D].m(g.parentNode,g))}for(ht(),D=A.length;D<P.length;D+=1)w(D);pt()}},i(V){if(!C){for(let y=0;y<A.length;y+=1)je(P[y]);C=!0}},o(V){P=P.filter(Boolean);for(let y=0;y<P.length;y+=1)Re(P[y]);C=!1},d(V){V&&n(e),V&&n(p),V&&n(u),V&&n(m),mt(P,V),V&&n(g)}}}function ls(r){let e,t;return e=new rr({props:{conversation:r[0],deal:r[20],id:r[19]}}),{c(){St(e.$$.fragment)},l(s){At(e.$$.fragment,s)},m(s,o){$t(e,s,o),t=!0},p(s,o){const i={};o&1&&(i.conversation=s[0]),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Mt(e,s)}}}function Er(r){return{c:ae,l:ae,m:ae,p:ae,i:ae,o:ae,d:ae}}function yr(r){let e,t,s,o,i,a,v,h,p,u;const m=[_r,vr],g=[];function C(A,P){return A[4]?0:1}return i=C(r),a=g[i]=m[i](r),p=new vs({props:{alwaysVisible:!0,viewport:r[2],contents:r[3],vThumbOut:r[7],vTrackOut:r[7]}}),{c(){e=c("main"),t=c("div"),s=c("div"),o=c("div"),a.c(),h=b(),St(p.$$.fragment),this.h()},l(A){e=d(A,"MAIN",{class:!0});var P=_(e);t=d(P,"DIV",{class:!0,style:!0});var w=_(t);s=d(w,"DIV",{class:!0});var V=_(s);o=d(V,"DIV",{class:!0});var y=_(o);a.l(y),y.forEach(n),V.forEach(n),w.forEach(n),h=E(P),At(p.$$.fragment,P),P.forEach(n),this.h()},h(){f(o,"class","agreements-container svelte-1cymiv8"),f(s,"class","contents svelte-1cymiv8"),f(t,"class","viewport svelte-1cymiv8"),f(t,"style",v=`height:${(r[1]-160).toString()+"px"}`),f(e,"class","wrapper svelte-1cymiv8")},m(A,P){T(A,e,P),l(e,t),l(t,s),l(s,o),g[i].m(o,null),r[12](s),r[13](t),l(e,h),$t(p,e,null),u=!0},p(A,[P]){let w=i;i=C(A),i===w?g[i].p(A,P):(ht(),Re(g[w],1,1,()=>{g[w]=null}),pt(),a=g[i],a?a.p(A,P):(a=g[i]=m[i](A),a.c()),je(a,1),a.m(o,null)),(!u||P&2&&v!==(v=`height:${(A[1]-160).toString()+"px"}`))&&f(t,"style",v);const V={};P&4&&(V.viewport=A[2]),P&8&&(V.contents=A[3]),p.$set(V)},i(A){u||(je(a),je(p.$$.fragment,A),u=!0)},o(A){Re(a),Re(p.$$.fragment,A),u=!1},d(A){A&&n(e),g[i].d(),r[12](null),r[13](null),Mt(p)}}}function Ir(r,e,t){let s,o;Qe(r,rl,k=>t(15,s=k)),Qe(r,fl,k=>t(16,o=k));let{conversation:i}=e,a,v,h,p=!1,u={};const m=async()=>{let k=[];try{const M=await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,o).getDealsOf(s);for await(const N of M)k.push(await g(N)),u[N]=await g(N)}catch(I){console.log(I)}return u},g=async k=>{try{return await new nt(qt.PUBLIC_ESCROW_ADDRESS,Kt,o).getDeal(k)}catch(I){console.log(I)}},C=async()=>{const k=`${Ke}/api/get_deals/${i.peerAddress}/${s}`,I=`${Ke}/api/get_deals/${s}/${i.peerAddress}`,M=await fetch(I),N=await fetch(k),F=await M.json(),W=await N.json();return{recruiter_deals:F,creator_deals:W}},A=k=>_s(k,{duration:0});function P(k){Xe.call(this,r,k)}function w(k){Xe.call(this,r,k)}const V=()=>t(4,p=!1),y=()=>t(4,p=!0);function D(k){Yt[k?"unshift":"push"](()=>{h=k,t(3,h)})}function $(k){Yt[k?"unshift":"push"](()=>{v=k,t(2,v)})}return r.$$set=k=>{"conversation"in k&&t(0,i=k.conversation)},t(1,a=window.innerHeight),[i,a,v,h,p,m,C,A,P,w,V,y,D,$]}class Dr extends tl{constructor(e){super(),ll(this,e,Ir,yr,dl,{conversation:0})}}function ss(r,e,t){const s=r.slice();return s[50]=e[t],s[52]=t,s}function rs(r,e,t){const s=r.slice();return s[53]=e[t],s[52]=t,s}function Vr(r){let e,t,s,o,i,a,v,h;return t=new ys({props:{size:"60",color:"var(--color-primary)",unit:"px",duration:"1s"}}),{c(){e=c("div"),St(t.$$.fragment),s=b(),o=c("div"),i=b(),a=c("p"),v=q("connecting xmtp..."),this.h()},l(p){e=d(p,"DIV",{class:!0});var u=_(e);At(t.$$.fragment,u),s=E(u),o=d(u,"DIV",{style:!0}),_(o).forEach(n),i=E(u),a=d(u,"P",{class:!0,style:!0});var m=_(a);v=S(m,"connecting xmtp..."),m.forEach(n),u.forEach(n),this.h()},h(){ve(o,"height","12px"),f(a,"class","light-60"),ve(a,"animation","blinking 2s linear infinite"),f(e,"class","spinster svelte-11j1xcl")},m(p,u){T(p,e,u),$t(t,e,null),l(e,s),l(e,o),l(e,i),l(e,a),l(a,v),h=!0},p:ae,i(p){h||(je(t.$$.fragment,p),h=!0)},o(p){Re(t.$$.fragment,p),h=!1},d(p){p&&n(e),Mt(t)}}}function Pr(r){let e,t,s,o=r[3],i=[];for(let a=0;a<o.length;a+=1)i[a]=ns(rs(r,o,a));return{c(){e=c("div"),t=b();for(let a=0;a<i.length;a+=1)i[a].c();s=Be(),this.h()},l(a){e=d(a,"DIV",{style:!0}),_(e).forEach(n),t=E(a);for(let v=0;v<i.length;v+=1)i[v].l(a);s=Be(),this.h()},h(){ve(e,"height","8px")},m(a,v){T(a,e,v),T(a,t,v);for(let h=0;h<i.length;h+=1)i[h].m(a,v);T(a,s,v)},p(a,v){if(v[0]&34872){o=a[3];let h;for(h=0;h<o.length;h+=1){const p=rs(a,o,h);i[h]?i[h].p(p,v):(i[h]=ns(p),i[h].c(),i[h].m(s.parentNode,s))}for(;h<i.length;h+=1)i[h].d(1);i.length=o.length}},i:ae,o:ae,d(a){a&&n(e),a&&n(t),mt(i,a),a&&n(s)}}}function as(r){let e,t=r[4][r[52]]+"",s;return{c(){e=c("div"),s=q(t),this.h()},l(o){e=d(o,"DIV",{class:!0});var i=_(e);s=S(i,t),i.forEach(n),this.h()},h(){f(e,"class","body-text light-60")},m(o,i){T(o,e,i),l(e,s)},p(o,i){i[0]&16&&t!==(t=o[4][o[52]]+"")&&de(s,t)},d(o){o&&n(e)}}}function os(r){let e;return{c(){e=c("div"),this.h()},l(t){e=d(t,"DIV",{style:!0}),_(e).forEach(n),this.h()},h(){ve(e,"height","12px")},m(t,s){T(t,e,s)},d(t){t&&n(e)}}}function ns(r){var $,k,I,M;let e,t,s,o,i,a,v,h,p=(($=r[5][r[52]])!=null&&$.show_ens?(k=r[5][r[52]])==null?void 0:k.ens_name:(I=r[5][r[52]])!=null&&I.username&&((M=r[5][r[52]])==null?void 0:M.username)!=""?r[5][r[52]].username:"anon")+"",u,m,g,C,A,P,w,V=r[4][r[52]]&&r[4][r[52]]!=""&&as(r);function y(){return r[22](r[53])}let D=r[52]!=r[3].length-1&&os();return{c(){e=c("div"),t=c("img"),o=b(),i=c("div"),a=b(),v=c("div"),h=c("p"),u=q(p),m=b(),V&&V.c(),C=b(),D&&D.c(),A=Be(),this.h()},l(N){e=d(N,"DIV",{class:!0});var F=_(e);t=d(F,"IMG",{class:!0,src:!0,alt:!0}),o=E(F),i=d(F,"DIV",{style:!0}),_(i).forEach(n),a=E(F),v=d(F,"DIV",{class:!0});var W=_(v);h=d(W,"P",{class:!0});var te=_(h);u=S(te,p),te.forEach(n),m=E(W),V&&V.l(W),W.forEach(n),F.forEach(n),C=E(N),D&&D.l(N),A=Be(),this.h()},h(){var N,F,W,te,j;f(t,"class","peer-image svelte-11j1xcl"),Ne(t.src,s=(N=r[5][r[52]])!=null&&N.show_nft?(F=r[5][r[52]])==null?void 0:F.nft_image_url:(W=r[5][r[52]])!=null&&W.image_url&&((te=r[5][r[52]])==null?void 0:te.image_url)!=""?(j=r[5][r[52]])==null?void 0:j.image_url:ds)||f(t,"src",s),f(t,"alt","smth"),ve(i,"width","12px"),f(h,"class","svelte-11j1xcl"),f(v,"class","inbox-inner-contents svelte-11j1xcl"),f(e,"class",g=xt(`inbox-item ${r[11]==r[53]?"chosen-item":""}`)+" svelte-11j1xcl")},m(N,F){T(N,e,F),l(e,t),l(e,o),l(e,i),l(e,a),l(e,v),l(v,h),l(h,u),l(v,m),V&&V.m(v,null),T(N,C,F),D&&D.m(N,F),T(N,A,F),P||(w=[_e(e,"click",y),_e(e,"keydown",r[21])],P=!0)},p(N,F){var W,te,j,B,J,ee,be,oe,he;r=N,F[0]&32&&!Ne(t.src,s=(W=r[5][r[52]])!=null&&W.show_nft?(te=r[5][r[52]])==null?void 0:te.nft_image_url:(j=r[5][r[52]])!=null&&j.image_url&&((B=r[5][r[52]])==null?void 0:B.image_url)!=""?(J=r[5][r[52]])==null?void 0:J.image_url:ds)&&f(t,"src",s),F[0]&32&&p!==(p=((ee=r[5][r[52]])!=null&&ee.show_ens?(be=r[5][r[52]])==null?void 0:be.ens_name:(oe=r[5][r[52]])!=null&&oe.username&&((he=r[5][r[52]])==null?void 0:he.username)!=""?r[5][r[52]].username:"anon")+"")&&de(u,p),r[4][r[52]]&&r[4][r[52]]!=""?V?V.p(r,F):(V=as(r),V.c(),V.m(v,null)):V&&(V.d(1),V=null),F[0]&2056&&g!==(g=xt(`inbox-item ${r[11]==r[53]?"chosen-item":""}`)+" svelte-11j1xcl")&&f(e,"class",g),r[52]!=r[3].length-1?D||(D=os(),D.c(),D.m(A.parentNode,A)):D&&(D.d(1),D=null)},d(N){N&&n(e),V&&V.d(),N&&n(C),D&&D.d(N),N&&n(A),P=!1,et(w)}}}function jr(r){let e,t;return e=new Dr({props:{conversation:r[11]}}),{c(){St(e.$$.fragment)},l(s){At(e.$$.fragment,s)},m(s,o){$t(e,s,o),t=!0},p(s,o){const i={};o[0]&2048&&(i.conversation=s[11]),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Mt(e,s)}}}function qr(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w=r[6]&&r[8].length>0&&is(r);v=new vs({props:{alwaysVisible:!0,viewport:r[0],contents:r[1],vThumbOut:r[17],vTrackOut:r[17]}});function V($,k){return $[9].length>0?Ar:Sr}let y=V(r),D=y(r);return{c(){e=c("div"),t=c("div"),s=c("div"),o=c("div"),w&&w.c(),a=b(),St(v.$$.fragment),h=b(),p=c("div"),u=c("textarea"),m=b(),g=c("div"),D.c(),this.h()},l($){e=d($,"DIV",{class:!0});var k=_(e);t=d(k,"DIV",{class:!0});var I=_(t);s=d(I,"DIV",{class:!0,style:!0});var M=_(s);o=d(M,"DIV",{class:!0});var N=_(o);w&&w.l(N),N.forEach(n),M.forEach(n),a=E(I),At(v.$$.fragment,I),I.forEach(n),k.forEach(n),h=E($),p=d($,"DIV",{class:!0});var F=_(p);u=d(F,"TEXTAREA",{placeholder:!0,name:!0,rows:!0,maxlength:!0,class:!0}),_(u).forEach(n),m=E(F),g=d(F,"DIV",{class:!0});var W=_(g);D.l(W),W.forEach(n),F.forEach(n),this.h()},h(){f(o,"class","contents"),f(s,"class","viewport chat-viewport svelte-11j1xcl"),f(s,"style",i=`height:${r[12].toString()+"px"}`),f(t,"class","wrapper svelte-11j1xcl"),f(e,"class","chat-window svelte-11j1xcl"),f(u,"placeholder","Write a message..."),f(u,"name","message"),f(u,"rows",r[10]),f(u,"maxlength","1000"),f(u,"class","svelte-11j1xcl"),f(g,"class","send-button svelte-11j1xcl"),f(p,"class","input-field svelte-11j1xcl")},m($,k){T($,e,k),l(e,t),l(t,s),l(s,o),w&&w.m(o,null),r[27](o),r[28](s),l(t,a),$t(v,t,null),T($,h,k),T($,p,k),l(p,u),r[29](u),l(p,m),l(p,g),D.m(g,null),C=!0,A||(P=[_e(u,"input",r[14]),_e(g,"click",r[30]),_e(g,"keydown",r[18]),gs(Es.call(null,g,{code:"Enter"}))],A=!0)},p($,k){$[6]&&$[8].length>0?w?(w.p($,k),k[0]&320&&je(w,1)):(w=is($),w.c(),je(w,1),w.m(o,null)):w&&(ht(),Re(w,1,1,()=>{w=null}),pt()),(!C||k[0]&4096&&i!==(i=`height:${$[12].toString()+"px"}`))&&f(s,"style",i);const I={};k[0]&1&&(I.viewport=$[0]),k[0]&2&&(I.contents=$[1]),v.$set(I),(!C||k[0]&1024)&&f(u,"rows",$[10]),y!==(y=V($))&&(D.d(1),D=y($),D&&(D.c(),D.m(g,null)))},i($){C||(je(w),je(v.$$.fragment,$),C=!0)},o($){Re(w),Re(v.$$.fragment,$),C=!1},d($){$&&n(e),w&&w.d(),r[27](null),r[28](null),Mt(v),$&&n(h),$&&n(p),r[29](null),D.d(),A=!1,et(P)}}}function is(r){let e,t,s=r[8],o=[];for(let a=0;a<s.length;a+=1)o[a]=cs(ss(r,s,a));const i=a=>Re(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=Be()},l(a){for(let v=0;v<o.length;v+=1)o[v].l(a);e=Be()},m(a,v){for(let h=0;h<o.length;h+=1)o[h].m(a,v);T(a,e,v),t=!0},p(a,v){if(v[0]&256){s=a[8];let h;for(h=0;h<s.length;h+=1){const p=ss(a,s,h);o[h]?(o[h].p(p,v),je(o[h],1)):(o[h]=cs(p),o[h].c(),je(o[h],1),o[h].m(e.parentNode,e))}for(ht(),h=s.length;h<o.length;h+=1)i(h);pt()}},i(a){if(!t){for(let v=0;v<s.length;v+=1)je(o[v]);t=!0}},o(a){o=o.filter(Boolean);for(let v=0;v<o.length;v+=1)Re(o[v]);t=!1},d(a){mt(o,a),a&&n(e)}}}function cs(r){let e,t;return e=new Os({props:{message:r[50],index:r[52],array_length:r[8].length}}),{c(){St(e.$$.fragment)},l(s){At(e.$$.fragment,s)},m(s,o){$t(e,s,o),t=!0},p(s,o){const i={};o[0]&256&&(i.message=s[50]),o[0]&256&&(i.array_length=s[8].length),e.$set(i)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){Mt(e,s)}}}function Sr(r){let e,t;return{c(){e=c("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0}),this.h()},h(){Ne(e.src,t="/icons/message.svg")||f(e,"src",t),f(e,"alt","send")},m(s,o){T(s,e,o)},d(s){s&&n(e)}}}function Ar(r){let e,t;return{c(){e=c("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t="icons/loader.svg")||f(e,"src",t),f(e,"alt","loading"),f(e,"class","rotating")},m(s,o){T(s,e,o)},d(s){s&&n(e)}}}function $r(r){let e,t,s,o,i,a,v,h,p,u,m,g,C,A,P,w,V,y,D,$,k,I,M,N,F,W,te,j,B,J,ee,be,oe;const he=[Pr,Vr],Z=[];function Te(Y,le){return Y[3]&&Y[6]?0:1}u=Te(r),m=Z[u]=he[u](r);const ge=[qr,jr],H=[];function re(Y,le){return Y[2]=="messages"?0:Y[2]=="agreements"&&Y[11]!=null?1:-1}return~(B=re(r))&&(J=H[B]=ge[B](r)),{c(){e=c("div"),t=b(),s=c("main"),o=c("div"),i=b(),a=c("div"),v=c("div"),h=c("div"),p=c("div"),m.c(),C=b(),A=c("div"),P=b(),w=c("div"),V=c("div"),y=c("div"),D=c("p"),$=q("messages"),I=b(),M=c("div"),N=c("p"),F=q("agreements"),te=b(),j=c("div"),J&&J.c(),this.h()},l(Y){e=d(Y,"DIV",{style:!0}),_(e).forEach(n),t=E(Y),s=d(Y,"MAIN",{class:!0});var le=_(s);o=d(le,"DIV",{class:!0});var x=_(o);i=E(x),a=d(x,"DIV",{class:!0});var ke=_(a);v=d(ke,"DIV",{class:!0});var fe=_(v);h=d(fe,"DIV",{class:!0,style:!0});var U=_(h);p=d(U,"DIV",{class:!0});var Ee=_(p);m.l(Ee),Ee.forEach(n),U.forEach(n),fe.forEach(n),ke.forEach(n),x.forEach(n),C=E(le),A=d(le,"DIV",{style:!0}),_(A).forEach(n),P=E(le),w=d(le,"DIV",{class:!0});var K=_(w);V=d(K,"DIV",{class:!0});var ne=_(V);y=d(ne,"DIV",{class:!0});var Ie=_(y);D=d(Ie,"P",{class:!0});var we=_(D);$=S(we,"messages"),we.forEach(n),Ie.forEach(n),I=E(ne),M=d(ne,"DIV",{class:!0});var G=_(M);N=d(G,"P",{class:!0});var pe=_(N);F=S(pe,"agreements"),pe.forEach(n),G.forEach(n),ne.forEach(n),te=E(K),j=d(K,"DIV",{class:!0});var X=_(j);J&&J.l(X),X.forEach(n),K.forEach(n),le.forEach(n),this.h()},h(){ve(e,"height","16px"),f(p,"class","contents inbox-contents svelte-11j1xcl"),f(h,"class","viewport inbox-viewport svelte-11j1xcl"),f(h,"style",g=`height:${r[13].toString()+"px"}`),f(v,"class","inbox-wrapper svelte-11j1xcl"),f(a,"class","inbox-window svelte-11j1xcl"),f(o,"class","inbox svelte-11j1xcl"),ve(A,"width","12px"),f(D,"class",k=xt(`${r[2]=="messages"?"yellow":"light-60"}`)+" svelte-11j1xcl"),f(y,"class","tab-bar-item svelte-11j1xcl"),f(N,"class",W=xt(`${r[2]=="agreements"?"yellow":"light-60"}`)+" svelte-11j1xcl"),f(M,"class","tab-bar-item svelte-11j1xcl"),f(V,"class","tab-bar svelte-11j1xcl"),f(j,"class","sections-container svelte-11j1xcl"),f(w,"class","chat svelte-11j1xcl"),f(s,"class","svelte-11j1xcl")},m(Y,le){T(Y,e,le),T(Y,t,le),T(Y,s,le),l(s,o),l(o,i),l(o,a),l(a,v),l(v,h),l(h,p),Z[u].m(p,null),r[23](p),r[24](h),l(s,C),l(s,A),l(s,P),l(s,w),l(w,V),l(V,y),l(y,D),l(D,$),l(V,I),l(V,M),l(M,N),l(N,F),l(w,te),l(w,j),~B&&H[B].m(j,null),ee=!0,be||(oe=[_e(y,"click",r[25]),_e(y,"keydown",r[20]),_e(M,"click",r[26]),_e(M,"keydown",r[19])],be=!0)},p(Y,le){let x=u;u=Te(Y),u===x?Z[u].p(Y,le):(ht(),Re(Z[x],1,1,()=>{Z[x]=null}),pt(),m=Z[u],m?m.p(Y,le):(m=Z[u]=he[u](Y),m.c()),je(m,1),m.m(p,null)),(!ee||le[0]&8192&&g!==(g=`height:${Y[13].toString()+"px"}`))&&f(h,"style",g),(!ee||le[0]&4&&k!==(k=xt(`${Y[2]=="messages"?"yellow":"light-60"}`)+" svelte-11j1xcl"))&&f(D,"class",k),(!ee||le[0]&4&&W!==(W=xt(`${Y[2]=="agreements"?"yellow":"light-60"}`)+" svelte-11j1xcl"))&&f(N,"class",W);let ke=B;B=re(Y),B===ke?~B&&H[B].p(Y,le):(J&&(ht(),Re(H[ke],1,1,()=>{H[ke]=null}),pt()),~B?(J=H[B],J?J.p(Y,le):(J=H[B]=ge[B](Y),J.c()),je(J,1),J.m(j,null)):J=null)},i(Y){ee||(je(m),je(J),ee=!0)},o(Y){Re(m),Re(J),ee=!1},d(Y){Y&&n(e),Y&&n(t),Y&&n(s),Z[u].d(),r[23](null),r[24](null),~B&&H[B].d(),be=!1,et(oe)}}}let ds="assets/xcopy.gif";function Mr(r,e,t){let s,o,i;Qe(r,bs,G=>t(34,s=G)),Qe(r,Pl,G=>t(35,o=G)),Qe(r,rl,G=>t(36,i=G));let a,v,h=new Array,p=new Array,u=new Array,m=!1,g,C=new Array,A="",P=1,w,V=!1,y,D,$="messages";ms(()=>{y&&y.return(),D&&D.return()}),fs(async()=>{ws&&!m&&(await W(),$=="messages"&&F("auto"))});let k=0,I=0;const M=G=>G.split(":").slice(1,G.length).join(":"),N=()=>{t(10,P=g.value.split(/\r\n|\r|\n/).length)},F=G=>{a&&v&&a.scroll({top:v.clientHeight,behavior:G})},W=async()=>{if(s){const G=`${Ke}/api/conversation/${i}`,X=await(await fetch(G)).json();if(o.address!=""&&(await j(),Pl.set({title:"",address:""})),t(3,h=await s.conversations.list()),t(3,h=h==null?void 0:h.filter(ie=>{var Q;return((Q=ie.context)==null?void 0:Q.conversationId)&&ie.context.conversationId.startsWith("honestwork.app/")})),(h==null?void 0:h.length)>0&&(t(3,h=h==null?void 0:h.filter(ie=>X==null?void 0:X.find(Q=>Q.matched_user==ie.peerAddress))),t(3,h=h==null?void 0:h.filter(ie=>X.find(Q=>Q.muted==!1))),(h==null?void 0:h.length)>0)){await te(h);for await(const ie of h)u.push(await he(ie.peerAddress));t(5,u),B(h[h.length-1])}}t(6,m=!0)},te=async G=>{let pe=0;for await(const X of G){let ie=await J(X);V||(be(X),oe()),t(4,p[pe]=ie,p),pe++}t(4,p)},j=async()=>{const G=await s.conversations.newConversation(o.address,{conversationId:"honestwork.app/conversations",metadata:{title:o.title}});return h.push(G),B(h[h.length-1]),G},B=async G=>{t(11,w=G),ee(G),F("auto")},J=async G=>{let pe,X=await G.messages();if(X.length==0)return"No messages yet...";let ie=X[X.length-1].content;return console.log(ie),ie.startsWith("Meta:")?(pe=JSON.parse(M(ie)),`[${pe.type}]`):ie.slice(0,30)+"..."},ee=async G=>{let pe=await G.messages();t(8,C=pe)},be=async G=>{y=await G.streamMessages();for await(const pe of y)V=!0,C.push(pe),t(8,C),te(h)},oe=async()=>{D=await s.conversations.stream();for await(const G of D)h.push(G),t(3,h)},he=async G=>{let X=await(await fetch(`/api/user/${G}`)).json();if(X.show_nft){let ie=await Te(X.nft_address,X.nft_id);X.nft_image_url=ie}return X},Z=async G=>{t(9,A=g.value);let pe=g.value;t(7,g.value="",g),await G.send(pe),t(9,A=""),F("auto")},Te=async(G,pe)=>{try{const X=await fetch(`api/alchemy/${G}/${pe}`);if(X.ok)return(await X.json()).image}catch(X){console.log(X)}},ge=G=>_s(G,{duration:0});function H(G){Xe.call(this,r,G)}function re(G){Xe.call(this,r,G)}function Y(G){Xe.call(this,r,G)}function le(G){Xe.call(this,r,G)}const x=G=>B(G);function ke(G){Yt[G?"unshift":"push"](()=>{v=G,t(1,v)})}function fe(G){Yt[G?"unshift":"push"](()=>{a=G,t(0,a)})}const U=()=>t(2,$="messages"),Ee=()=>t(2,$="agreements");function K(G){Yt[G?"unshift":"push"](()=>{v=G,t(1,v)})}function ne(G){Yt[G?"unshift":"push"](()=>{a=G,t(0,a)})}function Ie(G){Yt[G?"unshift":"push"](()=>{g=G,t(7,g)})}const we=()=>Z(w);return r.$$.update=()=>{r.$$.dirty[0]&7&&$=="messages"&&a&&v&&F("auto")},t(12,k=window.innerHeight-197),t(13,I=window.innerHeight-128),[a,v,$,h,p,u,m,g,C,A,P,w,k,I,N,B,Z,ge,H,re,Y,le,x,ke,fe,U,Ee,K,ne,Ie,we]}class Jr extends tl{constructor(e){super(),ll(this,e,Mr,$r,dl,{},null,[-1,-1])}}export{Jr as default};
